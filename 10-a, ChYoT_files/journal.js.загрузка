!function(e){function t(t){for(var r,i,l=t[0],s=t[1],u=t[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(c&&c(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={13:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/client/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;o.push([1436,0]),n()}({1050:function(e,t,n){e.exports={container:"_3fUFq"}},1051:function(e,t,n){e.exports={content:"_2yPIl"}},1052:function(e,t,n){e.exports={content:"_2DcIy"}},1053:function(e,t,n){const r=[];r.push(n(320)),r.push(n(1438)),r.push(n(712));const a=[],o=["mosreg","kz"]||!1;r.forEach(e=>{e.keys().forEach(t=>{const n=/\.(?:(\w*)\.)?(ru-RU|en-US|kk-KZ|uz-Latn-UZ|uz-Cyrl-UZ|fr-CD)\.ftl$/.exec(t);n&&n.length>=3&&(!n[1]||o.includes(n[1]))&&a.push({conf:n[1],locale:n[2],content:e(t)})})}),e.exports=a},115:function(e,t,n){"use strict";var r=n(0),a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],o=arguments[3],i=Object(r.useState)({value:void 0,error:void 0,isPending:t}),l=a(i,2),s=l[0],u=l[1],c=Object(r.useRef)(void 0),d=Object(r.useCallback)((function(){u({value:void 0,error:void 0,isPending:!0});var t=Date.now();return c.current=t,e.apply(void 0,arguments).then((function(e){t===c.current&&(u({value:e,error:void 0,isPending:!1}),o&&o(e))})).catch((function(e){t===c.current&&(u({value:void 0,error:e,isPending:!1}),n&&n(e))}))}),[e,n,o]);Object(r.useEffect)((function(){t&&d()}),[d,t]);var p=s.isPending,m=s.value,f=s.error;return{execute:d,isPending:p,value:m,error:f}}},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){try{window.require(["analytics/yaMetrikaTracker"],(function(t){t&&t.reachGoal?t.reachGoal({target:e}):console.warn("Yandex metrika not sent, maybe dnevnikSettings.analytics.yandex is undefined")}))}catch(e){}},a=function(e){try{window.require(["analytics/yaMetrikaTracker"],(function(t){t&&t.params?t.params(e):console.warn("Yandex metrika not sent, maybe dnevnikSettings.analytics.yandex is undefined")}))}catch(e){}}},124:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"r",(function(){return i})),n.d(t,"k",(function(){return l})),n.d(t,"t",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"u",(function(){return c})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"w",(function(){return f})),n.d(t,"x",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"j",(function(){return k})),n.d(t,"d",(function(){return y})),n.d(t,"o",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"s",(function(){return j})),n.d(t,"f",(function(){return E})),n.d(t,"y",(function(){return C})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return O})),n.d(t,"q",(function(){return x})),n.d(t,"v",(function(){return T}));var r=n(0),a=n.n(r),o=function(){return a.a.createElement("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9.52776 10.2114C9.39254 10.151 9.24525 10.1094 9.12512 10.0273C8.47618 9.58781 7.83267 9.1411 7.19158 8.69137C7.08655 8.61773 7.02739 8.6292 6.94348 8.72397C6.51005 9.21294 6.06998 9.69526 5.63112 10.1794C5.51461 10.308 5.3806 10.4028 5.19527 10.3557C5.01115 10.3086 4.91396 10.1752 4.90068 9.9488C4.86205 9.27089 4.82764 8.59298 4.79082 7.91567C4.77814 7.67963 4.75943 7.44421 4.74977 7.20817C4.74554 7.1134 4.70812 7.06933 4.61455 7.04156C3.55633 6.72524 2.49931 6.40349 1.4423 6.08355C1.11089 5.98334 0.778269 5.88615 0.448066 5.77991C0.18668 5.696 0.0134285 5.45514 0.000751597 5.17685C-0.012529 4.89433 0.151064 4.63355 0.422108 4.52308C1.45799 4.09931 2.49509 3.67795 3.53218 3.25599C4.99667 2.66018 6.46115 2.06436 7.92624 1.46854C9.10278 0.990444 10.2787 0.510532 11.4565 0.0360526C11.771 -0.0907166 12.0517 0.132035 11.9919 0.466464C11.8851 1.06469 11.7637 1.66051 11.6472 2.25753C11.4969 3.0266 11.346 3.79627 11.1951 4.56534C11.0442 5.3344 10.8926 6.10347 10.7417 6.87254C10.5908 7.6416 10.4405 8.41127 10.289 9.18034C10.254 9.35782 10.2232 9.5365 10.1743 9.71036C10.097 9.98382 9.82476 10.1806 9.52776 10.2114ZM10.9409 1.70035C10.8788 1.7571 10.8383 1.7915 10.8003 1.82833C10.2002 2.40784 9.6008 2.98796 9.00076 3.56808C7.94979 4.58465 6.89941 5.60243 5.84662 6.61719C5.75728 6.70291 5.73977 6.7512 5.85749 6.83209C7.02014 7.63194 8.17978 8.43602 9.33821 9.24131C9.43238 9.30651 9.47705 9.30107 9.5006 9.18215C9.61891 8.57064 9.74085 7.95973 9.86038 7.34822C10.0511 6.3721 10.2401 5.39537 10.4314 4.41925C10.5999 3.56144 10.7713 2.70424 10.9397 1.84644C10.947 1.81082 10.9409 1.77219 10.9409 1.70035ZM1.05535 5.1026C1.06018 5.12131 1.06501 5.14002 1.07044 5.15874C1.36262 5.24687 1.65418 5.33561 1.94636 5.42375C2.91282 5.71592 3.87989 6.00568 4.84515 6.30207C4.96045 6.33769 5.03771 6.32683 5.12706 6.2405C6.72193 4.69271 8.31923 3.14854 9.91592 1.60316C9.9461 1.57419 9.97206 1.53978 9.99982 1.50778C9.99198 1.49511 9.98413 1.48243 9.97628 1.47036C7.00203 2.6813 4.02839 3.89225 1.05535 5.1026ZM5.59912 7.5921C5.58282 7.59935 5.56592 7.60599 5.54962 7.61323C5.57256 8.06477 5.5955 8.51631 5.61844 8.96845C5.63534 8.97087 5.65285 8.97328 5.66975 8.9757C5.89492 8.7282 6.12189 8.48251 6.34163 8.23078C6.36155 8.20784 6.35611 8.12393 6.33378 8.10823C6.09292 7.93136 5.84542 7.76234 5.59912 7.5921Z",fill:"#2F80ED"}))},i=function(){return a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8 0.5C12.1421 0.5 15.5 3.85786 15.5 8C15.5 12.1421 12.1421 15.5 8 15.5C3.85786 15.5 0.5 12.1421 0.5 8C0.5 3.85786 3.85786 0.5 8 0.5ZM8 1.75C4.54822 1.75 1.75 4.54822 1.75 8C1.75 11.4518 4.54822 14.25 8 14.25C11.4518 14.25 14.25 11.4518 14.25 8C14.25 4.54822 11.4518 1.75 8 1.75ZM8 11.125C8.51777 11.125 8.9375 11.5447 8.9375 12.0625C8.9375 12.5803 8.51777 13 8 13C7.48223 13 7.0625 12.5803 7.0625 12.0625C7.0625 11.5447 7.48223 11.125 8 11.125ZM8 3.625C9.38071 3.625 10.5 4.74429 10.5 6.125C10.5 7.03817 10.2353 7.54961 9.55756 8.25988L9.22745 8.59682C8.75564 9.08877 8.625 9.35388 8.625 9.875C8.625 10.2202 8.34518 10.5 8 10.5C7.65482 10.5 7.375 10.2202 7.375 9.875C7.375 8.96183 7.63972 8.45039 8.31744 7.74012L8.64755 7.40318C9.11936 6.91122 9.25 6.64612 9.25 6.125C9.25 5.43464 8.69036 4.875 8 4.875C7.30964 4.875 6.75 5.43464 6.75 6.125C6.75 6.47018 6.47018 6.75 6.125 6.75C5.77982 6.75 5.5 6.47018 5.5 6.125C5.5 4.74429 6.61929 3.625 8 3.625Z",fill:"#2F80ED"}))},l=function(){return a.a.createElement("svg",{width:"5",height:"10",viewBox:"0 0 5 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M4.81953 8.46846C4.93514 8.60047 5 8.77874 5 8.96451C5 9.15028 4.93514 9.32855 4.81953 9.46056C4.76275 9.52573 4.69508 9.57749 4.62045 9.61282C4.54581 9.64815 4.46571 9.66634 4.3848 9.66634C4.30389 9.66634 4.22378 9.64815 4.14915 9.61282C4.07452 9.57749 4.00684 9.52573 3.95007 9.46056L0.51352 5.49623C0.398064 5.36392 0.333333 5.18553 0.333333 4.99968C0.333333 4.81382 0.398064 4.63543 0.51352 4.50312L3.95007 0.538794C4.00685 0.473619 4.07452 0.42186 4.14915 0.386531C4.22379 0.351202 4.30389 0.333008 4.3848 0.333008C4.46571 0.333008 4.54581 0.351202 4.62045 0.386531C4.69508 0.42186 4.76275 0.473619 4.81953 0.538794C4.93514 0.670804 5 0.84907 5 1.03484C5 1.22062 4.93514 1.39888 4.81953 1.53089L2.0012 5.0012L4.81953 8.46846Z",fill:"#2F80ED"}))},s=function(){return a.a.createElement("svg",{width:"5",height:"10",viewBox:"0 0 5 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0.180471 1.53154C0.0648559 1.39953 -3.69174e-07 1.22126 -3.77295e-07 1.03549C-3.85415e-07 0.84972 0.0648559 0.671454 0.180471 0.539444C0.237245 0.474269 0.304918 0.422509 0.379551 0.38718C0.454185 0.351851 0.534288 0.333657 0.6152 0.333657C0.696111 0.333657 0.776214 0.351851 0.850848 0.38718C0.925481 0.422509 0.993154 0.474269 1.04993 0.539444L4.48648 4.50377C4.60194 4.63608 4.66667 4.81447 4.66667 5.00032C4.66667 5.18618 4.60194 5.36457 4.48648 5.49688L1.04993 9.46121C0.993155 9.52638 0.925482 9.57814 0.850848 9.61347C0.776215 9.6488 0.696112 9.66699 0.6152 9.66699C0.534288 9.66699 0.454185 9.6488 0.379552 9.61347C0.304918 9.57814 0.237245 9.52638 0.180472 9.46121C0.0648563 9.3292 -2.25578e-08 9.15093 -3.06782e-08 8.96516C-3.87986e-08 8.77938 0.0648562 8.60112 0.180472 8.46911L2.9988 4.9988L0.180471 1.53154Z",fill:"#2F80ED"}))},u=function(){return a.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.504227 5.41256C0.276423 5.18476 0.276423 4.8154 0.504227 4.58761L4.00423 1.0876C4.23202 0.859797 4.60139 0.859797 4.82918 1.0876C5.05697 1.31541 5.05697 1.68475 4.82918 1.91256L1.74166 5.00008L4.82918 8.08761C5.05697 8.3154 5.05697 8.68476 4.82918 8.91256C4.60139 9.14035 4.23202 9.14035 4.00423 8.91256L0.504227 5.41256ZM8.6709 8.91256L5.1709 5.41256C4.94311 5.18476 4.94311 4.8154 5.1709 4.58761L8.6709 1.0876C8.89869 0.859797 9.26806 0.859797 9.49585 1.0876C9.72364 1.31541 9.72364 1.68475 9.49585 1.91256L6.40832 5.00008L9.49585 8.08761C9.72364 8.3154 9.72364 8.68476 9.49585 8.91256C9.26806 9.14035 8.89869 9.14035 8.6709 8.91256Z",fill:"white"}))},c=function(){return a.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.49577 4.58744C9.72358 4.81524 9.72358 5.1846 9.49577 5.41239L5.99577 8.9124C5.76798 9.1402 5.39861 9.1402 5.17082 8.9124C4.94303 8.68459 4.94303 8.31525 5.17082 8.08744L8.25834 4.99992L5.17082 1.91239C4.94303 1.6846 4.94303 1.31524 5.17082 1.08744C5.39861 0.859652 5.76798 0.859652 5.99577 1.08744L9.49577 4.58744ZM1.3291 1.08744L4.8291 4.58744C5.05689 4.81524 5.05689 5.1846 4.8291 5.41239L1.3291 8.9124C1.10131 9.1402 0.731942 9.1402 0.50415 8.9124C0.276359 8.68459 0.276359 8.31525 0.50415 8.08744L3.59168 4.99992L0.504151 1.91239C0.276359 1.6846 0.276359 1.31523 0.504151 1.08744C0.731943 0.859652 1.10131 0.859652 1.3291 1.08744Z",fill:"white"}))},d=function(){return a.a.createElement("svg",{width:"14",height:"10",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M6.5 0C7.32843 0 8 0.67157 8 1.5V6.5C8 7.3284 7.32843 8 6.5 8H1.5C0.67157 8 0 7.3284 0 6.5V1.5C0 0.67157 0.67157 0 1.5 0H6.5ZM11.2484 0.17778C11.5561 0.00182323 11.9332 0.193211 11.9895 0.52566L11.9967 0.61158L11.9996 7.388C11.9998 7.74246 11.6463 7.97491 11.3297 7.85874L11.2515 7.8223L9.0003 6.5359V1.46373L11.2484 0.17778Z",fill:"#9CA7B5"}))},p=function(){return a.a.createElement("svg",{width:"14",height:"10",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M6.5 0C7.32843 0 8 0.67157 8 1.5V6.5C8 7.3284 7.32843 8 6.5 8H1.5C0.67157 8 0 7.3284 0 6.5V1.5C0 0.67157 0.67157 0 1.5 0H6.5ZM11.2484 0.17778C11.5561 0.00182323 11.9332 0.193211 11.9895 0.52566L11.9967 0.61158L11.9996 7.388C11.9998 7.74246 11.6463 7.97491 11.3297 7.85874L11.2515 7.8223L9.0003 6.5359V1.46373L11.2484 0.17778Z",fill:"#2F80ED"}))},m=function(){return a.a.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M12.153 0.547401C10.6241 0.0701414 9.21944 0.394834 8.09 1.48823C5.84299 3.66328 3.50819 5.96939 1.15161 8.34199C0.309975 9.18958 0.112603 10.2386 0.582599 11.3764C0.948959 12.2631 1.70148 12.8812 2.64741 13.0729C3.58609 13.2632 4.55645 12.9764 5.24296 12.3068C6.53413 11.0471 7.83652 9.75682 9.09666 8.50955C9.62079 7.99057 10.1449 7.47158 10.6697 6.95325C10.7707 6.85349 10.8724 6.75504 10.9747 6.65594C11.2255 6.41274 11.4843 6.16172 11.7226 5.90158C12.0566 5.53777 12.2071 5.04812 12.1365 4.55912C12.0671 4.07925 11.7919 3.66133 11.382 3.41292C10.6994 2.9989 9.8505 3.10517 9.26961 3.67763C7.79823 5.12766 6.32817 6.5803 4.85877 8.0323L3.394 9.47972C3.36693 9.50646 3.34119 9.53188 3.32204 9.55927C3.20389 9.72748 3.19596 9.89504 3.29696 10.0711C3.38607 10.2263 3.57024 10.3078 3.7663 10.2791C3.90096 10.2595 3.99535 10.1754 4.08843 10.0841C6.01264 8.18291 7.93817 6.28299 9.86371 4.38243L9.88549 4.36092C9.93368 4.31332 9.98319 4.26442 10.0386 4.22204C10.2353 4.07273 10.4934 4.02905 10.7304 4.10599C10.9621 4.18097 11.1338 4.35374 11.2011 4.57999C11.2882 4.87338 11.209 5.13549 10.9595 5.38129C10.0109 6.31559 9.06366 7.25121 8.11706 8.18682C7.54805 8.74884 6.97838 9.31151 6.40937 9.87288C6.23906 10.0404 6.07007 10.2093 5.90108 10.3782C5.45815 10.8202 5.00004 11.2773 4.53136 11.7082C4.0112 12.1862 3.36231 12.3224 2.65534 12.102C2.00117 11.8986 1.51467 11.3907 1.35294 10.7439C1.18792 10.0815 1.38859 9.38844 1.89027 8.88967C3.92736 6.86523 6.30111 4.51022 8.68079 2.18717C9.298 1.58472 10.0241 1.27829 10.8162 1.27829C11.1404 1.27829 11.475 1.32979 11.8183 1.43281C12.8844 1.75294 13.6811 2.57641 13.9498 3.63459C14.2237 4.71299 13.9049 5.83312 13.0982 6.63246C11.7028 8.01404 10.3053 9.39366 8.90787 10.7733C8.20882 11.4631 7.51042 12.1529 6.81203 12.8427C6.5909 13.0611 6.56911 13.3376 6.75856 13.5306C6.8457 13.6186 6.95395 13.6662 7.07211 13.6668C7.20479 13.6662 7.3421 13.6075 7.45366 13.4973L8.50587 12.4593C10.238 10.7505 12.0289 8.9829 13.7874 7.24208C14.5716 6.46621 14.9795 5.50321 15 4.37852C14.9927 4.14771 14.9848 3.90974 14.9366 3.67828C14.6 2.07242 13.6633 1.01879 12.153 0.547401Z",fill:"#9CA7B5"}))},f=function(){return a.a.createElement("svg",{width:"16",height:"15",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fill:"#9CA7B5",d:"M16,9.7c-3.5,0-6.3,2.8-6.3,6.3s2.8,6.3,6.3,6.3s6.3-2.8,6.3-6.3S19.5,9.7,16,9.7z M16,20.2 c-2.3,0-4.2-1.9-4.2-4.2s1.9-4.2,4.2-4.2s4.2,1.9,4.2,4.2S18.3,20.2,16,20.2z"}),a.a.createElement("path",{fill:"#9CA7B5",d:"M16,5.5c-6.8,0-13,3.9-15.9,10c-0.1,0.3-0.1,0.6,0,0.9c2.9,6.1,9.1,10,15.9,10s13-3.9,15.9-10 c0.1-0.3,0.1-0.6,0-0.9C29,9.4,22.8,5.5,16,5.5z M16,24.4c-5.8,0-11.1-3.3-13.7-8.4c2.6-5.1,8-8.4,13.7-8.4s11.1,3.3,13.7,8.4 C27.1,21.1,21.8,24.4,16,24.4z"}),a.a.createElement("rect",{fill:"none",width:"32",height:"32"}))},h=function(){return a.a.createElement("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8.86472 0.160429C7.71811 -0.197516 6.66458 0.0460038 5.8175 0.866049C4.13225 2.49734 2.38115 4.22692 0.613708 6.00637C-0.0175191 6.64207 -0.165548 7.42886 0.186949 8.28216C0.461719 8.94719 1.02611 9.41076 1.73556 9.55452C2.43957 9.69731 3.16733 9.48215 3.68222 8.97995C4.65059 8.03522 5.62739 7.06749 6.5725 6.13204C6.96559 5.7428 7.35868 5.35356 7.75227 4.96481C7.82802 4.88999 7.90426 4.81616 7.981 4.74183C8.16913 4.55943 8.3632 4.37117 8.54193 4.17606C8.79244 3.9032 8.90531 3.53597 8.85234 3.16922C8.80036 2.80932 8.59391 2.49587 8.28646 2.30956C7.77455 1.99905 7.13788 2.07876 6.70221 2.5081C5.59867 3.59562 4.49613 4.68511 3.39408 5.7741L2.2955 6.85967C2.2752 6.87972 2.25589 6.89879 2.24153 6.91933C2.15291 7.04549 2.14697 7.17116 2.22272 7.30319C2.28956 7.41957 2.42768 7.48069 2.57472 7.45918C2.67572 7.44451 2.74651 7.38143 2.81632 7.31297C4.25948 5.88706 5.70363 4.46212 7.14778 3.0367L7.16412 3.02056C7.20026 2.98487 7.23739 2.94819 7.27898 2.91641C7.42651 2.80443 7.62009 2.77167 7.79782 2.82937C7.97159 2.8856 8.10031 3.01519 8.15081 3.18487C8.21616 3.40492 8.15675 3.60149 7.96961 3.78584C7.25818 4.48657 6.54774 5.18828 5.8378 5.88999C5.41104 6.31151 4.98378 6.73351 4.55702 7.15453C4.42929 7.28021 4.30255 7.40686 4.17581 7.53351C3.84361 7.86504 3.50003 8.20783 3.14852 8.53106C2.7584 8.88949 2.27173 8.99169 1.7415 8.82641C1.25088 8.67384 0.886003 8.29292 0.764708 7.80783C0.640938 7.31101 0.791442 6.79121 1.1677 6.41713C2.69552 4.8988 4.47583 3.13254 6.2606 1.39025C6.7235 0.938421 7.26808 0.708593 7.86218 0.708593C8.10526 0.708593 8.35627 0.747223 8.61371 0.824485C9.41327 1.06458 10.0108 1.68218 10.2123 2.47582C10.4178 3.28462 10.1787 4.12472 9.57367 4.72423C8.52707 5.76041 7.47899 6.79512 6.4309 7.82984C5.90661 8.34719 5.38282 8.86455 4.85902 9.38191C4.69317 9.54572 4.67683 9.75306 4.81892 9.8978C4.88427 9.96381 4.96547 9.99951 5.05408 10C5.1536 9.99951 5.25657 9.9555 5.34024 9.87286L6.1294 9.09438C7.42849 7.81272 8.77164 6.48705 10.0905 5.18144C10.6787 4.59953 10.9847 3.87728 11 3.03377C10.9946 2.86066 10.9886 2.68218 10.9525 2.50859C10.7 1.30419 9.99746 0.513973 8.86472 0.160429Z",fill:"#2F80ED"}))},g=function(){return a.a.createElement("svg",{width:"19",height:"17",viewBox:"0 0 19 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M15.4413 0.433885C13.5303 -0.162689 11.7744 0.243177 10.3626 1.60992C7.55382 4.32874 4.63532 7.21137 1.6896 10.1771C0.637549 11.2366 0.390834 12.5479 0.97833 13.9701C1.43628 15.0785 2.37693 15.8511 3.55935 16.0907C4.73269 16.3287 5.94564 15.9701 6.80378 15.1331C8.41774 13.5585 10.0457 11.9457 11.6209 10.3866C12.2761 9.73784 12.9312 9.08911 13.5872 8.44119C13.7134 8.3165 13.8405 8.19343 13.9684 8.06955C14.282 7.76556 14.6054 7.45179 14.9033 7.12661C15.3208 6.67184 15.5089 6.05978 15.4207 5.44854C15.334 4.8487 14.9899 4.32629 14.4775 4.01578C13.6243 3.49826 12.5632 3.6311 11.8371 4.34667C9.99787 6.15921 8.1603 7.97501 6.32355 9.79L4.49258 11.5993C4.45875 11.6327 4.42656 11.6645 4.40264 11.6987C4.25494 11.909 4.24504 12.1184 4.37128 12.3385C4.48267 12.5325 4.71289 12.6343 4.95795 12.5985C5.12628 12.574 5.24427 12.4689 5.36062 12.3548C7.76588 9.97827 10.1728 7.60338 12.5797 5.22767L12.6069 5.20078C12.6672 5.14128 12.7291 5.08016 12.7984 5.02718C13.0443 4.84055 13.3669 4.78595 13.6631 4.88212C13.9527 4.97584 14.1673 5.19181 14.2514 5.47462C14.3604 5.84136 14.2613 6.16899 13.9494 6.47624C12.7637 7.64413 11.5797 8.81364 10.3964 9.98316C9.68514 10.6857 8.97305 11.389 8.26179 12.0907C8.0489 12.3002 7.83767 12.5113 7.62644 12.7223C7.07277 13.2749 6.50013 13.8462 5.91428 14.3849C5.26408 14.9823 4.45297 15.1527 3.56925 14.8772C2.75154 14.6229 2.14342 13.988 1.94126 13.1796C1.73498 12.3515 1.98582 11.4852 2.61292 10.8617C5.15928 8.33117 8.12647 5.38741 11.1011 2.48359C11.8726 1.73054 12.7802 1.34749 13.7704 1.34749C14.1755 1.34749 14.5939 1.41188 15.0229 1.54065C16.3555 1.94081 17.3515 2.97014 17.6873 4.29288C18.0297 5.64087 17.6312 7.04103 16.6229 8.04021C14.8785 9.76718 13.1317 11.4917 11.3849 13.2162C10.5111 14.0785 9.63811 14.9408 8.76512 15.803C8.4887 16.076 8.46147 16.4216 8.69828 16.6628C8.8072 16.7729 8.94252 16.8324 9.09022 16.8332C9.25607 16.8324 9.4277 16.759 9.56715 16.6213L10.8824 15.3238C13.0476 13.1877 15.2862 10.9783 17.4843 8.80223C18.4646 7.83239 18.9745 6.62865 19.0001 5.22278C18.991 4.93428 18.9811 4.6368 18.9209 4.34748C18.5001 2.34015 17.3292 1.02313 15.4413 0.433885Z",fill:"#2F80ED"}))},v=function(){return a.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M1 9L9 1M1 1L9 9",stroke:"#C7D0DA",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},b=function(){return a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8 0C3.58187 0 0 3.58187 0 8C0 12.4181 3.58187 16 8 16C12.4181 16 16 12.4181 16 8C16 3.58187 12.4181 0 8 0ZM8 14.9333C4.17707 14.9333 1.06667 11.8229 1.06667 8C1.06667 4.17707 4.17707 1.06667 8 1.06667C11.8229 1.06667 14.9333 4.17707 14.9333 8C14.9333 11.8229 11.8229 14.9333 8 14.9333ZM12.2667 7.46667H8.53333V3.73333C8.53333 3.59188 8.47714 3.45623 8.37712 3.35621C8.27711 3.25619 8.14145 3.2 8 3.2C7.85855 3.2 7.7229 3.25619 7.62288 3.35621C7.52286 3.45623 7.46667 3.59188 7.46667 3.73333V7.46667H3.73333C3.59188 7.46667 3.45623 7.52286 3.35621 7.62288C3.25619 7.7229 3.2 7.85855 3.2 8C3.2 8.14145 3.25619 8.27711 3.35621 8.37712C3.45623 8.47714 3.59188 8.53333 3.73333 8.53333H7.46667V12.2667C7.46667 12.4081 7.52286 12.5438 7.62288 12.6438C7.7229 12.7438 7.85855 12.8 8 12.8C8.14145 12.8 8.27711 12.7438 8.37712 12.6438C8.47714 12.5438 8.53333 12.4081 8.53333 12.2667V8.53333H12.2667C12.4081 8.53333 12.5438 8.47714 12.6438 8.37712C12.7438 8.27711 12.8 8.14145 12.8 8C12.8 7.85855 12.7438 7.7229 12.6438 7.62288C12.5438 7.52286 12.4081 7.46667 12.2667 7.46667Z",fill:"#2F80ED"}))},k=function(){return a.a.createElement("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("rect",{y:"0.54541",width:"20",height:"20",rx:"3.33333",fill:"#2F80ED"}),a.a.createElement("path",{d:"M6.11622 10.4863L5.97263 10.6287H6.17491H14.1666C14.4097 10.6287 14.6429 10.5322 14.8148 10.3603C14.9867 10.1883 15.0832 9.95519 15.0832 9.71208V6.37874C15.0832 6.17983 15.1623 5.98907 15.3029 5.84841C15.4436 5.70776 15.6343 5.62874 15.8332 5.62874C16.0322 5.62874 16.2229 5.70776 16.3636 5.84841C16.5042 5.98907 16.5832 6.17983 16.5832 6.37874V9.71208C16.5832 10.353 16.3286 10.9677 15.8754 11.4209C15.4222 11.8741 14.8075 12.1287 14.1666 12.1287H6.17491H5.97263L6.11622 12.2712L7.19955 13.3462L7.19956 13.3462C7.26986 13.416 7.32566 13.4989 7.36373 13.5903C7.40181 13.6817 7.42141 13.7797 7.42141 13.8787C7.42141 13.9778 7.40181 14.0758 7.36373 14.1672C7.32566 14.2586 7.26986 14.3415 7.19956 14.4112L7.19908 14.4117C7.12936 14.482 7.04641 14.5378 6.95501 14.5759C6.86362 14.614 6.76559 14.6336 6.66658 14.6336C6.56757 14.6336 6.46954 14.614 6.37815 14.5759C6.28675 14.5378 6.2038 14.482 6.13408 14.4117L6.13384 14.4115L3.6345 11.9121C3.56651 11.841 3.5132 11.7571 3.47761 11.6653L3.47763 11.6653L3.477 11.6637C3.40198 11.4811 3.40198 11.2763 3.477 11.0937L3.47701 11.0937L3.47761 11.0922C3.5132 11.0004 3.56651 10.9165 3.6345 10.8453L6.13384 8.346C6.27513 8.20471 6.46676 8.12533 6.66658 8.12533C6.8664 8.12533 7.05803 8.20471 7.19932 8.346C7.34061 8.48729 7.41999 8.67893 7.41999 8.87874C7.41999 9.07851 7.34065 9.2701 7.19942 9.41138C7.19939 9.41142 7.19936 9.41145 7.19932 9.41148L6.11622 10.4863Z",fill:"white",stroke:"#2F80ED",strokeWidth:"0.166667"}))},y=function(){return a.a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8.5 10.2C8.66811 10.2 8.83245 10.1501 8.97224 10.0567C9.11202 9.96335 9.22096 9.8306 9.2853 9.67528C9.34963 9.51996 9.36647 9.34906 9.33367 9.18417C9.30087 9.01929 9.21992 8.86783 9.10104 8.74896C8.98217 8.63008 8.83071 8.54913 8.66583 8.51633C8.50094 8.48353 8.33004 8.50037 8.17472 8.5647C8.0194 8.62904 7.88665 8.73798 7.79325 8.87777C7.69985 9.01755 7.65 9.18189 7.65 9.35C7.65 9.57543 7.73955 9.79163 7.89896 9.95104C8.05837 10.1104 8.27457 10.2 8.5 10.2ZM12.75 10.2C12.9181 10.2 13.0825 10.1501 13.2222 10.0567C13.362 9.96335 13.471 9.8306 13.5353 9.67528C13.5996 9.51996 13.6165 9.34906 13.5837 9.18417C13.5509 9.01929 13.4699 8.86783 13.351 8.74896C13.2322 8.63008 13.0807 8.54913 12.9158 8.51633C12.7509 8.48353 12.58 8.50037 12.4247 8.5647C12.2694 8.62904 12.1367 8.73798 12.0433 8.87777C11.9499 9.01755 11.9 9.18189 11.9 9.35C11.9 9.57543 11.9896 9.79163 12.149 9.95104C12.3084 10.1104 12.5246 10.2 12.75 10.2ZM8.5 13.6C8.66811 13.6 8.83245 13.5501 8.97224 13.4567C9.11202 13.3634 9.22096 13.2306 9.2853 13.0753C9.34963 12.92 9.36647 12.7491 9.33367 12.5842C9.30087 12.4193 9.21992 12.2678 9.10104 12.149C8.98217 12.0301 8.83071 11.9491 8.66583 11.9163C8.50094 11.8835 8.33004 11.9004 8.17472 11.9647C8.0194 12.029 7.88665 12.138 7.79325 12.2778C7.69985 12.4175 7.65 12.5819 7.65 12.75C7.65 12.9754 7.73955 13.1916 7.89896 13.351C8.05837 13.5104 8.27457 13.6 8.5 13.6ZM12.75 13.6C12.9181 13.6 13.0825 13.5501 13.2222 13.4567C13.362 13.3634 13.471 13.2306 13.5353 13.0753C13.5996 12.92 13.6165 12.7491 13.5837 12.5842C13.5509 12.4193 13.4699 12.2678 13.351 12.149C13.2322 12.0301 13.0807 11.9491 12.9158 11.9163C12.7509 11.8835 12.58 11.9004 12.4247 11.9647C12.2694 12.029 12.1367 12.138 12.0433 12.2778C11.9499 12.4175 11.9 12.5819 11.9 12.75C11.9 12.9754 11.9896 13.1916 12.149 13.351C12.3084 13.5104 12.5246 13.6 12.75 13.6ZM4.25 10.2C4.41811 10.2 4.58245 10.1501 4.72223 10.0567C4.86202 9.96335 4.97096 9.8306 5.0353 9.67528C5.09963 9.51996 5.11647 9.34906 5.08367 9.18417C5.05087 9.01929 4.96992 8.86783 4.85104 8.74896C4.73217 8.63008 4.58071 8.54913 4.41583 8.51633C4.25094 8.48353 4.08004 8.50037 3.92472 8.5647C3.7694 8.62904 3.63665 8.73798 3.54325 8.87777C3.44985 9.01755 3.4 9.18189 3.4 9.35C3.4 9.57543 3.48955 9.79163 3.64896 9.95104C3.80837 10.1104 4.02457 10.2 4.25 10.2ZM14.45 1.7H13.6V0.85C13.6 0.624566 13.5104 0.408365 13.351 0.248959C13.1916 0.0895533 12.9754 0 12.75 0C12.5246 0 12.3084 0.0895533 12.149 0.248959C11.9896 0.408365 11.9 0.624566 11.9 0.85V1.7H5.1V0.85C5.1 0.624566 5.01045 0.408365 4.85104 0.248959C4.69163 0.0895533 4.47543 0 4.25 0C4.02457 0 3.80837 0.0895533 3.64896 0.248959C3.48955 0.408365 3.4 0.624566 3.4 0.85V1.7H2.55C1.8737 1.7 1.2251 1.96866 0.746878 2.44688C0.26866 2.9251 0 3.5737 0 4.25V14.45C0 15.1263 0.26866 15.7749 0.746878 16.2531C1.2251 16.7313 1.8737 17 2.55 17H14.45C15.1263 17 15.7749 16.7313 16.2531 16.2531C16.7313 15.7749 17 15.1263 17 14.45V4.25C17 3.5737 16.7313 2.9251 16.2531 2.44688C15.7749 1.96866 15.1263 1.7 14.45 1.7ZM15.3 14.45C15.3 14.6754 15.2104 14.8916 15.051 15.051C14.8916 15.2104 14.6754 15.3 14.45 15.3H2.55C2.32457 15.3 2.10837 15.2104 1.94896 15.051C1.78955 14.8916 1.7 14.6754 1.7 14.45V6.8H15.3V14.45ZM15.3 5.1H1.7V4.25C1.7 4.02457 1.78955 3.80837 1.94896 3.64896C2.10837 3.48955 2.32457 3.4 2.55 3.4H14.45C14.6754 3.4 14.8916 3.48955 15.051 3.64896C15.2104 3.80837 15.3 4.02457 15.3 4.25V5.1ZM4.25 13.6C4.41811 13.6 4.58245 13.5501 4.72223 13.4567C4.86202 13.3634 4.97096 13.2306 5.0353 13.0753C5.09963 12.92 5.11647 12.7491 5.08367 12.5842C5.05087 12.4193 4.96992 12.2678 4.85104 12.149C4.73217 12.0301 4.58071 11.9491 4.41583 11.9163C4.25094 11.8835 4.08004 11.9004 3.92472 11.9647C3.7694 12.029 3.63665 12.138 3.54325 12.2778C3.44985 12.4175 3.4 12.5819 3.4 12.75C3.4 12.9754 3.48955 13.1916 3.64896 13.351C3.80837 13.5104 4.02457 13.6 4.25 13.6Z",fill:"#2F80ED"}))},_=function(){return a.a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.858 1.69429C12.2511 1.30125 12.883 1.30125 13.2761 1.69429L14.3074 2.72548C14.7004 3.11848 14.7004 3.7502 14.3074 4.14321L13.4279 5.02256L10.9787 2.57356L11.858 1.69429L11.3631 1.1993L11.858 1.69429ZM9.98869 3.56347L2.69986 10.8516L1.7195 14.2808L5.14918 13.3005L12.4379 6.01246L9.98869 3.56347ZM14.266 0.704298C13.3262 -0.235417 11.8079 -0.235417 10.8681 0.704298L1.58172 9.98983C1.49762 10.0739 1.43633 10.1781 1.40364 10.2924L0.0269803 15.1079C-0.0429059 15.3523 0.0252526 15.6155 0.20503 15.7952C0.384808 15.975 0.647935 16.0432 0.892395 15.9733L5.70828 14.5968C5.82263 14.5641 5.92676 14.5028 6.01086 14.4187L15.2973 5.1332C16.2371 4.19345 16.2371 2.67523 15.2973 1.73548L14.266 0.704298Z",fill:"#2F80ED"}))},w=function(){return a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8 5.55127V10.4359",stroke:"#2F80ED",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.a.createElement("path",{d:"M10.4445 7.99316H5.55518",stroke:"#2F80ED",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1237 1.33325H4.87611C2.69833 1.33325 1.33325 2.87464 1.33325 5.05669V10.9431C1.33325 13.1252 2.69198 14.6666 4.87611 14.6666H11.1237C13.3079 14.6666 14.6666 13.1252 14.6666 10.9431V5.05669C14.6666 2.87464 13.3079 1.33325 11.1237 1.33325Z",stroke:"#2F80ED",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},j=function(){return a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M1.27783 3.66901C1.27783 3.86792 1.35685 4.05869 1.4975 4.19934C1.63815 4.33999 1.82892 4.41901 2.02783 4.41901H2.42783V13.2815C2.42849 13.9359 2.68871 14.5633 3.15139 15.0261C3.61408 15.4889 4.24144 15.7492 4.89583 15.75H11.1038C11.7582 15.7492 12.3856 15.4889 12.8483 15.0261C13.311 14.5633 13.5712 13.9359 13.5718 13.2815V4.41901H13.9718C14.1707 4.41901 14.3615 4.33999 14.5022 4.19934C14.6428 4.05869 14.7218 3.86792 14.7218 3.66901C14.7218 3.4701 14.6428 3.27933 14.5022 3.13868C14.3615 2.99803 14.1707 2.91901 13.9718 2.91901H11.3468V2.14501C11.3468 1.10001 10.4968 0.249512 9.45183 0.249512H6.54783C5.50283 0.249512 4.65283 1.09951 4.65283 2.14501V2.91851H2.02783C1.82892 2.91851 1.63815 2.99753 1.4975 3.13818C1.35685 3.27883 1.27783 3.4696 1.27783 3.66851V3.66901ZM6.15283 2.14551C6.15283 1.92701 6.32983 1.75001 6.54783 1.75001H9.45183C9.66983 1.75001 9.84683 1.92701 9.84683 2.14551V2.91901H6.15233V2.14501L6.15283 2.14551ZM3.92783 4.41901H12.0718V13.2815C12.0716 13.5382 11.9695 13.7843 11.788 13.9659C11.6066 14.1474 11.3605 14.2496 11.1038 14.25H4.89583C4.63914 14.2496 4.39308 14.1474 4.21161 13.9659C4.03015 13.7843 3.9281 13.5382 3.92783 13.2815V4.41901Z",fill:"#DF2222"}),a.a.createElement("path",{d:"M6.13599 12.8685C6.3349 12.8685 6.52566 12.7895 6.66632 12.6489C6.80697 12.5082 6.88599 12.3175 6.88599 12.1185V6.55054C6.88599 6.35162 6.80697 6.16086 6.66632 6.02021C6.52566 5.87955 6.3349 5.80054 6.13599 5.80054C5.93707 5.80054 5.74631 5.87955 5.60566 6.02021C5.465 6.16086 5.38599 6.35162 5.38599 6.55054V12.1185C5.38599 12.3175 5.465 12.5082 5.60566 12.6489C5.74631 12.7895 5.93707 12.8685 6.13599 12.8685ZM9.86399 12.8685C10.0629 12.8685 10.2537 12.7895 10.3943 12.6489C10.535 12.5082 10.614 12.3175 10.614 12.1185V6.55054C10.614 6.35162 10.535 6.16086 10.3943 6.02021C10.2537 5.87955 10.0629 5.80054 9.86399 5.80054C9.66507 5.80054 9.47431 5.87955 9.33366 6.02021C9.193 6.16086 9.11399 6.35162 9.11399 6.55054V12.1185C9.11399 12.3175 9.193 12.5082 9.33366 12.6489C9.47431 12.7895 9.66507 12.8685 9.86399 12.8685Z",fill:"#DF2222"}))},E=function(){return a.a.createElement("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9.56966 0.879163C9.57366 1.05982 9.4823 1.19248 9.35959 1.31515C8.46667 2.20511 7.57574 3.09707 6.68415 3.98837C5.72187 4.95033 4.75959 5.91229 3.79731 6.87425C3.61859 7.05291 3.58858 7.05224 3.40786 6.87092C2.48359 5.94162 1.55932 5.01233 0.633051 4.08503C0.486342 3.9377 0.400316 3.77171 0.440995 3.56239C0.521685 3.14907 1.00916 2.98841 1.32192 3.2744C1.50197 3.43906 1.66935 3.61772 1.84207 3.79038C2.36422 4.31235 2.88704 4.835 3.40919 5.35698C3.58591 5.53364 3.61659 5.53297 3.79731 5.35231C5.39577 3.75438 6.99491 2.15711 8.59204 0.557176C8.74675 0.401849 8.91613 0.307853 9.1422 0.355851C9.39627 0.409182 9.56966 0.62184 9.56966 0.879163Z",fill:"white"}))},C=function(){return a.a.createElement("svg",{width:"148",height:"148",viewBox:"0 0 148 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M65.8137 97.7958C65.1895 97.8117 64.5686 97.7011 63.9883 97.4706C63.4081 97.2401 62.8805 96.8944 62.4374 96.4546L40.4687 74.4858C39.6008 73.618 39.1133 72.4409 39.1133 71.2136C39.1133 69.9863 39.6008 68.8093 40.4687 67.9414C41.3365 67.0736 42.5135 66.5861 43.7409 66.5861C44.9682 66.5861 46.1452 67.0736 47.013 67.9414L65.7212 86.6496L100.894 51.5458C101.324 51.1161 101.834 50.7752 102.396 50.5427C102.957 50.3101 103.559 50.1904 104.166 50.1904C104.774 50.1904 105.376 50.3101 105.937 50.5427C106.499 50.7752 107.009 51.1161 107.439 51.5458C107.868 51.9755 108.209 52.4857 108.442 53.0471C108.674 53.6085 108.794 54.2103 108.794 54.818C108.794 55.4257 108.674 56.0275 108.442 56.5889C108.209 57.1503 107.868 57.6605 107.439 58.0902L69.0743 96.4546C68.2071 97.3146 67.035 97.7968 65.8137 97.7958Z",fill:"#2F80ED"}),a.a.createElement("path",{d:"M74 138.75C61.3485 138.731 48.9797 135.006 38.4216 128.036C27.8636 121.065 19.5789 111.154 14.5911 99.5274C9.60332 87.9006 8.13093 75.0673 10.3559 62.6129C12.5808 50.1586 18.4055 38.6289 27.1105 29.4482C35.8155 20.2676 47.0193 13.8383 59.3378 10.9545C71.6562 8.07075 84.5497 8.85894 96.4252 13.2217C108.301 17.5845 118.638 25.3306 126.16 35.5032C133.682 45.6759 138.059 57.8292 138.75 70.4618C138.819 71.6851 138.401 72.886 137.586 73.8008C136.77 74.7156 135.626 75.2696 134.402 75.3412C133.793 75.3787 133.182 75.2951 132.605 75.0954C132.028 74.8956 131.496 74.5835 131.041 74.1772C130.585 73.7709 130.214 73.2783 129.95 72.7279C129.685 72.1776 129.532 71.5803 129.5 70.9706C128.873 59.3756 124.624 48.2695 117.353 39.2159C110.082 30.1624 100.154 23.6176 88.9674 20.503C77.781 17.3884 65.8994 17.861 54.9956 21.8541C44.0919 25.8472 34.7152 33.1598 28.1859 42.7622C21.6566 52.3645 18.3036 63.773 18.599 75.3812C18.8944 86.9893 22.8233 98.2125 29.8325 107.47C36.8417 116.728 46.5782 123.554 57.6709 126.988C68.7637 130.421 80.6539 130.289 91.6675 126.609C98.6584 124.283 105.113 120.579 110.649 115.718C116.186 110.857 120.693 104.936 123.904 98.3043C124.148 97.7245 124.507 97.2004 124.96 96.7643C125.413 96.3281 125.951 95.989 126.54 95.7676C127.128 95.5462 127.756 95.4473 128.384 95.4768C129.013 95.5064 129.628 95.6638 130.194 95.9394C130.759 96.215 131.262 96.6031 131.673 97.0798C132.083 97.5566 132.392 98.112 132.58 98.7122C132.768 99.3123 132.832 99.9446 132.768 100.57C132.704 101.196 132.512 101.802 132.206 102.351C128.469 110.095 123.215 117.011 116.756 122.687C110.297 128.364 102.764 132.685 94.6044 135.397C87.9614 137.616 81.0038 138.748 74 138.75V138.75Z",fill:"#2F80ED"}))},S=function(){return a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#1560C5"}),a.a.createElement("path",{d:"M8.25 16.2045L16.2045 8.25L8.25 16.2045ZM8.25 8.25L16.2045 16.2045L8.25 8.25Z",fill:"#1560C5"}),a.a.createElement("path",{d:"M8.25 8.25L16.2045 16.2045M8.25 16.2045L16.2045 8.25L8.25 16.2045Z",stroke:"white",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},O=function(){return a.a.createElement("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0029 -0.000488281C5.04275 -0.000488281 0.997809 4.03808 0.997803 8.99823C0.997791 13.9584 5.04274 18.0017 10.0029 18.0017C14.9631 18.0017 19 13.9584 19 8.99823C19 4.03808 14.9631 -0.000488281 10.0029 -0.000488281ZM10.0029 1.63564C14.0788 1.63564 17.3639 4.9223 17.3639 8.99823C17.3639 13.0742 14.0789 16.3656 10.0029 16.3656C5.92697 16.3656 2.63392 13.0742 2.63393 8.99823C2.63394 4.9223 5.92698 1.63564 10.0029 1.63564ZM9.99013 3.26059C9.88202 3.26163 9.77519 3.2841 9.67581 3.32668C9.57644 3.36926 9.48648 3.43112 9.41116 3.50867C9.33583 3.58623 9.27662 3.67795 9.23695 3.77852C9.19729 3.8791 9.17795 3.98654 9.18005 4.09463V8.99823C9.18049 9.10588 9.20217 9.21238 9.24385 9.31163C9.28552 9.41088 9.34637 9.50094 9.42292 9.57663L12.6952 12.8505C12.7708 12.9288 12.8612 12.9912 12.9613 13.0341C13.0613 13.0769 13.1689 13.0994 13.2777 13.1002C13.3865 13.101 13.4944 13.0801 13.595 13.0387C13.6957 12.9973 13.787 12.9362 13.8638 12.859C13.9405 12.7819 14.0011 12.6902 14.042 12.5893C14.0828 12.4884 14.1031 12.3804 14.1017 12.2716C14.1004 12.1628 14.0773 12.0553 14.0338 11.9556C13.9904 11.8558 13.9275 11.7657 13.8488 11.6905L10.8178 8.6595V4.09463C10.8199 3.98506 10.8 3.87617 10.7593 3.77443C10.7185 3.6727 10.6577 3.58018 10.5805 3.50239C10.5033 3.4246 10.4113 3.36311 10.3099 3.32157C10.2084 3.28003 10.0997 3.25929 9.99013 3.26059V3.26059Z",fill:"#2F80ED"}))},x=function(){return a.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.12762 6.17794C8.32001 5.98178 8.32001 5.66373 8.12762 5.46757C7.93523 5.27141 7.62331 5.27141 7.43092 5.46757L5.47949 7.45726L5.47949 1.11974C5.47949 0.84766 5.25892 0.627095 4.98684 0.627095C4.71476 0.627095 4.4942 0.84766 4.4942 1.11974L4.4942 7.45813L2.54104 5.46667C2.34865 5.27051 2.03672 5.27051 1.84433 5.46667C1.65194 5.66284 1.65194 5.98088 1.84433 6.17704L4.63116 9.01851C4.72045 9.10955 4.83549 9.15834 4.95238 9.16487C5.09145 9.17638 5.2344 9.12789 5.3408 9.01941L8.12762 6.17794Z",fill:"#FF0000"}))},T=function(){return a.a.createElement("svg",{viewBox:"0 0 14 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M12.2032 0.270707C12.4012 0.0972844 12.6686 0 12.9472 0C13.2259 0 13.4933 0.0972844 13.6913 0.270707C13.7891 0.355868 13.8667 0.457377 13.9197 0.569327C13.9727 0.681278 14 0.801432 14 0.9228C14 1.04417 13.9727 1.16432 13.9197 1.27627C13.8667 1.38822 13.7891 1.48973 13.6913 1.57489L7.74483 6.72972C7.54637 6.9029 7.27879 7 7 7C6.72121 7 6.45363 6.9029 6.25517 6.72972L0.30868 1.57489C0.210916 1.48973 0.133278 1.38822 0.0802844 1.27627C0.0272907 1.16432 0 1.04417 0 0.9228C0 0.801432 0.0272907 0.681278 0.0802844 0.569327C0.133278 0.457377 0.210916 0.355868 0.30868 0.270707C0.506695 0.0972844 0.774093 0 1.05275 0C1.33141 0 1.59881 0.0972844 1.79682 0.270707L7.00228 4.4982L12.2032 0.270707Z",fill:"#2F80ED"}))}},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(5),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.useState)(e),i=o(n,2),l=i[0],s=i[1],u=Object(r.useRef)(null);function c(e){u.current&&!u.current.contains(e.target)&&s(!1)}function d(e){27===e.keyCode&&s(!1)}return Object(r.useEffect)((function(){if(l){var e={click:c};return t&&(e.keydown=d),Object(a.b)(e),function(){Object(a.e)(e)}}}),[l]),[l,s,u]}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){var o={msteams:a({},Date.now(),a({},window.dnevnik.user.id,a({},window.dnevnik.user.commonRole||"",a({},e,a({},t,a({},(n||"notset").toLowerCase(),null))))))};Object(r.a)(o)}},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n(17),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object(r.b)({WebApplicationException:null,FetchError:null,ValidationException:null}),u=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r.name="ServiceStackError",r.responseStatus=e,r.httpStatus=n||500,r}return l(t,Error),a(t,null,[{key:"responseStatus",value:function(e,t,n){return{errorCode:e,message:t,errors:n}}},{key:"validationException",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object.keys(e).map((function(t){return{fieldName:t,message:e[t]}})),a=t.responseStatus(s.ValidationException,n,r);throw new t(a,200)}}]),t}(),c=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r.name="ApiError",r.json=e,r.httpStatus=n||500,r}return l(t,Error),t}(),d=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Error.captureStackTrace(r,t),r.status=n,r.data=e,r.name="PollingError",r}return l(t,Error),t}()},14:function(e,t,n){"use strict";var r=n(9);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.a=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(this,e),this.post=function(){var e;return(e=t.client).post.apply(e,arguments)},this.get=function(){var e;return(e=t.client).get.apply(e,arguments)},this.client=n||r.b}},1436:function(e,t,n){n(85),n(86),e.exports=n(1457)},1437:function(e,t,n){},1438:function(e,t,n){var r={"./journal.ru-RU.ftl":1439,"./journal.uz-Latn-UZ.ftl":1440};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=1438},1439:function(e,t){e.exports='journal-multiview = Раскрыть журнал\r\njournal-header_interview = Поделиться мнением о журнале\r\njournal-header_memo-tooltip = Памятка по заполнению журнала\r\njournal-header_day-journal-title = Журнал за день\r\njournal-header_week-journal-title = Журнал за неделю\r\njournal-header_subject-journal-title = Журнал\r\njournal-header_study-year = {$studyYear} учебный год\r\n\r\njournal-header_subgroup-filter-default = { $schoolType -> \r\n    [Professional]Вся группа\r\n    [Additional]Вся группа\r\n    *[other]Весь класс\r\n}\r\n\r\njournal-header_subject-teachers = { $schoolType ->\r\n    [Professional]Преподаватель\r\n    [Additional]Преподаватель\r\n    *[other]Учитель \r\n }\r\n\r\njournal-header_class-teacher = { $schoolType -> \r\n    [Professional]Куратор\r\n    [Additional]Руководитель\r\n    *[other]Классный руководитель\r\n}\r\n\r\njournal-header_thematic-title = Тема:\r\n\r\njournal-header_lesson-number = {$lessonNumber} { $schoolType -> \r\n    [Professional]занятие\r\n    [Additional]занятие\r\n    *[other]урок\r\n}\r\n\r\njournal-header_lesson-held = { $schoolType ->\r\n    [Professional] Занятие проведено\r\n    [Additional] Занятие проведено\r\n    *[other] Урок проведен\r\n}\r\n\r\njournal-header_appearance = ПР\r\njournal-header_black-and-white = Черно-белый журнал\r\n\r\njournal-header_grades-report = Открыть отчет с оценками { $schoolType ->\r\n    [Professional]учащихся\r\n    [Additional]учащихся\r\n    *[other]учеников\r\n}\r\n\r\njournal-header_quarter = Четверти\r\njournal-header_half-year = Полугодие\r\njournal-header_mark-evaluation = Оценивание:\r\n\r\njournal-tabs_marks = Оценки\r\njournal-tabs_planning = { $schoolType ->\r\n    [Professional] Тематическое планирование\r\n    [Additional] Тематическое планирование\r\n    *[other] Поурочное планирование\r\n}\r\n\r\njournal-chat_sendmessage-intro-defaultmark = Напишите сообщение о работе { $schoolType -> \r\n    [Professional]учащегося на занятии\r\n    [Additional]учащегося на занятии\r\n    *[other]ученика на уроке\r\n}\r\n\r\njournal-markHint_bad-perfomance = Успеваемость { $schoolType ->\r\n\t\t[Professional]студента снизилась\r\n\t\t[Preliminary]ученика снизилась\r\n\t\t[Regular]ученика снизилась\r\n\t\t*[other]обучающегося снизилась\r\n}\r\n\r\njournal-markHint_write-about-work = Напишите о работе { $schoolType ->\r\n\t\t[Professional]студента на занятии\r\n\t\t[Preliminary]ученика на уроке\r\n\t\t[Regular]ученика на уроке\r\n\t\t*[other]обучающегося на уроке\r\n}\r\n\r\njournal-markHint_ask-about-hooky = Спросите, почему отсутствовал { $schoolType ->\r\n\t\t[Professional]студент\r\n\t\t[Preliminary]ученик\r\n\t\t[Regular]ученик\r\n\t\t*[other]обучающийся\r\n}\r\n\r\njournal-markHint_message-text_bad-perfomance = Напишите сообщение о снижении успеваемости\r\njournal-markHint_message-text_about-work = Напишите сообщение о работе { $schoolType ->\r\n\t\t[Professional]студента на занятии\r\n\t\t[Preliminary]ученика на уроке\r\n\t\t[Regular]ученика на уроке\r\n\t\t*[other]обучающегося на уроке\r\n }\r\njournal-markHint_message-text_hooky = Напишите сообщение, чтобы узнать причину отсутствия\r\n\r\njournal-button_thematic = тематические\r\njournal-button_import = импорт\r\njournal-button_final = итог\r\njournal-button_close = Закрыть\r\njournal-button_delete = Удалить\r\njournal-button_cancel = Отмена\r\njournal-button_save = Сохранить\r\njournal-button_apply = Применить\r\njournal-button_continue = Продолжить\r\njournal-button_continue-working = Продолжить работу\r\njournal-button_year = год\r\njournal-button_create = Создать\r\njournal-button_filter-summative = суммативные\r\n\r\njournal-table_fio = ФИО\r\njournal-table_today = сегодня\r\njournal-table_excluded = Выбывшие на {$excludedDate}\r\njournal-popup_error-title = Произошла ошибка\r\njournal-popup_save-error = Не удалось сохранить данные. Повторите попытку.\r\njournal-popup_default-error = Возникла непредвиденная ошибка. Повторите попытку.\r\njournal-popup_date-range = Выбор периода\r\njournal-work-popover_create = Добавить\r\njournal-work-popover_edit = Изменить\r\njournal-work-popover_delete = Удалить\r\n\r\njournal-work-popup_create-title = Создание работы на { $schoolType ->\r\n    [Professional]занятии\r\n    [Additional]занятии\r\n    *[other]уроке\r\n}\r\n\r\njournal-work-popup_edit-title = Редактирование работы на { $schoolType -> \r\n    [Professional]занятии\r\n    [Additional]занятии\r\n    *[other]уроке\r\n}\r\n\r\njournal-work-popup_delete-title = Удаление работы на { $schoolType -> \r\n    [Professional]занятии\r\n    [Additional]занятии\r\n    *[other]уроке\r\n}\r\njournal-work-popup_delete-summative-title = Удаление суммативной работы\r\n\r\njournal-work-popup_delete-text = Работа на { $schoolType -> \r\n    [Professional]занятии\r\n    [Additional]занятии\r\n    *[other]уроке\r\n} «{$workTypeName}» и все связанные с ней оценки и отметки будут безвозвратно удалены. Вы уверены, что хотите удалить работу?\r\njournal-work-popup_delete-summative-text = Суммативная работа «{$workTypeName}» и все связанные с ней оценки и отметки будут безвозвратно удалены. Вы уверены, что хотите удалить работу?\r\n\r\njournal-work-popup_work-type = Вид работы\r\njournal-work-popup_mark-type = Вид оценки\r\njournal-work-popup_description = Описание\r\njournal-mark-comment-popup_title = Комментарий\r\n\r\njournal-final-work-button_text = итоговая работа\r\njournal-final-work-popup_type = Тип оценки\r\njournal-final-work-popup_create-title = Добавить итоговую работу\r\njournal-final-work-popup_edit-title = Редактировать итоговую работу \r\njournal-final-work-popup_delete-title = Удаление итоговой работы\r\njournal-final-work-popup_attestation-work = За аттестационную работу\r\njournal-final-work-popup_period-work = За период\r\njournal-final-work-popup_work-date = Дата проведения\r\njournal-final-work-popup_work-time = Время проведения\r\njournal-final-work-popup_work-time-placeholder = ЧЧ:ММ\r\njournal-final-work-popup_period = За период\r\njournal-final-work-popup_place = Кабинет\r\njournal-final-work-popup_delete-text = Итоговая работа «{$workTypeName}» будет безвозвратно удалена. Вы уверены, что хотите удалить работу?\r\njournal-final-work-popup_delete-button = Удалить работу\r\n\r\njournal-final-work-popup_invalid-date = Указана ошибочная дата\r\njournal-final-work-popup_out-of-range-date = Дата выходит за границы учебного года\r\njournal-final-work-popup_invalid-start-date = Указана ошибочная дата начала периода\r\njournal-final-work-popup_out-of-range-start-date = Дата начала периода выходит за границы учебного года\r\njournal-final-work-popup_invalid-finish-date = Указана ошибочная дата окончания периода\r\njournal-final-work-popup_out-of-range-finish-date = Дата окончания периода выходит за границы учебного года\r\njournal-final-work-popup_invalid-date-range = Дата окончания периода должна быть не раньше даты начала периода\r\njournal-final-work-popup_invalid-time-from = Укажите время начала\r\njournal-final-work-popup_invalid-time-to = Укажите время окончания\r\njournal-final-work-popup_invalid-time-range = Время начала должно быть ранее времени окончания\r\n\r\njournal-remark_popup-button = замечание к журналу\r\njournal-remark_popup-title = Создать новое замечание\r\njournal-remark_subject = Предмет\r\n\r\njournal-remark_group = { $schoolType -> \r\n    [Professional]Группа\r\n    [Additional]Группа\r\n    *[other]Класс\r\n}\r\n\r\njournal-remark_date = Дата\r\n\r\njournal-remark_teacher = { $schoolType ->\r\n    [Professional]Преподаватель\r\n    [Additional]Преподаватель\r\n    *[other]Учитель \r\n }\r\n\r\njournal-remark_empty-text-error = Текст замечания не может быть пустым\r\njournal-remark_created = Замечание успешно создано\r\njournal-remark_list-title = Замечания\r\njournal-remark_fix = Исправить замечание\r\n\r\njournal-post_popup-button = запись для { $schoolType -> \r\n    [Professional]группы\r\n    [Additional]группы\r\n    *[other]класса\r\n}\r\n\r\nplanning-multiview = Раскрыть { $schoolType -> \r\n    [Professional]темат.\r\n    [Additional]темат.\r\n    *[other]поуроч.\r\n} план\r\n\r\nplanning-lesson_cancelled = отменен\r\n\r\nplanning-lesson_online = { $schoolType ->\r\n    [Professional]Дистанционное занятие\r\n    [Additional]Дистанционное занятие\r\n    *[other]Дистанционный урок\r\n}\r\n\r\nplanning-lesson_join = Войти\r\nplanning-header_date = Дата\r\nplanning-header_hours = Кол-во часов\r\n\r\nplanning-header_theme = Тема { $schoolType -> \r\n    [Professional]занятия\r\n    [Additional]занятия\r\n    *[other]урока\r\n}\r\n\r\nplanning-header_homework = Домашнее задание к следующему { $schoolType ->\r\n    [Professional]занятию\r\n    [Additional]занятию\r\n    *[other]уроку\r\n}\r\n\r\nplanning-homework-add = ДЗ к след. { $schoolType -> \r\n    [Professional]занятию\r\n    [Additional]занятию\r\n    *[other]уроку\r\n}\r\n\r\nplanning-homework-show-partners-popup = Выдать онлайн\r\nplanning-homework-send = Выдать\r\nplanning-homework-unsent = Не выдано\r\nplanning-homewrok_title-error = Удалить задание можно только на странице домашнего задания\r\n\r\nplanning-placeholder_no-persons = { $schoolType -> \r\n    [Professional]В группе нет учащихся\r\n    [Additional]В группе нет обучающихся\r\n    *[other]В классе нет учеников\r\n}\r\n\r\nplanning-placeholder_no-lessons = За выбранный период { $schoolType -> \r\n    [Professional]занятий\r\n    [Additional]занятий\r\n    *[other]уроков\r\n} нет\r\n\r\njournal-placeholder_no-final-works = Итоговых работ нет\r\n\r\nplanning-table_file-delete-confirm = Вы точно хотите удалить файл?\r\nplanning-table_file-loading = Загрузка\r\nplanning-table_file-deleting = Удаление\r\n\r\nplanning-lesson_addTheme = Добавить тему\r\nplanning-ctp_selectTheme = Выберите тему\r\n\r\nmark-type-mark100 = 100-балльная оценка\r\nmark-type-mark10 = 10-балльная оценка\r\nmark-type-mark12 = 12-балльная оценка\r\nmark-type-mark5 = 5-балльная оценка\r\nmark-type-mark6 = 6-балльная оценка\r\nmark-type-mark6bonus = 6-балльная оценка с бонусами\r\nmark-type-mark7 = 7-балльная оценка\r\nmark-type-markabcdf = Американская система\r\nmark-type-markabc = ABC-система\r\nmark-type-markoral6band = словесная оценка\r\nmark-type-test = Зачёт/Незачёт\r\nmark-type-notset = без оценки\r\n\r\nmark-version-header_tooltip = Просмотр истории изменения ячейки\r\nmark-version-header_exit = Выйти из режима\r\nmark-version-header_text = <span>Режим просмотра истории изменений ячеек</span>Нажмите на ячейку, чтобы посмотреть историю изменений\r\nmark-version-table_date = Дата\r\nmark-version-table_time = Время\r\nmark-version-table_created-by = Внес изменения\r\nmark-version-table_action-type = Тип изменения\r\nmark-version-table_action = Тип данных\r\nmark-version-table_work-type = Работа\r\nmark-version-table_old-value = Старое значение\r\nmark-version-table_new-value = Новое значение\r\nmark-version-table_comment = Комментарий: \r\nmark-version-table_emptyVersion = История изменений отсутствует \r\nmark-version-error = При загрузке истории ячейки произошла ошибка\r\n\r\nlesson-planning-copy-ctp_button = Скопировать в КТП\r\nlesson-planning-copy-ctp_studyYear-field = Учебный год\r\nlesson-planning-copy-ctp_subject-field = Предмет\r\nlesson-planning-import-ktp-tip = Экономьте время!</br>Импортируйте готовый план!\r\n\r\nlesson-planning-copy-ctp_class-field = { $schoolType -> \r\n    [Professional]Группа\r\n    [Additional]Группа\r\n    *[other]Класс\r\n}\r\n\r\nlesson-planning-copy-ctp_study-group-field = Учебная группа\r\n\r\nlesson-planning-copy-ctp_default-study-group = { $schoolType -> \r\n    [Professional]Вся группа\r\n    [Additional]Вся группа\r\n    *[other]Весь класс\r\n}\r\n\r\nlesson-planning-copy-ctp_teacher-field = Педагог\r\nlesson-planning-copy-ctp_title = Копирование КТП\r\nlesson-planning-copy-ctp_success = Копирование в КТП прошло успешно!\r\nlesson-planning-copy-ctp_copy-button = Копировать\r\nlesson-planning-copy-ctp_continue-button = Продолжить работу\r\nlesson-planning-copy-ctp_goto-button = Перейти в КТП\r\nlesson-planning-copy-ctp_error-change-subgroup = Невозможно скопировать КТП нескольких подгрупп. Выберите в фильтре одну подгруппу.\r\n\r\nlesson-planning-copy-ctp_no-classes = В выбранном учебном году нет доступных { $schoolType -> \r\n    [Professional]групп\r\n    [Additional]групп\r\n    *[other]классов\r\n}\r\nlesson-planning-homework-time = мин\r\n\r\nprint-button = Распечатать\r\nprint-button_tooltip = Версия для печати\r\nprint-header = Выберите, что распечатать\r\nprint-journal = Распечатать журнал\r\nprint-journal_period = Распечатать только журнал за {$currentJournalPeriodText}\r\n\r\nprint-planning = Распечатать { $schoolType -> \r\n    [Professional]тематическое\r\n    [Additional]тематическое\r\n    *[other]поурочное\r\n} планирование\r\n\r\nprint-planning_period = Распечатать только { $schoolType -> \r\n    [Professional]тематическое\r\n    [Additional]тематическое\r\n    *[other]поурочное\r\n} планирование за {$currentPlanningPeriodText}\r\n\r\nprint-journal_warning-thematic = Невозможно распечатать тематические оценки. Выберите фильтр отчетного периода в журнале.\r\nprint-journal_warning-final = Невозможно распечатать итоговые оценки. Выберите фильтр отчетного периода в журнале.\r\nprint-journal_warning-empty = Невозможно распечатать пустой журнал\r\nprint-planning_warning-empty = Невозможно распечатать пустое планирование\r\nprint-planning_warning-empy-group-lessons = Невозможно распечатать планирование нескольких подгрупп. Выберите в фильтре одну подгруппу. \r\n\r\n\r\nexport-header_tooltip = Экспорт в Excel\r\nexport-header_text = Выберите, что экспортировать\r\nexport-popup-button = Экспортировать\r\nexport-popup-radiobutton-text_journal = Экспортировать только журнал за {$journalCurrentOption}\r\n\r\nexport-popup-radiobutton-text_lesson-planning = Экспортировать только { $schoolType -> \r\n    [Professional]тематическое\r\n    [Additional]тематическое\r\n    *[other]поурочное\r\n} планирование за {$planningCurrentOption}\r\n\r\nexport-popup-radiobutton-text_journal-error = Экспортировать журнал\r\n\r\nexport-popup-radiobutton-text_lesson-planning-error = Экспортировать { $schoolType -> \r\n    [Professional]тематическое\r\n    [Additional]тематическое\r\n    *[other]поурочное\r\n} планирование\r\n\r\nexport-popup-radiobutton-error_journal-thematic = Невозможно экспортировать тематические оценки. Выберите фильтр отчетного периода в журнале\r\nexport-popup-radiobutton-error_journal-final = Невозможно экспортировать итоговые оценки. Выберите фильтр отчетного периода в журнале\r\nexport-popup-radiobutton-error_journal-empty = Невозможно экспортировать пустой журнал\r\nexport-popup-radiobutton-error_lesson-planning-empty = Невозможно экспортировать пустое планирование\r\n\r\nreset-work-type-button = Сбросить вид\r\nreset-work-type-tooltip = Установить вид оценивания, который выбран в организации как итоговый\r\n\r\nselect-option-placeholder-no-select = Не выбран\r\nselect-option-placeholder-no-select-2 = Не выбрана\r\n\r\njournal-page-title = { $journalType -> \r\n    [Subject] {$journalName}\r\n    [Day] {$journalName} - Журнал за день\r\n    [Week] {$journalName} - Журнал за неделю\r\n    [Home] {$journalName} - надом.\r\n    *[other] Журнал\r\n}\r\n\r\njournal-summative-work-popup_create-title-create = Создание суммативной работы\r\njournal-summative-work-popup_create-title-edit = Редактирование суммативной работы\r\njournal-summative-work-popup_work-date = Дата проведения\r\njournal-summative-work-popup_max-mark = Макс. балл\r\njournal-summative-work-popup_button-create = Создать\r\njournal-summative-work-popup_button-edit = Сохранить\r\njournal-summative-work-popup_button-cancel = Отменить\r\njournal-summative-work-popup_load-error = Не удалось загрузить данные. Повторите попытку.\r\n\r\njournal-check-password-popup_title = Изменение вида оценивания\r\njournal-check-password-popup_warning-1 = Вы собираетесь изменить вид оценивания в журнале, в котором ранее были выставлены отметки учащимся.\r\njournal-check-password-popup_warning-2 = При изменении вида оценивания <b>все ранее выставленные отметки будут безвозвратно удалены.</b>\r\njournal-check-password-popup_warning-3 = Для изменения вида оценивания нажмите кнопку "Продолжить".\r\njournal-check-password-popup_warning-4 = В целях безопасности и для подтверждения действия введите свой пароль.\r\njournal-check-password-popup_password = Пароль:\r\njournal-check-password-popup_continue = Продолжить\r\njournal-check-password-popup_cancel = Отменить\r\n'},1440:function(e,t){e.exports="journal-multiview = Jurnalni ochish\r\njournal-header_interview = Jurnal haqida fikr bildirish\r\njournal-header_memo-tooltip = Jurnalni to'ldirish bo'yicha eslatma\r\njournal-header_day-journal-title = Bir kunlik jurnal\r\njournal-header_week-journal-title = Haftalik jurnal\r\njournal-header_subject-journal-title = Jurnal\r\njournal-header_study-year = {$studyYear} o'quv yili\r\n\r\njournal-header_subgroup-filter-default = { $schoolType -> \r\n    [Professional]Butun guruh\r\n    [Additional]Butun guruh\r\n    *[other]Butun sinf\r\n}\r\n\r\njournal-header_subject-teachers = { $schoolType ->\r\n    [Professional]O'qituvchi\r\n    [Additional]O'qituvchi\r\n    *[other] O'qituvchi\r\n }\r\n\r\njournal-header_class-teacher = { $schoolType -> \r\n    [Professional]Kurator\r\n    [Additional]Rahbar\r\n    *[other]Sinf rahbari\r\n}\r\n\r\njournal-header_thematic-title = Mavzu:\r\n\r\njournal-header_lesson-number = {$lessonNumber} { $schoolType -> \r\n    [Professional]darslik\r\n    [Additional]darslik\r\n    *[other]dars\r\n}\r\n\r\njournal-header_lesson-held = { $schoolType ->\r\n    [Professional] Dars o'tkazildi\r\n    [Additional] Dars o'tkazildi\r\n    *[other] Dars o'tkazildi\r\n}\r\n\r\njournal-header_appearance = DT\r\njournal-header_black-and-white = Oq-qora jurnal\r\n\r\njournal-header_grades-report = { $schoolType ->\r\n    [Professional]O'quvchilar\r\n    [Additional]O'quvchilar\r\n    *[other]O'quvchilarni\r\n} baholari bilan hisobotni ochish\r\n\r\njournal-tabs_marks = Baholash\r\njournal-tabs_planning = { $schoolType ->\r\n    [Professional] Tematik rejalashtirish\r\n    [Additional] Tematik rejalashtirish\r\n    *[other] Darsni rejalashtirish\r\n}\r\n\r\njournal-chat_sendmessage-intro-defaultmark = { $schoolType -> \r\n    [Professional]Sinfdagi o'quvchi\r\n    [Additional]Sinfdagi o'quvchi\r\n    *[other]Sinfdagi O'quvchilar\r\n} ishi to'qrisida xabar yozing\r\n\r\njournal-markHint_bad-perfomance = O‘zlashtirish darajasi { $schoolType ->\r\n\t\t[Professional]talabada pasayib ketdi\r\n\t\t[Preliminary]o'quvchida pasayib ketdi\r\n\t\t[Regular]o'quvchida pasayib ketdi\r\n\t\t*[other]o'quvchida pasayib ketdi\r\n}\r\n\r\njournal-markHint_write-about-work = { $schoolType ->\r\n\t\t[Professional]Talabaninf darsdagi\r\n\t\t[Preliminary]O'quvchining darsdagi\r\n\t\t[Regular]O'quvchining darsdagi \r\n\t\t*[other]O'quvchining darsdagi\r\n} ishi to'g'risida yozing\r\n\r\njournal-markHint_ask-about-hooky = { $schoolType ->\r\n\t\t[Professional]Talaba\r\n\t\t[Preliminary]O'quvchi\r\n\t\t[Regular]O'quvchi\r\n\t\t*[other]O'quvchi\r\n} nima uchun kelmaganini so'rang\r\n\r\njournal-markHint_message-text_bad-perfomance = O‘zlashtirish darajasi pasayishi haqida xabar yozing\r\njournal-markHint_message-text_about-work = { $schoolType ->\r\n\t\t[Professional]Talabaning darsdagi\r\n\t\t[Preliminary]O'quvchining darsdagi\r\n\t\t[Regular]O'quvchining darsdagi\r\n\t\t*[other]O'quvchining darsdagi\r\n} ishi haqida xabar yozing\r\njournal-markHint_message-text_hooky = Yo'qligining sababini bilish uchun xabar yozing\r\n\r\njournal-button_thematic = tematik\r\njournal-button_import = import\r\njournal-button_final = xulosa\r\njournal-button_close = Yopish\r\njournal-button_delete = O'chirish\r\njournal-button_cancel = Bekor qilish\r\njournal-button_save = Saqlash\r\njournal-button_apply = Qo'llash\r\njournal-button_continue = Davom ettirish\r\njournal-button_continue-working = Ishni davom ettirish\r\njournal-button_year = yil\r\njournal-button_create = Yaratish\r\n\r\njournal-table_fio = To'liq Ism\r\njournal-table_today = bugun\r\njournal-table_excluded = Chetlashtirilganlar {$excludedDate}\r\njournal-popup_error-title = Xatolik yuz berdi\r\njournal-popup_save-error = Ma'lumotlarni saqlab bo'lmadi. Qaytadan uringib ko'ring.\r\njournal-popup_default-error = Kutilmagan xato yuz berdi. Qayta urinib ko'ring.\r\njournal-popup_date-range = Davrni tanlash\r\njournal-work-popover_create = Qo'shish\r\njournal-work-popover_edit = Tahrirlash\r\njournal-work-popover_delete = O'chirish\r\n\r\njournal-work-popup_create-title = { $schoolType ->\r\n    [Professional]Darslarga\r\n    [Additional]Darslarga\r\n    *[other]Darsga\r\n} ish yaratish\r\n\r\njournal-work-popup_edit-title = { $schoolType -> \r\n    [Professional]Darslarda\r\n    [Additional]Darslarda\r\n    *[other]Darsda\r\n} ishlarni tahrirlash\r\n\r\njournal-work-popup_delete-title = { $schoolType -> \r\n    [Professional]Darslarda\r\n    [Additional]Darslarda\r\n    *[other]Darsda\r\n} ishlarni o'chirish\r\n\r\njournal-work-popup_delete-text = { $schoolType -> \r\n    [Professional]Darslarda\r\n    [Additional]Darslarda\r\n    *[other]Darsda\r\n} ish «{$workTypeName}» va u bilan bog'liq barcha baholar va belgilar qaytarib bo'lmaydigan darajada o'chiriladi. Ishni o'chirishni xohlayotganingizga aminmisiz?\r\n\r\njournal-work-popup_work-type = Ish turi\r\njournal-work-popup_mark-type = Baho turi\r\njournal-work-popup_description = Ta'rif\r\njournal-mark-comment-popup_title = Izoh\r\n\r\njournal-final-work-button_text = Yakuniy Ish\r\njournal-final-work-popup_type = Baholash turi\r\njournal-final-work-popup_create-title = Yakuniy ishni qo'shish\r\njournal-final-work-popup_edit-title = Yakuniy ishni tahrirlash\r\njournal-final-work-popup_delete-title = Yakuniy ishni o'chirish\r\njournal-final-work-popup_attestation-work = Attestatsiya ishlari uchun\r\njournal-final-work-popup_period-work = Davr uchun\r\njournal-final-work-popup_work-date = O'tkazish sanasi\r\njournal-final-work-popup_work-time = O'tkazish vaqti\r\njournal-final-work-popup_work-time-placeholder = SS:DD\r\njournal-final-work-popup_period = Davr uchun\r\njournal-final-work-popup_place = Xona\r\njournal-final-work-popup_delete-text = Yakuniy ish «{$workTypeName}» qaytarib bo'lmaydigan tarzda o'chiriladi. Ishni o'chirishni xohlayotganingizga aminmisiz?\r\njournal-final-work-popup_delete-button = Ishni o'chirish\r\n\r\njournal-final-work-popup_invalid-date = Noto'g'ri sana ko'rsatilgan\r\njournal-final-work-popup_out-of-range-date = Sana o'quv yili doirasida emas\r\njournal-final-work-popup_invalid-start-date = Davr boshlanishining noto'g'ri sanasi ko'rsatilgan\r\njournal-final-work-popup_out-of-range-start-date = Davr boshlanish sanasi o'quv yili doirasida emas\r\njournal-final-work-popup_invalid-finish-date = Davrning noto'g'ri tugash sanasi ko'rsatilgan\r\njournal-final-work-popup_out-of-range-finish-date = Davr tugash sanasi o'quv yili doirasida emas\r\njournal-final-work-popup_invalid-date-range = Davr tugash sanasi davr boshlanish sanasidan oldin bo'lmasligi kerak\r\njournal-final-work-popup_invalid-time-from = Boshlanish vaqtini belgilang\r\njournal-final-work-popup_invalid-time-to = Tugash vaqtini belgilang\r\njournal-final-work-popup_invalid-time-range = Boshlanish vaqti tugash vaqtidan oldin bo'lishi kerak\r\n\r\njournal-remark_popup-button = jurnalga eslatma\r\njournal-remark_popup-title = Yangi eslatma yarating\r\njournal-remark_subject = Fan\r\n\r\njournal-remark_group = { $schoolType -> \r\n    [Professional]Guruh\r\n    [Additional]Guruh\r\n    *[other]Sinf\r\n}\r\n\r\njournal-remark_date = Sana\r\n\r\njournal-remark_teacher = { $schoolType ->\r\n    [Professional]O'qituvchi\r\n    [Additional]O'qituvchi\r\n    *[other]O'qituvchi \r\n }\r\n\r\njournal-remark_empty-text-error = Izoh matni bo'sh bo'lishi mumkin emas\r\njournal-remark_created = Izoh muvaffaqiyatli yaratildi\r\njournal-remark_list-title = Izoh\r\njournal-remark_fix = Izohni tahrirlash\r\n\r\njournal-post_popup-button = { $schoolType -> \r\n    [Professional]Guruh\r\n    [Additional]Guruhlar\r\n    *[other]Sinf\r\n} uchun yozuv\r\n\r\nplanning-multiview = { $schoolType -> \r\n    [Professional]temat.\r\n    [Additional]temat.\r\n    *[other]dars.\r\n} rejasini ochish\r\n\r\nplanning-lesson_cancelled = bekor qilingan\r\n\r\nplanning-lesson_online = { $schoolType ->\r\n    [Professional]Masofaviy dars\r\n    [Additional]Masofaviy dars\r\n    *[other]Dars onlayn tarzda olib boriladi\r\n}\r\n\r\nplanning-lesson_join = Kirish\r\nplanning-header_date = Sana\r\nplanning-header_hours = Soatlar soni\r\n\r\nplanning-header_theme = Mavzu { $schoolType -> \r\n    [Professional]darslar\r\n    [Additional]darslar\r\n    *[other]dars\r\n}\r\n\r\nplanning-header_homework = Keyingi { $schoolType ->\r\n    [Professional]darsga\r\n    [Additional]darsga\r\n    *[other]darsga\r\n} uy vazifa\r\n\r\nplanning-homework-add = Keyingi { $schoolType -> \r\n    [Professional]darsga\r\n    [Additional]darsga\r\n    *[other]darsga\r\n} UV\r\n\r\nplanning-homework-show-partners-popup = Onlayn berish\r\nplanning-homework-send = Berish\r\nplanning-homework-unsent = Berilmagan\r\nplanning-homewrok_title-error = Vazifani faqat uy vazifasi sahifasida o'chirish mumkin\r\n\r\nplanning-placeholder_no-persons = { $schoolType -> \r\n    [Professional]Guruhda o'quvchilar yo'q\r\n    [Additional]Guruhda o'quvchilar yo'q\r\n    *[other]Sinfda o'quvchilar yo'q\r\n}\r\n\r\nplanning-placeholder_no-lessons = Tanlangan davr uchun { $schoolType -> \r\n    [Professional]darslar\r\n    [Additional]darslar\r\n    *[other]darslar\r\n} yo'q\r\n\r\njournal-placeholder_no-final-works = Yakuniy ishlar yo'q\r\n\r\nplanning-table_file-delete-confirm = Haqiqatan ham faylni oʻchirib tashlamoqchimisiz?\r\nplanning-table_file-loading = Yuklanmoqda\r\nplanning-table_file-deleting = O'chirish\r\n\r\nplanning-lesson_addTheme = Mavzu qo'shish\r\nplanning-ctp_selectTheme = Mavzuni tanlash\r\n\r\nmark-type-mark100 = 100-balli baho\r\nmark-type-mark10 = 10-balli baho\r\nmark-type-mark12 = 12-balli baho\r\nmark-type-mark5 = 5-balli baho\r\nmark-type-mark6 = 6-balli baho\r\nmark-type-mark6bonus = 6-balli baho bonuslar bilan\r\nmark-type-mark7 = 7-balli baho\r\nmark-type-markabcdf = Amerika tizimi\r\nmark-type-markoral6band = og'zaki baholash\r\nmark-type-test = O'tti/O'tmadi\r\nmark-type-notset = bahosiz\r\n\r\nmark-version-header_tooltip = Hujayraning o'zgarishlar tarixini ko'rish\r\nmark-version-header_exit = Rejimdan chiqish\r\nmark-version-header_text = <span>O'zgarishlar tarixi yacheykasini ko'rish rejimi</span>O'zgarishlar tarixini ko'rish uchun, yacheykani ustiga bosing\r\nmark-version-table_time = Vaqt\r\nmark-version-table_created-by = O'zgarishlar kiritgan\r\nmark-version-table_action-type = O'zgartirish turi\r\nmark-version-table_action = Ma'lumotlar turi\r\nmark-version-table_work-type = Ish\r\nmark-version-table_old-value = Eski qiymat\r\nmark-version-table_new-value = Yangi qiymat\r\nmark-version-table_comment = Izoh: \r\nmark-version-table_emptyVersion = O'zgarishlar tarihi mavjud emas\r\nmark-version-error = Hujayra tarixini yuklashda xatolik yuz berdi\r\n\r\nlesson-planning-copy-ctp_button = DTR ga nusxalash\r\nlesson-planning-copy-ctp_studyYear-field = O'quv yili\r\nlesson-planning-copy-ctp_subject-field = Fan\r\nlesson-planning-import-ktp-tip = Vaqtingizni tejang!</br>Tayyor rejani ko‘chirib oling!\r\n\r\nlesson-planning-copy-ctp_class-field = { $schoolType -> \r\n    [Professional]Guruh\r\n    [Additional]Guruh\r\n    *[other]Sinf\r\n}\r\n\r\nlesson-planning-copy-ctp_study-group-field = O'quv guruhi\r\n\r\nlesson-planning-copy-ctp_default-study-group = { $schoolType -> \r\n    [Professional]Butun guruh\r\n    [Additional]Butun guruh\r\n    *[other]Butun sinf\r\n}\r\n\r\nlesson-planning-copy-ctp_teacher-field = O'qituvchi\r\nlesson-planning-copy-ctp_title = DTRni nusxalash\r\nlesson-planning-copy-ctp_success = DTRni nusxalash muvaffaqiyatli bajarildi!\r\nlesson-planning-copy-ctp_copy-button = Nusxalash\r\nlesson-planning-copy-ctp_continue-button = Ishni davom etish\r\nlesson-planning-copy-ctp_goto-button = DTRga o'tish\r\nlesson-planning-copy-ctp_error-change-subgroup = Bir nechta kichik guruhlarning DTR-ni nusxalash mumkin emas. Filtrda bitta kichik guruhni tanlang.\r\n\r\nlesson-planning-copy-ctp_no-classes = Tanlangan oʻquv yilida mavjud emas { $schoolType -> \r\n    [Professional]guruh\r\n    [Additional]guruh\r\n    *[other]sinflar\r\n}\r\nlesson-planning-homework-time = min\r\n\r\nprint-button = Chop etish\r\nprint-button_tooltip = Chop etish versiyasi\r\nprint-header = Chop etishni tanlang\r\nprint-journal = Jurnalni chop etish\r\nprint-journal_period = Jurnalni chop etish {$currentJournalPeriodText}\r\n\r\nprint-planning = Chop etish { $schoolType -> \r\n    [Professional]tematik\r\n    [Additional]tematik\r\n    *[other]dars\r\n} rejalashtirish\r\n\r\nprint-planning_period = Chop etish { $schoolType -> \r\n    [Professional]tematik\r\n    [Additional]tematik\r\n    *[other]dars\r\n} rejalashtirish {$currentPlanningPeriodText}\r\n\r\nprint-journal_warning-thematic = Mavzu baholarini chop etib bo‘lmadi. Jurnalda hisobot davrini tanlang.\r\nprint-journal_warning-final = Yakuniy baholarni chop etib bo‘lmadi. Jurnalda hisobot davrini tanlang.\r\nprint-journal_warning-empty = Boʻsh jurnalni chop etib boʻlmaydi.\r\nprint-planning_warning-empty = Boʻsh ish rejani chop etib boʻlmaydi\r\nprint-planning_warning-empy-group-lessons = Bir nechta kichik guruhlar uchun ish rejani chop etib bo‘lmadi. Filtrda kichik guruhni tanlang. \r\n\r\n\r\nexport-header_tooltip = Excelga eksport qilish\r\nexport-header_text = Eksport qilish uchun faylni tanlang\r\nexport-popup-button = Eksport qilish\r\nexport-popup-radiobutton-text_journal = Jurnalni eksport qilish {$journalCurrentOption}\r\n\r\nexport-popup-radiobutton-text_lesson-planning = Eksport qilish { $schoolType -> \r\n    [Professional]tematik\r\n    [Additional]tematik\r\n    *[other]dars\r\n} rejalashtirish {$planningCurrentOption}\r\n\r\nexport-popup-radiobutton-text_journal-error = Jurnalni eksport qilish\r\n\r\nexport-popup-radiobutton-text_lesson-planning-error = Eksport qilish { $schoolType -> \r\n    [Professional]tematik\r\n    [Additional]tematik\r\n    *[other]dars\r\n} rejalashtirish\r\n\r\nexport-popup-radiobutton-error_journal-thematic = Tematik baholarni eksport qilib bo'lmaydi. Jurnalda hisobot davrni belgilang\r\nexport-popup-radiobutton-error_journal-final = Yakuniy baholarni eksport qilib bo'lmaydi. Jurnalda hisobot davrni belgilang\r\nexport-popup-radiobutton-error_journal-empty = Boʻsh jurnalni eksport qilib boʻlmaydi\r\nexport-popup-radiobutton-error_lesson-planning-empty = Boʻsh ish rejani eksport qilib boʻlmaydi\r\n\r\nreset-work-type-button = Ko'rinishni tiklash\r\nreset-work-type-tooltip = Baholash turini belgilang, tashkilotda yakuniy sifatida tanlangan\r\n\r\nselect-option-placeholder-no-select = Tanlanmagan\r\nselect-option-placeholder-no-select-2 = Tanlanmagan\r\n\r\njournal-page-title = { $journalType -> \r\n    [Subject] {$journalName}\r\n    [Day] {$journalName} - Bir kunlik jurnal\r\n    [Week] {$journalName} - Bir haftalik jurnal\r\n    [Home] {$journalName} - uyga.\r\n    *[other] Jurnal\r\n}\r\n\r\njournal-summative-work-popup_create-title-create = Summativ  ish yaratish\r\njournal-summative-work-popup_create-title-edit = Summativ ishni tahrirlash\r\njournal-summative-work-popup_work-date = O'tkazish sanasi\r\njournal-summative-work-popup_max-mark = Maksimal ball\r\njournal-summative-work-popup_button-create = Yaratish\r\njournal-summative-work-popup_button-edit = Saqlash\r\njournal-summative-work-popup_button-cancel = Bekor qilish\r\njournal-summative-work-popup_load-error = Не удалось загрузить данные. Повторите попытку.\r\n\r\njournal-check-password-popup_title = Baholash turini o'zgartirish\r\njournal-check-password-popup_warning-1 = Siz ilgari o'quvchilarga baholar va davomat belgilari qo'yilgan jurnalning baholash turini o'zgartirmoqdasiz.\r\njournal-check-password-popup_warning-2 = Baholash turi o'zgartirilganda <b>ilgari qo'yilgan barcha baholar va davomat belgilari qaytarib bo'lmaydigan darajada o'chiriladi.</b>\r\njournal-check-password-popup_warning-3 = Baholash turini o'zgartirish uchun \"Davom etish\"tugmasini bosing.\r\njournal-check-password-popup_warning-4 = Xavfsizlik va bajarilgan amalni tasdiqlash uchun parolingizni kiriting.\r\njournal-check-password-popup_password = Parol:\r\njournal-check-password-popup_continue = Davom etish\r\njournal-check-password-popup_cancel = Bekor qilish\r\n\r\njournal-work-popup_delete-summative-text = Summativ  ishi \"{$workTypeName}\" va u bilan bog'liq barcha baholar va belgilar butunlay o'chiriladi. Ishni oʻchirib tashlashga aminmisiz?\r\njournal-work-popup_delete-summative-title = Summativ ishni o'chirish\r\njournal-header_quarter = Chorak\r\njournal-header_half-year = Yarim yillik\r\njournal-header_mark-evaluation = Baholash:\r\njournal-button_filter-summative = summativ"},1457:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(35),i=n.n(o),l=n(15),s=n(340),u=n(325),c=n(350),d=n(2),p=n.n(d),m=n(294),f=n.n(m),h=n(630),g=n.n(h),v=n(29),b=n.n(v),k=n(50),y=n.n(k),w=n(809),j=n.n(w),E=n(27),C=n.n(E),S=window.dnevnik.user.preferableLanguage;function O(e){var t=new Date(1e3*e),n=new Date;return t.getUTCDate()===n.getDate()&&t.getUTCMonth()===n.getMonth()&&t.getUTCFullYear()===n.getFullYear()}function x(e){if(!e)return{};var t=new Date(1e3*e);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()}}function T(e){return C.a.utc(1e3*e).locale(S).format("DD.MM")}function I(e){return C.a.utc(1e3*e).locale(S).format("DD.MM.YYYY")}function N(e){return C.a.utc(e).locale(S).format("DD.MM.YYYY")}function P(e){return C.a.utc(e).locale(S).format("D MMMM yyyy")}function A(e){return C()(e).locale(S).format("DD.MM.YYYY")}function D(e){var t=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.round(t/1e3)}function L(e){var t=e.getTime();return Math.round(t/1e3)}function M(e){return e?new Date(Date.UTC(0,0,0,0,e)).toLocaleTimeString("ru-RU",{minute:"2-digit",hour:"2-digit",timeZone:"UTC"}):""}function R(e,t){var n;return(e.getUTCFullYear()===t.getUTCFullYear()?(n=e,C.a.utc(n).locale(S).format("DD.MM")):N(e))+" - "+N(t)}function H(e,t,n){if(e.getTime()===t.getTime())return P(e);if(n)return R(e,t);var r,a=void 0;e.getUTCFullYear()===t.getUTCFullYear()?a=e.getUTCMonth()===t.getUTCMonth()?(r=e,C.a.utc(r).locale(S).format("D")):function(e){return C.a.utc(e).locale(S).format("D MMMM")}(e):a=P(e);return a+"-"+P(t)}function B(e){return{from:new Date(e,7,1),to:new Date(e+1,6,31)}}function W(e){var t=new Date(e),n=t.getDay();if(1!==n){var r=t.getUTCDate()-n+(0===n?-6:1);t.setDate(r)}return t}function U(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}var F={Subject:"Subject",Week:"Week",Day:"Day"},V=n(124),q=n(761),Y=n.n(q),z=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){var t=e.value,n=e.onEditComplete,o=e.disabled,i=e.onLostFocus,l=e.placeholder,s=e.inputButton,u=e.multiline,c=e.testId,d=e.validator,m=e.editCompleteKeyCodes,f=e.className,h=e.rows,g=e.maxLength,v=Object(r.useState)(t),b=z(v,2),k=b[0],y=b[1],_=Object(r.useRef)(null),w=function(){i&&!u&&i(),o||n(k)},j=function(e){(m?m.includes(e.keyCode):13===e.keyCode)&&n(k,e)},E=function(e){var t=e.target.value;d&&!d(t)||y(t)};return Object(r.useEffect)((function(){if(u){var e=_.current.value.length,t=_.current.selectionStart;e&&0===t&&_.current.setSelectionRange(e,e)}}),[]),Object(r.useEffect)((function(){if(u&&!h){_.current.style.height="18px";var e=_.current.scrollHeight;_.current.style.height=e+"px"}}),[k]),a.a.createElement("div",{className:p()(Y.a.container,f,$({},Y.a.multiline,u))},u?a.a.createElement("textarea",{autoFocus:!0,type:"text",className:Y.a.textarea,onChange:E,onBlur:w,onKeyDown:j,disabled:o,value:k,placeholder:l,ref:_,"data-test-id":c,rows:h,maxLength:g,autoCapitalize:"none"}):a.a.createElement("input",{autoFocus:!0,type:"text",className:Y.a.input,onChange:E,onBlur:w,onKeyDown:j,disabled:o,value:k,maxLength:g,"data-test-id":c,autoCapitalize:"none"}),s&&a.a.createElement("div",{onClick:function(){o||n(k)}}," ",a.a.createElement(V.j,null)," "))},J=n(115),G=n(14),K=n(9),X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Q=new K.a(window.__JOURNAL__INITIAL__STATE__.apiUrl,"include",{simple:!1}),ee=function(e){var t=new Date(1e3*e);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()}},te=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Q));return e.getJournal=function(t){var n=t.journalType,r=t.schoolId,a=t.groupId,o=t.subGroupId,i=t.subjectId,l=t.journalPeriod,s=t.dateStart,u=t.dateFinish,c=t.isOdo;return n===F.Subject?c?"final"===l?e.get("/journals/journalFinalOdo",{schoolId:r,groupId:a,subjectId:i,subGroupId:o}):e.get("/journals/journalOdo",{schoolId:r,groupId:a,subjectId:i,startDate:s,finishDate:u,subGroupId:o}):"thematic"===l?e.get("/journals/subjectThematicalJournal",{schoolId:r,groupId:a,subjectId:i,subGroupId:o}):"final"===l?e.get("/journals/subjectFinalJournal",{schoolId:r,groupId:a,subjectId:i,subGroupId:o}):e.get("/journals/subjectJournal",{schoolId:r,groupId:a,subjectId:i,periodId:l,subGroupId:o}):n===F.Day?e.get("/journals/dayJournal",X({schoolId:r,groupId:a},ee(s))):n===F.Week?e.get("/journals/weekJournal",X({schoolId:r,groupId:a,subGroupId:o},ee(s))):Promise.resolve(null)},e.getPlanning=function(t){return e.get("/lessonPlanning/get",X({},t,{periodId:t.periodId&&"year"!==t.periodId?t.periodId:""}))},e.editMark=function(t){var n=t.schoolId,r=t.lessonId,a=t.workId,o=t.personId,i=t.value,l=t.setAppearance,s=t.setMark,u=t.comment;return s?e.post("/journals/editMark",{schoolId:n,workId:a,personId:o,mark:i,setAppearance:l,comment:u}):e.post("/journals/editAppearance",{schoolId:n,lessonId:r,personId:o,appearance:i,comment:u})},e.updateLessonTitle=function(t){return e.post("/lessonPlanning/lessonTitle",t)},e.createHomework=function(t){return e.post("/lessonPlanning/createHomework",t)},e.updateHomeworkTitle=function(t){return e.post("/lessonPlanning/updateHomework",t)},e.assignHomework=function(t){return e.post("/lessonPlanning/assignHomework",t)},e.editLessonHeld=function(t,n){return e.post("/journals/editLessonHeld",{lessonId:t,held:n})},e.getWorkEditOptions=function(t){return e.get("/journals/workEditOptions?schoolId="+t)},e.getSummativeWorkEditOptions=function(t){return e.get("/journals/summativeWorkEditOptions?schoolId="+t)},e.getFinalWorkEditOptions=function(t,n){return e.get("/journals/finalWorkEditOptions",{schoolId:t,workId:n})},e.getLessonPlanningCopyToCtpOptions=function(t,n){return e.get("/lessonPlanning/getCopyCtpOptions?studyYear="+t+"&schoolId="+n)},e.saveWork=function(t){return t.workId?e.post("/journals/updateLessonWork",t):e.post("/journals/addLessonWork",t)},e.checkPasswordValidationForChaingingSubjectReportingPeriod=function(t,n){return e.get("/journals/checkPasswordValidationForChangingSubjectReportingPeriod?subjectId="+t+"&groupId="+n)},e.changeSubjectReportingPeriod=function(t){return e.post("/journals/changeSubjectReportingPeriod",t)},e.saveSummativeWork=function(t){return e.post("/journals/createWorkWithoutLesson",t)},e.editSummativeWork=function(t){return e.post("/journals/editWorkWithoutLesson",t)},e.saveFinalWork=function(t){return t.workId?e.post("/journals/updateFinalWork",t):e.post("/journals/addFinalWork",t)},e.deleteFinalWork=function(t,n){return e.post("/journals/deleteFinalWork?workId="+t+"&mode="+n,{})},e.createRemark=function(t){return e.post("/journals/createRemark",t)},e.deleteWork=function(t){return e.post("/journals/deleteLessonWork?workId="+t,{})},e.deleteWorkWithoutLesson=function(t){return e.post("/journals/deleteWorkWithoutLesson?workId="+t,{})},e.updateLessonHours=function(t,n){return e.post("/lessonPlanning/lessonHours?lessonId="+t+"&hours="+n,{})},e.getMarkVersions=function(t){return e.get("/journals/markVersions",t)},e.getRemarks=function(t,n){return e.get("/journals/remarks",{groupId:t,subjectId:n})},e.fixRemark=function(t){return e.post("/journals/fixRemark?id="+t,{})},e.resetWorkType=function(t){return e.post("/journals/resetWork",t)},e.lessonPlanningCopyCtp=function(t){return e.post("/ctp/copyctp",t)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(G.a)),ne=n(155),re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ae=document.getElementById("journal_modal"),oe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),re(t,[{key:"componentDidMount",value:function(){ae.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){ae.removeChild(this.el)}},{key:"render",value:function(){return Object(o.createPortal)(this.props.children,this.el)}}]),t}(a.a.Component),ie=n(172),le=n.n(ie);var se=function(e){var t,n,r,o=e.className,i=e.onClick,l=e.type,s=e.children,u=e.href,c=e.target,d=e.style,m=e.testId,f=p()(le.a.button,o,(t={},n=le.a.link,r=!!u,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return u?a.a.createElement("a",{href:u,className:f,style:d,onClick:i||void 0,target:c,"data-test-id":m},s):a.a.createElement("button",{type:l,className:f,style:d,onClick:i||void 0,"data-test-id":m},s)},ue=n(937),ce=n.n(ue),de=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var pe=function(e){var t,n,o,i=e.onCancel,s=e.onSave,u=Object(l.d)().l10n,c=Object(r.useState)(""),d=de(c,2),m=d[0],f=d[1],h=Object(r.useState)(!1),g=de(h,2),v=g[0],b=g[1];return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:i,title:u.getString("journal-mark-comment-popup_title"),testId:"mark_comment_popup"},a.a.createElement(Z,{value:m,onEditComplete:f,multiline:!0,rows:4,maxLength:500,className:p()(ce.a.editor,(t={},n=ce.a.invalid,o=v,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))}),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{onClick:i,className:le.a.whiteButton,testId:"mark_comment_cancel_button"},u.getString("journal-button_cancel")),a.a.createElement(se,{onClick:function(){m.trim()?s(m):b(!0)},className:le.a.blueButton,testId:"mark_comment_save_button"},u.getString("journal-button_save")))))},me=__JOURNAL__INITIAL__STATE__,fe=function(e,t){document.querySelectorAll("table."+e+" td."+t+", table."+e+" th."+t).forEach((function(e){return e.classList.remove(t)}))},he=function e(t,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t.closest("td"),i=o.closest("tr"),l=a?i.nextSibling:i.previousSibling,s=Array.prototype.indexOf.call(i.childNodes,o);if(o=l&&l.querySelector("td:nth-child("+(s+1)+")")){var u=o.querySelector("."+n);if(!u||o.classList.contains(r))return void e(o,n,r,a);u.click()}},ge=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e.closest("td");for(a=r?a.nextSibling:a.previousSibling;a;){var o=a.querySelector("."+t);if(o&&!a.classList.contains(n))return void o.click();a=r?a.nextSibling:a.previousSibling}},ve=function(e,t){if(e&&t){var n=e.closest("."+t),r=e.closest("tbody"),a=Array.from(r.querySelectorAll("."+t)),o=a.indexOf(n);if(o>=0&&o<a.length-1)a[o+1].click()}},be=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ke=[37,38,39,40,13];function ye(e){if(e){var t=e.target;switch(e.keyCode){case 37:ge(t,y.a.markContent,y.a.blocked,!1);break;case 38:he(t,y.a.markContent,y.a.blocked,!1);break;case 39:ge(t,y.a.markContent,y.a.blocked,!0);break;case 40:case 13:he(t,y.a.markContent,y.a.blocked,!0)}}}var _e=function(e){var t=e.work,n=e.marks,o=e.present,i=e.personId,l=e.schoolId,s=e.lessonId,u=e.onCancel,c=e.onError,d=e.onSuccess,p=e.onLostFocus,m=e.onValidationError,f=e.setAppearance,h=e.setMark,g=e.testId,v=""+(o||"")+(n?n.map((function(e){return e.value})).join("/"):""),b=me.journalHeader.markChangeCommentRequired,k=Object(r.useState)(null),_=be(k,2),w=_[0],j=_[1],E=Object(J.a)(te.editMark,!1),C=E.execute,S=E.isPending,O=E.error,x=E.value;Object(r.useEffect)((function(){O?c():x&&(x.error?m(x.error):d({present:x.appearance,marks:[x.firstMark,x.secondMark].filter((function(e){return!!e})),isSeriousAppearanceReason:x.isSeriousAppearanceReason,performanceDecreased:x.performanceDecreased}))}),[O,x]);var T=null!==w;return a.a.createElement(r.Fragment,null,a.a.createElement(Z,{value:v,onEditComplete:function(e,n){v===e?(u(),ye(n)):b&&v?(n&&n.persist(),j({value:e,event:n})):(C({schoolId:l,lessonId:s,workId:t&&t.id,personId:i,value:e,setAppearance:f,setMark:h}),ye(n))},editCompleteKeyCodes:ke,disabled:S||T,onLostFocus:p,testId:g,className:y.a.markEditor}),T&&a.a.createElement(pe,{onCancel:u,onSave:function(e){ye(w.event),C({schoolId:l,lessonId:s,workId:t&&t.id,personId:i,value:w.value,setAppearance:f,setMark:h,comment:e}),j(null)}}))};var we=function(e){return"MarkDismiss"===e.type||"MarkNA"===e.type};function je(e,t){return a.a.createElement("span",{className:p()(g.a.markValue,g.a[e.mood.toLowerCase()],(n={},r=g.a.smallFont,o=t&&we(e),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))},e.value);var n,r,o}var Ee=function(e){var t=e.marks;if(!t||!t.length)return null;var n=t.length>1;return a.a.createElement("span",{className:p()(g.a.container)},je(t[0],n),n&&"/",n&&je(t[1],n))},Ce=n(938),Se=n.n(Ce);var Oe=function(e){var t,n,r,o=e.text,i=e.darkVersion;return a.a.createElement("div",{className:p()(Se.a.tooltip,(t={},n=Se.a.darkVersion,r=i,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},o)},xe=!1;function Te(){return xe}var Ie=n(587),Ne=n.n(Ie),Pe=n(322);function Ae(e){var t,n,o,i=e.setShowMarkVersionPopup,s=e.markVersionParameters,u=e.onError,c=Object(l.d)().l10n,d=Object(J.a)(te.getMarkVersions,!1),m=d.execute,f=d.isPending,h=d.error,g=d.value;return Object(r.useEffect)((function(){m(s)}),[]),Object(r.useEffect)((function(){h&&(i(!1),u(c.getString("mark-version-error")))}),[h]),a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:function(){return i(!1)},testId:"mark-versions-popup",style:{width:820}},a.a.createElement("div",{className:p()(Ne.a.markVersionsContainer,(t={},n=Ne.a.isPending,o=f,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},g&&a.a.createElement("div",{className:Ne.a.markVersionTitle,dangerouslySetInnerHTML:{__html:g.headerTitle}}),a.a.createElement("table",{className:Ne.a.markVersions},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,c.getString("mark-version-table_date")),a.a.createElement("th",null,c.getString("mark-version-table_time")),a.a.createElement("th",null,c.getString("mark-version-table_created-by")),a.a.createElement("th",null,c.getString("mark-version-table_action-type")),a.a.createElement("th",null,c.getString("mark-version-table_action")),a.a.createElement("th",null,c.getString("mark-version-table_work-type")),a.a.createElement("th",null,c.getString("mark-version-table_old-value")),a.a.createElement("th",null,c.getString("mark-version-table_new-value")))),a.a.createElement("tbody",null,f&&a.a.createElement("tr",null,a.a.createElement("td",{colSpan:8},a.a.createElement(Pe.a,{delay:1e3,style:{margin:0}}))),g&&g.markVersions.map((function(e,t){return a.a.createElement(r.Fragment,null,a.a.createElement("tr",{className:Ne.a.markVersionRow},a.a.createElement("td",null,I(e.createdDate)),a.a.createElement("td",null,(n=e.createdDate,(i=new Date(1e3*n)).getUTCHours()+":"+((o=i.getMinutes())<10?"0"+o:o))),a.a.createElement("td",null,e.createdBy),a.a.createElement("td",null,e.actionType),a.a.createElement("td",null,e.action),a.a.createElement("td",null,e.workType),a.a.createElement("td",null,e.oldValue),a.a.createElement("td",null,e.newValue)),e.comment&&a.a.createElement("tr",null,a.a.createElement("td",{className:Ne.a.markVersionComment,colSpan:8},c.getString("mark-version-table_comment")," ",a.a.createElement("span",null,e.comment," "))));var n,o,i})))),g&&0===g.markVersions.length&&a.a.createElement("div",{className:Ne.a.emptyVersion}," ",c.getString("mark-version-table_emptyVersion")))))}var De=n(12),Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=window.__JOURNAL__INITIAL__STATE__&&window.__JOURNAL__INITIAL__STATE__.metrika||{};var He={mode:function(e){switch(e){case"week":case"day":return"journal";default:return"both"}}(Re.type),rights:Re.rights};function Be(e){He=Le({},He,{mode:e})}function We(e){var t=Re.userId,n=Re.source,r=Re.type,a=He,o=a.mode,i=a.rights,l={new_journals:Me({},Date.now()||"notset",Me({},t||"notset",Me({},i||"notset",Me({},e||"notset",Me({},r||"notset",Me({},o||"notset",Me({},n||"nosource",null)))))))};Object(De.a)(l)}var Ue=n(838),Fe=n.n(Ue);function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){var n={MessengerMongoose3:Ve({},window.dnevnik.user.id,Ve({},e,Ve({},t,Ve({},Date.now(),null))))};Object(De.a)(n)}var Ye=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ze(e,t,n){return"skiplesson"===e.source?t.getString("journal-markHint_ask-about-hooky",{schoolType:n}):"marknotehint"===e.source?t.getString("journal-markHint_write-about-work",{schoolType:n}):"badmarkhint"===e.source?t.getString("journal-markHint_bad-perfomance",{schoolType:n}):null}var $e=function(e){var t,n,o,i=e.markHint,s=e.schoolType,u=e.personId,c=e.journalType,d=e.dayJournal,m=Object(l.d)().l10n,f=Object(r.useState)(!1),h=Ye(f,2),g=h[0],v=h[1],b=Object(r.useRef)(null);return Object(r.useEffect)((function(){qe(i.viewMetrika,c)}),[]),a.a.createElement("div",{className:p()(Fe.a.markHint,(t={},n=Fe.a.markHintDay,o=d,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),ref:b,onClick:function(e){e.stopPropagation(),qe(i.clickMetrika,c);var t=i&&i.messageContext,n=i&&i.source;g?v(!1):(v(!0),window.showSendMessagePopup(b.current,null,"person_message_container",t,n,u,null,null))}},a.a.createElement("div",{className:Fe.a.tooltip},a.a.createElement(Oe,{text:ze(i,m,s),darkVersion:!0})),"badmarkhint"===i.source?a.a.createElement(V.q,null):a.a.createElement(V.e,null))},Ze=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=Object(r.memo)((function(e){var t,n,o=Object(l.d)().l10n,i=Object(r.useState)(e.marks),s=Ze(i,2),u=s[0],c=s[1],d=Object(r.useState)(!1),m=Ze(d,2),f=m[0],h=m[1],g=Object(r.useState)(null),v=Ze(g,2),b=v[0],k=v[1],_=Object(r.useState)(!1),w=Ze(_,2),j=w[0],E=w[1],C=e.canEdit,S=e.work,O=e.onPresentChange,x=e.setAppearance,T=e.setMark,I=e.lesson,N=e.schoolId,P=e.groupId,A=e.subjectId,D=e.personId,L=e.schoolType,M=e.markHint,R=e.setMarkHint,H=e.isOdo,B=e.parallel,W=e.journalType,U=e.dayJournal,F=e.finalWorks,V=x?e.present:void 0,q=e.wide||S&&"Mark100"===S.markType||u&&u.some((function(e){return"Mark100"===e.type}));return a.a.createElement("td",{className:p()(y.a.mark,e.className,(t={},Je(t,y.a.wideMark,q),Je(t,y.a.today,I&&I.today),Je(t,y.a.newDay,e.newDay),Je(t,y.a.blocked,!C),Je(t,y.a.boldLeftBorder,I&&I.isFirst),Je(t,y.a.boldRightBorder,I&&I.isLast&&0===F.length),t)),"data-test-id":S?"mark_person_"+e.personId+"_work_"+S.id:"appearance_person_"+e.personId+"_lesson_"+I.id},b&&a.a.createElement("div",{className:y.a.tooltip},a.a.createElement(Oe,{text:b})),f&&C?a.a.createElement(_e,{work:e.work,marks:u,present:V,personId:e.personId,lessonId:I&&I.id,testId:"cell-edit",schoolId:e.schoolId,onCancel:function(){h(!1),fe(y.a.journal,y.a.editedColumn)},onSuccess:function(t){if(O&&x&&O(t.present),c(t.marks),h(!1),e.lesson&&e.lesson.isThematic?We("action_thematic_mark"):e.lesson&&!e.lesson.isThematic?We("action_current_mark"):e.lesson||We("action_final_mark"),window.__SEND__MESSAGE__INITIAL__STATE__&&!H&&B>1){var n=U?I&&I.id:S&&S.id;!0===t.performanceDecreased?R({personId:D,key:n,source:"badmarkhint",viewMetrika:"showalarm",clickMetrika:"clickalarm",messageContext:o.getString("journal-markHint_message-text_bad-perfomance")}):!1===t.performanceDecreased?R({personId:D,key:n,source:"marknotehint",viewMetrika:"showplane",clickMetrika:"clickplane",messageContext:o.getString("journal-markHint_message-text_about-work",{schoolType:L})}):t.present&&!1===t.isSeriousAppearanceReason?R({personId:D,key:n,source:"skiplesson",viewMetrika:"showskip",clickMetrika:"clickskip",messageContext:o.getString("journal-markHint_message-text_hooky")}):R(void 0)}},onValidationError:function(e){k(e),h(!1),setTimeout((function(){return k(null)}),5e3),We("mark_error")},onError:function(){e.onError(o.getString("journal-popup_save-error")),h(!1)},onLostFocus:function(){return fe(y.a.journal,y.a.editedColumn)},setAppearance:x,setMark:T}):a.a.createElement("span",{className:p()(y.a.markContent,Je({},y.a.invalidMark,b)),onClick:function(e){C&&!Te()&&(h(!0),k(null),function(e,t){var n=e.closest("td"),r=n.closest("tr"),a=r.closest("table");a.querySelectorAll("td."+t+", th."+t).forEach((function(e){return e.classList.remove(t)}));var o=Array.prototype.indexOf.call(r.childNodes,n);a.querySelectorAll("tbody tr td:nth-child("+(o+1)+")").forEach((function(e){return e.classList.add(t)})),r.querySelectorAll("td").forEach((function(e){return e.classList.add(t)}))}(e.target.parentElement,y.a.editedColumn)),T&&Te()&&(E(!0),We("mark_history"))}},a.a.createElement("div",{className:p()(y.a.markHintContainer,(n={},Je(n,y.a.centered,!T),Je(n,y.a.dayJournalHint,U),n))},a.a.createElement("span",{className:y.a.present},V),M&&B>1&&a.a.createElement($e,{markHint:M,schoolType:L,personId:D,journalType:W,dayJournal:U})),T&&a.a.createElement(Ee,{marks:u})),j&&a.a.createElement(Ae,{onError:e.onError,setShowMarkVersionPopup:E,markVersionParameters:{schoolId:N,groupId:P,subjectId:A,personId:D,lessonId:I&&I.id>0?I.id:0,workId:S.id}}))})),Ke=n(127),Xe=n(839),Qe=n.n(Xe),et=n(300),tt=n(352),nt=n(691),rt=n.n(nt);var at=function(e){var t=e.name,n=e.children,r=e.error,o=e.errors;return a.a.createElement("div",{className:rt.a.container},a.a.createElement("div",{className:rt.a.fixedWidthLabel},t),a.a.createElement("div",{className:rt.a.children},n,r&&a.a.createElement("div",{className:rt.a.error},r),o&&o.map((function(e){return a.a.createElement("div",{className:rt.a.error},e)}))))},ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var lt=function(e){var t=e.lesson,n=e.work,o=e.editOptionsRequest,i=e.onClose,s=e.onError,u=e.onSaveWork,c=e.isOdo,d=e.schoolType,p=e.workPopupState,m=e.isSummative,f=e.updateJournal,h=Object(l.d)().l10n,g=Object(r.useState)(n&&n.workTypeId),v=it(g,2),b=v[0],k=v[1],y=Object(r.useState)(n&&n.markType),_=it(y,2),w=_[0],j=_[1],E=Object(r.useState)(n&&n.text),O=it(E,2),x=O[0],T=O[1],I=Object(r.useState)(!1),N=it(I,2),P=N[0],A=N[1];Object(r.useEffect)((function(){"delete"===p&&A(!0)}),[]);var D,L=Object(r.useCallback)((function(){return s(h.getString("journal-popup_save-error"))}),[s]),M=Object(r.useCallback)((function(e){e.success&&e.work?(u({lessonId:t.id,work:ot({},e.work,{isNew:!0})}),We(n?"save_edit_work":"save_new_work"),i()):e.errors&&e.errors.length?s(e.errors):L()}),[s,u]),R=Object(r.useCallback)((function(e){e.success?(u({lessonId:t.id,work:n,deleteWork:!0}),We("delete_work"),i()):e.error?s(e.error):L()}),[s,u]),H=Object(J.a)(te.saveWork,!1,L,M),B=H.execute,W=H.isPending,U=Object(J.a)((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(m)return te.deleteWorkWithoutLesson(t),void f();te.deleteWork(t)}),!1,L,R),F=U.execute,V=U.isPending,q=o.execute,Y=o.isPending,z=o.error,$=o.value,Z=function(){A(!1),"delete"===p&&i()};if(Object(r.useEffect)((function(){z?i():$||Y||q()}),[Y,z,$]),P){var G=$&&$.workTypes.find((function(e){return e.id===b})),K=G?G.abbreviation+" - "+G.name:n.workName?n.workName:"";m&&(K=n.title+" - "+n.workName);var X=m?h.getString("journal-work-popup_delete-summative-title"):h.getString("journal-work-popup_delete-title",{schoolType:d}),Q=m?h.getString("journal-work-popup_delete-summative-text",{workTypeName:K}):h.getString("journal-work-popup_delete-text",{schoolType:d,workTypeName:K});return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:Z,title:X},a.a.createElement("div",{className:Qe.a.deleteText},Q),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{onClick:Z,className:le.a.whiteButton},h.getString("journal-button_cancel")),a.a.createElement(se,{onClick:function(){V||F(n.id)},className:le.a.blueButton},h.getString("journal-button_delete")))))}return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:i,title:h.getString(n?"journal-work-popup_edit-title":"journal-work-popup_create-title",{schoolType:d}),testId:"work-popup",subtitle:(D=t.resultDate,C.a.utc(1e3*D).locale(S).format("D MMMM YYYY"))},Y&&a.a.createElement(Pe.a,null),$&&a.a.createElement("div",{className:Qe.a.container},a.a.createElement(at,{name:h.getString("journal-work-popup_work-type")},a.a.createElement(et.a,{value:b||$.defaultWorkType,options:$.workTypes.map((function(e){return{value:e.id,text:e.abbreviation+" - "+e.name}})),onChange:k,style:{width:"100%"},searchEnabled:!0})),a.a.createElement(at,{name:h.getString("journal-work-popup_mark-type")},$.markTypes.map((function(e){return a.a.createElement(tt.a,{active:e===(w||$.defaultMarkType),text:h.getString("mark-type-"+e.toLowerCase()),onClick:function(){return j(e)}})}))),!c&&a.a.createElement(at,{name:h.getString("journal-work-popup_description")},a.a.createElement("textarea",{className:Qe.a.description,value:x||"",name:"description",onChange:function(e){return T(e.target.value)},maxLength:4e3,rows:"4"}))),a.a.createElement("div",{className:le.a.buttons},n&&a.a.createElement(se,{onClick:function(){return A(!0)},className:le.a.whiteButton},h.getString("journal-button_delete")),a.a.createElement(se,{onClick:function(){if(!W){var e={lessonId:t.id,workId:n&&n.id,markCount:2,markType:w||$.defaultMarkType,workTypeId:b||$.defaultWorkType,description:x};B(e)}},className:le.a.blueButton},h.getString("journal-button_save")))))};function st(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ut(e,t,n,r,a,o,i,l,s,u,c){var d=arguments.length>11&&void 0!==arguments[11]&&arguments[11];if(i){var p=[].concat(st(e.map((function(e){return{component:r(e),finishDate:e.resultDate,startDate:e.resultDate,order:1}}))),st(t.map((function(e){return{component:a(e),finishDate:e.periodFinishDate,startDate:e.periodStartDate,order:2,id:e.periodWorkId}}))),st(n.map((function(e){return{component:o(e),finishDate:e.periodFinishDate||e.workDate,startDate:e.periodStartDate||e.workDate,order:e.periodFinishDate?2:3,id:e.id}}))));return _.orderBy(p,["finishDate","order","startDate","id"]).map((function(e){return e.component}))}var m=e.map(r),f=null!=s?s.map(u):[],h=t.map(a),g=n.map(o),v=c&&c.length?c:[];if("final"===l&&h.length<=g.length){for(var b=[],k=0;k<h.length;k++)b.push(h[k],g[k]);return b.push(g.slice(h.length)),[].concat(st(m),b)}return d?[].concat(st(f),st(v),st(g)):[].concat(st(m),st(f),st(v),st(h),st(g))}var ct=n(271),dt=n.n(ct),pt=n(240),mt=n.n(pt),ft=n(1493),ht=n(1002),gt=n(692),vt=n.n(gt),bt=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var kt=function(e){var t,n,o,i=Object(Ke.a)(!1),l=bt(i,3),s=l[0],u=l[1],c=l[2],d=Object(r.useState)(e.date&&new Date(1e3*e.date)),m=bt(d,2),f=m[0],h=m[1],g=Object(r.useState)(f?N(f):""),v=bt(g,2),b=v[0],k=v[1];return a.a.createElement("div",{className:vt.a.container},a.a.createElement("div",{className:vt.a.icon,onClick:function(){return u(!0)}},a.a.createElement(V.d,null)),a.a.createElement("div",{className:vt.a.date},a.a.createElement("input",{className:p()((t={},n=vt.a.disabled,o=e.disabled,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),size:10,value:b,onChange:function(t){u(!0),k(t.target.value);var n=Object(ft.a)(t.target.value,"dd.MM.yyyy",new Date),r=Object(ht.a)(n)?n:void 0;h(r),e.onChange(r?D(r):r)},onClick:e.disabled?void 0:function(){return u(!0)}})),s&&a.a.createElement("div",{className:vt.a.popover,ref:c},a.a.createElement(dt.a,{selectedDays:f,onDayClick:function(t){h(t),k(N(t)),e.onChange(D(t)),u(!1)},localeUtils:mt.a,locale:window.dnevnik.user.preferableLanguage,fromMonth:e.studyYearMonths.from,toMonth:e.studyYearMonths.to,initialMonth:f})))},yt=n(762),_t=n.n(yt),wt=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function jt(e){var t=e.schoolId,n=e.subjectId,o=e.groupId,i=e.periodId,s=e.onClose,u=e.onError,c=e.studyYear,d=e.isEdit,m=e.work,f=e.lesson,h=e.updateJournal,g=Object(l.d)().l10n,v=B(c),b=Object(r.useState)(m?m.workTypeId:null),k=wt(b,2),y=k[0],_=k[1],w=Object(r.useState)(f?f.plannedDate:D(new Date)),j=wt(w,2),E=j[0],C=j[1],S=Object(r.useState)(m?m.text:""),O=wt(S,2),x=O[0],T=O[1],I=Object(r.useState)(m?m.maxMarkValue:""),N=wt(I,2),P=N[0],A=N[1],L=Object(r.useState)({}),M=wt(L,2),R=M[0],H=(M[1],Object(r.useState)(!1)),W=wt(H,2),U=W[0],F=W[1],V=Object(r.useCallback)((function(e){return u(e||g.getString("journal-popup_save-error"))}),[u]),q=Object(r.useCallback)((function(e){!1===e.success?e.error?u(e.error):e.errors&&e.errors.length?V(e.errors[0]):V(null):s()}),[u]),Y=Object(J.a)(d?te.editSummativeWork:te.saveSummativeWork,!1,V,q),z=Y.execute,$=Y.isPending,Z=Object(r.useCallback)((function(){return u(g.getString("journal-summative-work-popup_load-error"))}),[u]),G=Object(r.useCallback)((function(){return te.getSummativeWorkEditOptions(t)}),[t]),K=Object(J.a)(G,!1,Z),X=K.execute,Q=K.isPending,ee=K.error,re=K.value;return Object(r.useEffect)((function(){ee?s():re||Q||X()}),[Q,ee,re]),a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:s,title:g.getString(d?"journal-summative-work-popup_create-title-edit":"journal-summative-work-popup_create-title-create"),style:{width:625}},Q&&a.a.createElement(Pe.a,null),re&&a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:_t.a.container},a.a.createElement(at,{name:g.getString("journal-work-popup_work-type")},a.a.createElement(et.a,{value:y||re.defaultWorkType,options:re.workTypes.map((function(e){return{value:e.id,text:e.abbreviation+" - "+e.name}})),onChange:function(e){re&&e===re.workTypeIdWithoutDateInput?(F(!0),C(null)):F(!1),_(e)},style:{width:"100%"},searchEnabled:!0})),a.a.createElement(at,{name:g.getString("journal-summative-work-popup_work-date"),error:R.workDate},a.a.createElement(kt,{date:E,studyYearMonths:v,onChange:C,disabled:U})),a.a.createElement(at,{name:g.getString("journal-summative-work-popup_max-mark"),error:R.maxMark},a.a.createElement("input",{className:_t.a.maxMark,value:P,onChange:function(e){(""===e.target.value||/^[1-9\b][0-9\b]{0,2}$/.test(e.target.value))&&A(e.target.value)}})),a.a.createElement(at,{name:g.getString("journal-work-popup_description")},a.a.createElement("textarea",{className:_t.a.description,value:x,name:"description",onChange:function(e){return T(e.target.value)},maxLength:4e3,rows:"4"}))),a.a.createElement("div",{className:p()(le.a.buttons,_t.a.buttons)},a.a.createElement(se,{className:le.a.whiteButton,onClick:s},g.getString("journal-summative-work-popup_button-cancel")),a.a.createElement(se,{className:le.a.blueButton,onClick:function(){if(!$){var e={subjectId:n,groupId:o,targetDate:E,workTypeId:y||re.defaultWorkType,maxMarkValue:P,description:x,periodId:i,workId:null==m?null:m.id,schoolId:t};z(e),h()}}},g.getString(d?"journal-summative-work-popup_button-edit":"journal-summative-work-popup_button-create"))))))}var Et=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){var t,n,o=e.lesson,i=e.work,l=e.l10n,s=e.editOptionsRequest,u=e.onSaveWork,c=e.onError,d=e.isOdo,m=e.index,f=e.schoolType,h=e.isSummative,g=e.schoolId,v=e.periodId,b=e.onWorkEditError,k=e.updateJournal,_=e.finalWorks,w=Object(Ke.a)(!1),j=Et(w,3),E=j[0],C=j[1],S=j[2],O=Object(r.useState)(!1),x=Et(O,2),T=x[0],I=x[1];return a.a.createElement("th",{className:p()(y.a.work,(t={},Ct(t,y.a.today,o.today),Ct(t,y.a.newDay,!m&&o.newDay),Ct(t,y.a.boldLeftBorder,o.isFirst),Ct(t,y.a.boldRightBorder,o.isLast&&0===_.length),t)),"data-test-id":"work_type_"+i.id},a.a.createElement("div",{className:p()(y.a.workHeader,(n={},Ct(n,y.a.editableWork,o.canEditWorks&&!E),Ct(n,y.a.selectedWork,E),n)),onClick:function(){o.canEditWorks&&(E||We("click_work"),C(!E))},ref:S},a.a.createElement("div",{className:y.a.overflowEllipsis},i.title),a.a.createElement("div",null,i.maxMarkValue&&i.maxMarkValue),!i.isHomework&&o.canEditWorks&&a.a.createElement("div",{className:y.a.dots,"data-test-id":"dots"},"⋮"),E&&a.a.createElement("div",{className:y.a.popover},a.a.createElement("div",{className:y.a.popoverOption,onClick:function(e){C(!1),I("edit"),We("edit_work"),e.stopPropagation()}},a.a.createElement(V.o,null),l.getString("journal-work-popover_edit")),!h&&a.a.createElement("div",{className:y.a.popoverOption,onClick:function(e){C(!1),I("create"),We("new_work"),e.stopPropagation()}},a.a.createElement(V.a,null),l.getString("journal-work-popover_create")),a.a.createElement("div",{className:y.a.popoverOption,onClick:function(e){C(!1),I("delete"),We("delete_work"),e.stopPropagation()}},a.a.createElement(V.s,null),l.getString("journal-work-popover_delete")))),T&&(!h||"delete"===T)&&a.a.createElement(oe,null,a.a.createElement(lt,{lesson:o,work:"edit"===T||"delete"===T?i:null,onClose:function(){return I(!1)},editOptionsRequest:s,onError:c,onSaveWork:u,isOdo:d,schoolType:f,workPopupState:T,isSummative:h,updateJournal:k})),T&&h&&"edit"===T&&a.a.createElement(jt,{onClose:function(){return I(!1)},isEdit:!0,work:i,schoolId:g,periodId:v,lesson:o,onError:b,updateJournal:k}))}var Ot=Object(r.memo)((function(e){var t=e.lessons,n=e.avgMarkTitles,o=e.finalWorks,i=e.journalType,l=e.l10n,s=e.onError,u=e.onSaveWork,c=e.schoolId,d=e.isOdo,m=e.schoolType,f=e.journalPeriod,h=e.summativeLessons,g=e.summativeMarksSumTitle,v=e.formativeMarkTitle,b=e.summativeRecommendedMarkTitle,k=e.showOnlySummativeWorks,_=e.onSummativeWorkEdit,w=e.periodId,j=e.onWorkEditError,E=e.updateJournal,C=e.isSummative,S=Object(r.useCallback)((function(){return s(l.getString("journal-popup_save-error"))}),[s]),O=Object(r.useCallback)((function(){return te.getWorkEditOptions(c)}),[c]),x=Object(J.a)(O,!1,S),T=o.length&&C?[a.a.createElement("th",{className:p()(y.a.work,y.a.boldLeftBorder)},a.a.createElement("div",{className:p()(y.a.workHeader)},v)),a.a.createElement("th",{className:p()(y.a.work)},a.a.createElement("div",{className:p()(y.a.workHeader)},g)),a.a.createElement("th",{className:p()(y.a.work,y.a.boldRightBorder)},a.a.createElement("div",{className:p()(y.a.workHeader)},b))]:null;return ut(t,n,o,(function(e){if(e.isThematic)return a.a.createElement("th",{className:y.a.hiddenCell,key:"thematic-"+e.id+"-work-header"});var t=e.works.map((function(t,n){return a.a.createElement(St,{key:"work-"+t.id+"-header",lesson:e,work:t,l10n:l,editOptionsRequest:x,onSaveWork:u,onError:s,isOdo:d,index:n,schoolType:m,isSummative:!1,onEdit:_,schoolId:c,periodId:w,updateJournal:E})}));return i===F.Day&&t.unshift(a.a.createElement("th",{key:"lesson-"+e.id+"-work-header",className:p()(y.a.work,Ct({},y.a.today,e.today))},l.getString("journal-header_appearance"))),t}),(function(e){return a.a.createElement("th",{className:y.a.hiddenCell,key:"avg-"+e.key+"-work-header"})}),(function(e){return a.a.createElement("th",{className:y.a.hiddenCell,key:"final-"+e.id+"-work-header"})}),d,f,h,(function(e){return e.summativeWorks.map((function(t,n){return a.a.createElement(St,{key:"work-"+t.id+"-header",lesson:e,work:t,l10n:l,editOptionsRequest:x,onSaveWork:u,onError:s,isOdo:d,index:n,schoolType:m,isSummative:!0,schoolId:c,periodId:w,onWorkEditError:j,updateJournal:E,finalWorks:o})}))}),[T],k)})),xt=n(653),Tt=n.n(xt);function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nt=function(e){var t,n=e.checked,r=e.disabled,o=e.text,i=e.errorText,l=e.onClick,s=e.style,u=e.className,c=e.title,d=e.testId,m=p()(Tt.a.checkbox,(It(t={},Tt.a.checked,n),It(t,Tt.a.disabled,r),t));return a.a.createElement("div",{className:p()(Tt.a.container,u),onClick:l,style:s,"data-test-id":d},a.a.createElement("div",{className:m,title:c},n&&a.a.createElement("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M1 3.33339L2.23804 4.66665L5.33333 1.33331",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}))),o&&a.a.createElement("div",{className:Tt.a.text},a.a.createElement("div",null,o),i&&a.a.createElement("div",{className:Tt.a.error},i)))},Pt=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var At=Object(r.memo)((function(e){var t=Object(r.useState)(e.checked),n=Pt(t,2),o=n[0],i=n[1],l=Object(r.useCallback)((function(){e.onError&&e.onError(),i((function(e){return!e}))}),[e.onError]),s=Object(J.a)(e.apiMethod,!1,l),u=s.execute,c=s.isPending;return a.a.createElement(Nt,{className:e.className,disabled:e.disabled||c,onClick:function(){var e=!o;i(e),u(e)},checked:o,title:e.tooltip,"data-test-id":e.testId,style:e.style,testId:e.testId})}));function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e){We(e?"set_held":"del_held")}var Mt=Object(r.memo)((function(e){var t,n=e.lesson,r=e.journalType,o=e.isOdo,i=e.l10n,l=e.scrollToLessonRef,s=e.schoolType,u=e.isSummative,c=e.finalWorks,d=u?n.summativeWorks.length&&n.summativeWorks[0]:n.works.length&&n.works[0],m=u?n.summativeWorks:n.works;if(n.isThematic){var f=d&&d.text||"";return a.a.createElement("th",{rowSpan:2},a.a.createElement("a",{className:p()(y.a.thematicTitle,Dt({},y.a.linkDisabled,!n.editThematicUrl)),onClick:function(){return We("edit_thematic")},href:n.editThematicUrl,title:i.getString("journal-header_thematic-title")+" "+f},a.a.createElement("span",null,i.getString("journal-header_thematic-title")),a.a.createElement("span",{className:y.a.overflowEllipsis},f)))}if(r===F.Subject){var h,g=T(n.resultDate);return n.resultDate!==n.plannedDate&&(g+=" ("+T(n.plannedDate)+")"),a.a.createElement("th",{colSpan:m.length,className:p()(y.a.lessonHeader,(h={},Dt(h,y.a.today,n.today),Dt(h,y.a.boldLeftBorder,n&&n.isFirst),Dt(h,y.a.boldRightBorder,n&&n.isLast&&0===c.length),h)),ref:l},a.a.createElement("div",{className:y.a.lessonNumber},o||!n.canEdit?a.a.createElement("span",null,g):a.a.createElement("a",{onClick:function(){return We("to_lesson_journal")},href:n.url,"data-test-id":"lesson_date_"+n.id},g),o&&a.a.createElement(At,{className:y.a.checkbox,apiMethod:function(e){return te.editLessonHeld(n.id,e).then((function(){return Lt(e)}))},checked:n.lessonHeld,tooltip:i.getString("journal-header_lesson-held",{schoolType:s}),disabled:!n.canEdit,testId:"lesson_held_"+n.id})),n.today&&a.a.createElement("div",{className:y.a.todayHeader},i.getString("journal-table_today")),a.a.createElement("div",{className:y.a.overflowEllipsis},n.subGroupName))}var v=r===F.Day,b=v?1:0;return a.a.createElement("th",{colSpan:n.works.length+b,className:p()(y.a.lessonHeader,(t={},Dt(t,y.a.today,n.today),Dt(t,y.a.newDay,n.newDay),t)),ref:v?void 0:l},a.a.createElement("div",{className:y.a.column},a.a.createElement("div",{className:y.a.lessonNumber},a.a.createElement("a",{onClick:function(){return We("to_lesson_journal")},href:n.url,"data-test-id":"lesson_date_"+n.id},i.getString("journal-header_lesson-number",{lessonNumber:n.resultLessonNumber,schoolType:s})),v&&a.a.createElement(At,{className:y.a.checkbox,apiMethod:function(e){return te.editLessonHeld(n.id,e).then((function(){return Lt(e)}))},checked:n.lessonHeld,tooltip:i.getString("journal-header_lesson-held",{schoolType:s}),disabled:!n.canEdit,testId:"lesson_held_"+n.id})),a.a.createElement("div",{className:p()(y.a.overflowEllipsis,y.a.boldTitle)},n.subjectName),a.a.createElement("div",{className:y.a.overflowEllipsis},n.subGroupName)))})),Rt=n(763),Ht=n.n(Rt),Bt=n(1050),Wt=n.n(Bt),Ut=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Ft(e,t){var n=parseInt(e,10);return isNaN(n)?0:n>t?t:n}var Vt=function(e){var t=Object(r.useState)(M(e.time)),n=Ut(t,2),o=n[0],i=n[1],s=Object(l.d)().l10n;return a.a.createElement("div",{className:Wt.a.container},a.a.createElement(V.g,null),a.a.createElement("input",{type:"text",value:o,placeholder:s.getString("journal-final-work-popup_work-time-placeholder"),onChange:function(t){var n=t.target.value;if(null!==n.match(/^\d*\:?\d*$/)){var r=0,a=0;if(n){n.length>2&&!n.includes(":")&&(n=n.substring(0,2)+":"+n.substring(2));var o=n.split(":");if(o.some((function(e){return e.length>2})))return;o.length&&(r=Ft(o[0],23)),o.length>1&&(a=Ft(o[1],59))}i(n),e.onChange(60*r+a)}},onBlur:function(){i(M(e.time))}}))},qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yt=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var zt="PeriodWork",$t="AttestationWork";var Zt=function(e){var t=e.subject,n=e.groupId,o=e.schoolId,i=e.work,s=e.onClose,u=e.onError,c=e.onSaveWork,d=e.studyYear,p=e.getWorkEditOptions,m=e.onLoadError,f=Object(l.d)().l10n,h=Object(r.useState)(i&&i.finalWorkMode||$t),g=Yt(h,2),v=g[0],b=g[1],k=Object(r.useState)(i&&i.workType),y=Yt(k,2),_=y[0],w=y[1],j=Object(r.useState)(i&&i.markType),E=Yt(j,2),C=E[0],S=E[1],O=Object(r.useState)(i&&i.workDate),x=Yt(O,2),T=x[0],I=x[1],N=Object(r.useState)(i&&i.periodStartDate),P=Yt(N,2),A=P[0],L=P[1],M=Object(r.useState)(i&&i.periodFinishDate),R=Yt(M,2),H=R[0],W=R[1],U=Object(r.useState)(i&&i.timeFrom||0),F=Yt(U,2),V=F[0],q=F[1],Y=Object(r.useState)(i&&i.timeTo||0),z=Yt(Y,2),$=z[0],Z=z[1],G=Object(r.useState)(i&&i.placeId||null),K=Yt(G,2),X=K[0],Q=K[1],ee=Object(r.useState)(!1),re=Yt(ee,2),ae=re[0],ie=re[1],ue=Object(r.useState)({}),ce=Yt(ue,2),de=ce[0],pe=ce[1],me=!!i,fe=B(d),he=Object(r.useCallback)((function(){return u(f.getString("journal-popup_save-error"))}),[u]),ge=Object(r.useCallback)((function(e){!1===e.success?e.error?u(e.error):he():(c(qt({},e,{work:qt({},e.work,{isNew:!0})})),We("save_final_work"),s())}),[u,c]),ve=Object(r.useCallback)((function(e){e.success?(c({work:i,deleteWork:!0}),s()):e.error?u(e.error):he()}),[u,c]),be=Object(J.a)(te.saveFinalWork,!1,he,ge),ke=be.execute,ye=be.isPending,_e=Object(J.a)(te.deleteFinalWork,!1,he,ve),we=_e.execute,je=_e.isPending,Ee=Object(J.a)(p,!1,m),Ce=Ee.execute,Se=Ee.isPending,Oe=Ee.error,xe=Ee.value,Te=Object(r.useMemo)((function(){return[{value:null,text:""}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.entries(xe&&xe.places||{}).map((function(e){var t=Yt(e,2);return{value:t[0],text:t[1]}}))))}),[xe&&xe.places]);if(Object(r.useEffect)((function(){Oe?s():xe||Se||Ce(i?i.id:null)}),[Se,Oe,xe]),ae){var Ie=xe.workTypes.find((function(e){return e.id===_})),Ne=Ie?Ie.abbreviation+" - "+Ie.name:"";return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:function(){return ie(!1)},title:f.getString("journal-final-work-popup_delete-title")},a.a.createElement("div",{className:Ht.a.deleteText},f.getString("journal-final-work-popup_delete-text",{workTypeName:Ne})),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{onClick:function(){return ie(!1)},className:le.a.whiteButton},f.getString("journal-button_cancel")),a.a.createElement(se,{onClick:function(){je||we(i.id,i.finalWorkMode)},className:le.a.blueButton},f.getString("journal-button_delete")))))}return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:s,title:f.getString(i?"journal-final-work-popup_edit-title":"journal-final-work-popup_create-title"),testId:"final-work-popup",subtitle:t.name},Se&&a.a.createElement(Pe.a,null),xe&&a.a.createElement("div",{className:Ht.a.container},a.a.createElement(at,{name:f.getString("journal-final-work-popup_type")},me?a.a.createElement("div",null,f.getString(v===$t?"journal-final-work-popup_attestation-work":"journal-final-work-popup_period-work")):a.a.createElement(r.Fragment,null,a.a.createElement(tt.a,{active:v===$t,text:f.getString("journal-final-work-popup_attestation-work"),onClick:function(){return b($t)}}),a.a.createElement(tt.a,{active:v===zt,text:f.getString("journal-final-work-popup_period-work"),onClick:function(){return b(zt)}}))),a.a.createElement(at,{name:f.getString("journal-work-popup_work-type")},a.a.createElement(et.a,{value:_||xe.workTypes.length&&xe.workTypes[0].id,options:xe.workTypes.map((function(e){return{value:e.id,text:e.abbreviation+" - "+e.name}})),onChange:w,searchEnabled:!0,style:{width:"100%"}})),v===$t?a.a.createElement(r.Fragment,null,a.a.createElement(at,{name:f.getString("journal-final-work-popup_work-date"),error:de.workDate},a.a.createElement(kt,{date:T,onChange:I,studyYearMonths:fe})),a.a.createElement(at,{name:f.getString("journal-final-work-popup_work-time"),errors:de.timeErrors},a.a.createElement("div",{className:Ht.a.range},a.a.createElement(Vt,{time:V,onChange:q})," — ",a.a.createElement(Vt,{time:$,onChange:Z}))),a.a.createElement(at,{name:f.getString("journal-final-work-popup_place")},a.a.createElement(et.a,{value:X,options:Te,onChange:Q,searchEnabled:!0,style:{width:"100%"}}))):a.a.createElement(at,{name:f.getString("journal-final-work-popup_period"),errors:de.periodErrors},a.a.createElement("div",{className:Ht.a.range},a.a.createElement(kt,{date:A,onChange:L,studyYearMonths:fe})," — ",a.a.createElement(kt,{date:H,onChange:W,studyYearMonths:fe}))),a.a.createElement(at,{name:f.getString("journal-work-popup_mark-type")},xe.markTypes.map((function(e){return a.a.createElement(tt.a,{active:e===(C||xe.defaultMarkType),text:f.getString("mark-type-"+e.toLowerCase()),onClick:function(){return function(e){i&&!xe.canDelete||S(e)}(e)},disabled:i&&!xe.canDelete})})))),a.a.createElement("div",{className:le.a.buttons},i&&xe&&xe.canDelete&&a.a.createElement(se,{onClick:function(){return ie(!0)},className:le.a.whiteButton},f.getString("journal-final-work-popup_delete-button")),a.a.createElement(se,{onClick:function(){if(!ye){var e={};if(v===$t){T?(T<D(fe.from)||T>D(fe.to))&&(e.workDate=f.getString("journal-final-work-popup_out-of-range-date")):e.workDate=f.getString("journal-final-work-popup_invalid-date");var r=[],a=V||0===V,l=$||0===$;l&&!a&&r.push(f.getString("journal-final-work-popup_invalid-time-from")),a&&!l&&r.push(f.getString("journal-final-work-popup_invalid-time-to")),a&&l&&V>=$&&r.push(f.getString("journal-final-work-popup_invalid-time-range")),r.length&&(e.timeErrors=r)}else{var s=[];A?(A<D(fe.from)||A>D(fe.to))&&s.push(f.getString("journal-final-work-popup_out-of-range-start-date")):s.push(f.getString("journal-final-work-popup_invalid-start-date")),H?H<D(fe.from)||H>D(fe.to)?s.push(f.getString("journal-final-work-popup_out-of-range-finish-date")):H<A&&s.push(f.getString("journal-final-work-popup_invalid-date-range")):s.push(f.getString("journal-final-work-popup_invalid-finish-date")),s.length&&(e.periodErrors=s)}if(pe(e),!Object.keys(e).length){var u={workId:i&&i.id,groupId:n,schoolId:o,subjectId:t.id,finalWorkMode:v,markType:C||xe.defaultMarkType,workType:_||xe.workTypes.length&&xe.workTypes[0].id,periodStartDate:A,periodFinishDate:H,date:T,timeFrom:V,timeTo:$,placeId:X};ke(u)}}},className:le.a.blueButton},f.getString("journal-button_save")))))},Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e){var t,n=e.work,o=e.l10n,i=e.onSaveWork,l=e.onError,s=e.subject,u=e.groupId,c=e.schoolId,d=e.studyYear,m=e.getWorkEditOptions,f=e.onLoadError,h=Object(Ke.a)(!1),g=Gt(h,3),v=g[0],b=g[1],k=g[2],_=Object(r.useState)(!1),w=Gt(_,2),j=w[0],E=w[1],C=n.canEdit;return a.a.createElement("th",{className:y.a.work,rowSpan:2,key:"work_"+n.id},a.a.createElement("div",{className:p()(y.a.workHeader,(t={},Kt(t,y.a.editableWork,C&&!v),Kt(t,y.a.selectedWork,v),t)),onClick:C?function(){return b(!0)}:void 0,ref:k,"data-test-id":"final_mark"},n.workTypeName," ",a.a.createElement("div",null,function(e){return e.periodStartDate&&e.periodFinishDate?T(e.periodStartDate)+" - "+T(e.periodFinishDate):""}(n)),n.showResetButton&&a.a.createElement("div",{className:y.a.resetWorkButton,title:o.getString("reset-work-type-tooltip"),onClick:function(){te.resetWorkType({schoolId:c,workId:n.id}).then((function(e){e.success&&i({work:Jt({},n,{showResetButton:!1}),deleteWork:!1})})).catch((function(){return l(o.getString("journal-popup_default-error"))})),We("reset_types")}},o.getString("reset-work-type-button")),C&&a.a.createElement("div",{className:y.a.workOptions},a.a.createElement("div",{className:y.a.dots,"data-test-id":"dots"},"⠇")),v&&a.a.createElement("div",{className:y.a.popover},a.a.createElement("div",{className:y.a.popoverOption,onClick:function(e){b(!1),E(!0),We("edit_final_work"),e.stopPropagation()}},a.a.createElement(V.o,null),o.getString("journal-work-popover_edit")))),j&&a.a.createElement(oe,null,a.a.createElement(Zt,{work:n,onClose:function(){return E(!1)},getWorkEditOptions:m,onLoadError:f,onError:l,onSaveWork:i,subject:s,groupId:u,schoolId:c,studyYear:d})))}var Qt=Object(r.memo)((function(e){var t=e.lessons,n=e.avgMarkTitles,o=e.finalWorks,i=e.journalPeriod,s=e.journalType,u=e.isOdo,c=e.onSaveFinalWork,d=e.onError,m=e.subject,f=e.schoolId,h=e.groupId,g=e.studyYear,v=e.schoolType,b=e.summativeLessons,k=e.finalMarkCalculationTitle,_=e.showOnlySummativeWorks,w=e.isSummative,j=Object(l.d)().l10n,E=Object(r.useRef)(null),C=Object(r.useCallback)((function(e){return te.getFinalWorkEditOptions(f,e)}),[f]),S=Object(r.useCallback)((function(){return d(j.getString("journal-popup_save-error"))}),[d]);Object(r.useEffect)((function(){E.current&&E.current.scrollIntoView({block:"nearest",inline:"center",behavior:"auto"})}),[]);var O=void 0;if(s!==F.Day){var x=D(new Date);O=t.find((function(e){return!e.isThematic&&e.resultDate>=x}))}var T=s===F.Week,I=o.length&&w?a.a.createElement("th",{className:p()(y.a.work,y.a.boldRightBorder,y.a.boldLeftBorder),colSpan:3,key:"recommendedMarksBlock"},a.a.createElement("div",{className:p()(y.a.workHeader)},k)):null,N=ut(t,n,o,(function(e){return a.a.createElement(Mt,{lesson:e,key:"lesson_"+e.id,l10n:j,journalType:s,isOdo:u,scrollToLessonRef:O&&O.id===e.id?E:void 0,schoolType:v,isSummative:!1})}),(function(e){return a.a.createElement("th",{className:y.a.work,rowSpan:2,key:"avg_"+e.key,"data-test-id":"average_mark"},e.title)}),(function(e){return a.a.createElement(Xt,{key:"final_work_"+e.id,work:e,l10n:j,getWorkEditOptions:C,onLoadError:S,onSaveWork:c,onError:d,subject:m,groupId:h,schoolId:f,studyYear:g})}),u,i,b,(function(e){return a.a.createElement(Mt,{lesson:e,key:"summative-lesson_"+e.id,l10n:j,journalType:s,isOdo:u,scrollToLessonRef:O&&O.id===e.id?E:void 0,schoolType:v,isSummative:!0,finalWorks:o})}),[I],_);return a.a.createElement("tr",null,!T&&a.a.createElement("th",{className:y.a.firstCell,rowSpan:2,key:"fio"},j.getString("journal-table_fio")),N,a.a.createElement("th",{className:y.a.fillerX}))})),en=n(693),tn=n.n(en);function nn(e){var t,n,r,o=e.text,i=e.newThematicMarkUrl,l=e.selected,s=e.onClick,u=e.testId,c=e.plusTestId,d=e.icon;return a.a.createElement("div",{className:tn.a.container},a.a.createElement("div",{className:p()(tn.a.text,(t={},n=tn.a.selected,r="thematic"===l,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),onClick:s,"data-test-id":u},d,o),i&&a.a.createElement("div",{className:tn.a.newThematicMark},a.a.createElement("a",{className:tn.a.plusButton,onClick:function(){return We("add_thematic")},href:i,"data-test-id":c},a.a.createElement(V.p,null))))}var rn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var an=Object(r.memo)((function(e){var t=e.subject,n=e.groupId,o=e.schoolId,l=e.l10n,s=e.onError,u=e.onSaveWork,c=e.containerRef,d=e.studyYear,p=Object(r.useState)(document.createElement("div")),m=rn(p,1)[0],f=Object(r.useState)(!1),h=rn(f,2),g=h[0],v=h[1],b=Object(r.useCallback)((function(){return s(l.getString("journal-popup_save-error"))}),[s]),k=Object(r.useCallback)((function(){return te.getFinalWorkEditOptions(o)}),[o]);Object(r.useEffect)((function(){if(c.current)return c.current.appendChild(m),function(){c.current&&c.current.removeChild(m)}}),[]);var y=a.a.createElement(r.Fragment,null,a.a.createElement(nn,{icon:Object(V.p)(),text:l.getString("journal-final-work-button_text"),onClick:function(){v(!0),We("add_final_work")},testId:"final-work-button"}),g&&a.a.createElement(oe,null,a.a.createElement(Zt,{onClose:function(){return v(!1)},getWorkEditOptions:k,onLoadError:b,onError:s,onSaveWork:u,subject:t,groupId:n,schoolId:o,studyYear:d})));return i.a.createPortal(y,m)})),on=function(e){e.current&&(e.current.getBoundingClientRect().top>0&&e.current.scrollIntoView(!0))},ln={subject:"/journal/school/:schoolId/group/:groupId/subject/:subjectId",odoSubject:"/journal/odo/group/:groupId/subject/:subjectId",day:"/journal/school/:schoolId/group/:groupId/day/:day/:month/:year?",week:"/journal/school/:schoolId/group/:groupId/week/:day/:month/:year?"},sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},un=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function cn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn=__JOURNAL__INITIAL__STATE__;function mn(e){var t=e.lessons,n=e.finalWorks,r=e.avgMarkTitles,o=e.journalType,i=e.isOdo,l=e.journalPeriod,s=e.summativeLessons,u=e.showOnlySummativeWorks,c=e.isSummative,d=n.length&&c?[a.a.createElement("td",{className:p()(y.a.fillerY,y.a.boldLeftBorder),key:"fake_row_formative_avg"}),a.a.createElement("td",{className:p()(y.a.fillerY),key:"fake_row_summative_sum"}),a.a.createElement("td",{className:p()(y.a.fillerY,y.a.boldRightBorder),key:"fake_row_summative_recommended"})]:null,m=ut(t,r,n,(function(e){var t=e.works.map((function(t,n){var r;return a.a.createElement("td",{className:p()(y.a.fillerY,(r={},dn(r,y.a.today,e.today),dn(r,y.a.newDay,!n&&e.newDay),r)),key:"fake_row_work_"+t.id})}));return o===F.Day&&t.unshift(a.a.createElement("td",{className:p()(y.a.fillerY,dn({},y.a.today,e.today)),key:"fake_row_appearance_"+e.id})),t}),(function(e){return a.a.createElement("td",{className:p()(y.a.fillerY,y.a.specialMark),key:"fake_row_avg_"+e.key})}),(function(e){return a.a.createElement("td",{className:p()(y.a.fillerY,y.a.specialMark),key:"fake_row_work_"+e.id})}),i,l,s,(function(e){return e.summativeWorks.map((function(t,r){var o;return a.a.createElement("td",{className:p()(y.a.fillerY,(o={},dn(o,y.a.today,e.today),dn(o,y.a.newDay,!r&&e.newDay),dn(o,y.a.boldLeftBorder,e.isFirst),dn(o,y.a.boldRightBorder,e.isLast&&0===n.length),o)),key:"fake_row_work_"+t.id})}))}),d,u);return a.a.createElement("tr",null,a.a.createElement("td",{className:p()(y.a.fillerY,y.a.person)}),m,a.a.createElement("td",{className:y.a.fillerXY}))}function fn(e,t,n){return!n||n[e.id]||e.isNew&&t.some((function(e){return n[e.id]}))}function hn(e){var t=e.person,n=e.lesson,o=e.schoolId,i=e.canEditPersonData,l=e.canEditPersonAppearance,s=e.onError,u=e.journalType,c=e.groupId,d=e.subjectId,p=e.markHint,m=e.setMarkHint,f=e.schoolType,h=e.isOdo,g=e.parallel,v=e.isSummative,b=e.finalWorks,k=t.lessonLogEntries||[],y=Object(r.useState)(k[n.id]),_=un(y,2),w=_[0],j=_[1],E=u===F.Day,C=v?n.summativeWorks:n.works,S=v?t.summativeMarks:t.marks,O=1===C.length&&u===F.Week,x=C.map((function(e,r){return a.a.createElement(Ge,{personId:t.id,work:e,marks:S[e.id],present:w,key:"work_"+e.id+"_person_"+t.id,schoolId:o,lesson:n,canEdit:fn(e,C,i),onError:s,onPresentChange:j,setAppearance:!e.isHomework&&!n.isThematic&&!E,setMark:!0,wide:O,newDay:!r&&n.newDay,groupId:c,subjectId:d,markHint:p&&p.key===e.id?p:void 0,setMarkHint:m,schoolType:f,isOdo:h,parallel:g,journalType:u,finalWorks:b})}));return E&&(x=[a.a.createElement(Ge,{personId:t.id,marks:[],present:w,key:"lesson_"+n.id+"_appearance_person_"+t.id,schoolId:o,lesson:n,canEdit:l[n.id]||pn.canSetAdditionalAppearanceMarks,onError:s,onPresentChange:j,setAppearance:!0,setMark:!1,groupId:c,subjectId:d,markHint:p&&p.key===n.id?p:void 0,setMarkHint:m,isOdo:h,parallel:g,schoolType:f,journalType:u,dayJournal:!0,finalWorks:b})].concat(cn(x))),x}var gn=a.a.memo((function(e){var t=e.person,n=e.lessons,r=e.avgMarkTitles,o=e.finalWorks,i=e.index,l=e.schoolId,s=e.canEditPersonData,u=e.canEditPersonAppearance,c=e.l10n,d=e.onError,m=e.journalPeriod,f=e.journalType,h=e.isOdo,g=e.groupId,v=e.subjectId,b=e.schoolType,k=e.markHint,_=e.setMarkHint,w=e.parallel,j=e.isReadOnly,E=e.summativeLessons,C=e.showOnlySummativeWorks,S=e.isSummative;null===t.lessonLogEntries&&(t.lessonLogEntries=[]);var O=o.length&&S?[a.a.createElement("td",{className:p()(y.a.mark,y.a.blocked,y.a.boldLeftBorder),"data-test-id":"formative_avg",key:"formative_avg"},t.averageFormativeMark),a.a.createElement("td",{className:p()(y.a.mark,y.a.blocked),"data-test-id":"summative_sum",key:"summative_sum"},t.summativeMarksSum),a.a.createElement("td",{className:p()(y.a.mark,y.a.boldRightBorder,y.a.blocked),"data-test-id":"summative_recommended",key:"summative_recommended"},t.recommendedFinalSummativeMark)]:null,x=ut(n,r,o,(function(e){return a.a.createElement(hn,{person:t,lesson:e,schoolId:l,canEditPersonData:s,canEditPersonAppearance:u,onError:d,journalType:f,key:"lesson_"+e.id+"_person_"+t.id,groupId:g,subjectId:v,markHint:k,setMarkHint:_,schoolType:b,isOdo:h,parallel:w,isSummative:!1})}),(function(e){return a.a.createElement("td",{className:y.a.specialMark,key:"avg_"+e.key+"_person_"+t.id},t.averageMarks[e.key])}),(function(e){return a.a.createElement(Ge,{personId:t.id,work:e,marks:t.marks[e.id],schoolId:l,key:"final_work_"+e.id+"_person_"+t.id,canEdit:!s||s[e.id]||e.isNew,onError:d,className:y.a.specialMark,setAppearance:!1,setMark:!0,groupId:g,subjectId:v,finalWorks:o})}),h,m,E,(function(e){return a.a.createElement(hn,{person:t,lesson:e,schoolId:l,canEditPersonData:s,canEditPersonAppearance:u,onError:d,journalType:f,key:"summative-lesson_"+e.id+"_person_"+t.id,groupId:g,subjectId:v,markHint:k,setMarkHint:_,schoolType:b,isOdo:h,parallel:w,isSummative:!0,finalWorks:o})}),O,C);return a.a.createElement("tr",null,a.a.createElement(bn,{person:t,index:i,l10n:c,isOdo:h,schoolType:b,isReadOnly:j}),x,a.a.createElement("td",{className:y.a.fillerX}))}));function vn(e){var t=e.persons,n=e.schoolId,o=e.lessons,i=e.finalWorks,l=e.avgMarkTitlesList,s=e.canEditData,u=e.canEditAppearance,c=e.l10n,d=e.onError,m=e.journalPeriod,f=e.journalType,h=e.isOdo,g=e.groupId,v=e.subjectId,b=e.schoolType,k=e.excludedIndex,_=e.parallel,w=e.isReadOnly,j=e.summativeLessons,E=e.showOnlySummativeWorks,C=e.isSummative,S=Object(r.useState)(null),O=un(S,2),x=O[0],T=O[1],I=t.map((function(e,t){return a.a.createElement(gn,{schoolId:n,person:e,lessons:o,finalWorks:i,avgMarkTitles:l,index:t,key:"person_"+e.id,canEditPersonData:s[e.id],canEditPersonAppearance:u&&u[e.id],l10n:c,onError:d,journalPeriod:m,journalType:f,isOdo:h,groupId:g,subjectId:v,schoolType:b,markHint:x&&x.personId===e.id?x:void 0,setMarkHint:T,parallel:_,isReadOnly:w,summativeLessons:j,showOnlySummativeWorks:E,isSummative:C})}));if(k>=0){var P=o.reduce((function(e,t){return e+t.works.length}),0)+l.length+i.length+2;I.splice(k,0,a.a.createElement("tr",{key:"excluded_persons"},a.a.createElement("td",{className:p()(y.a.person,y.a.excluded),colSpan:P},c.getString("journal-table_excluded",{excludedDate:N(new Date)}))))}return I}function bn(e){var t=e.person,n=e.index,o=e.l10n,i=e.isOdo,l=e.schoolType,s=e.isReadOnly,u=Object(r.useRef)(null),c=t.lastName+" "+t.firstName;return a.a.createElement("td",{className:y.a.person},a.a.createElement("div",{className:y.a.personContent,"data-test-id":"person_"+t.id},a.a.createElement("span",{className:y.a.number},n+1),i?a.a.createElement("span",null,c):a.a.createElement("a",{onClick:function(){return We("click_name")},href:t.schoolMarksUrl,target:"_blank",rel:"noreferrer"},c),window.__SEND__MESSAGE__INITIAL__STATE__&&!s&&a.a.createElement("div",{className:y.a.sendMessageButton,ref:u,onClick:function(){var e=o.getString("journal-chat_sendmessage-intro-defaultmark",{schoolType:l});window.showSendMessagePopup(u.current,n,"person_message_container",e,"privatemessage",t.id,null,null)},"data-test-id":"send_message_for_person_"+t.id},a.a.createElement(V.e,null))))}function kn(e){var t=e.lessons,n=e.schoolId,r=e.groupId,o=e.l10n;return b.a.chain(t).groupBy("resultDate").map((function(e,t){return{date:t,worksCount:e.reduce((function(e,t){return e+t.works.length}),0),today:e[0].today,url:Object(u.e)(ln.day,sn({schoolId:n,groupId:r},x(t)))}})).value().map((function(e){return a.a.createElement("th",{colSpan:e.worksCount,className:p()(y.a.newDay,dn({},y.a.today,e.today))},a.a.createElement("a",{className:y.a.dayUrl,href:e.url,"data-test-id":"date_"+e.date,onClick:function(){return We("todayjournal")}},(t=e.date,C.a.utc(1e3*t).locale(S).format("dd, D MMMM"))),e.today&&a.a.createElement("div",{className:y.a.todayHeader},o.getString("journal-table_today")));var t}))}function yn(e,t){return e.map((function(e,n,r){return sn({},e,{today:!e.isThematic&&t!==F.Day&&O(e.resultDate),newDay:t===F.Week&&!!n&&r[n-1].resultDate!==e.resultDate})}))}function _n(e,t,n){return n?e.filter((function(e){return e.id!==t.id})):e.some((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?t:e})):[].concat(cn(e),[t])}var wn=Object(r.memo)((function(e){var t=e.journalData,n=e.schoolId,o=e.journalType,i=e.isOdo,s=e.onError,u=e.journalPeriod,c=e.groupId,d=e.subjectId,m=e.subject,f=e.finalWorkButtonRef,h=e.studyYear,g=e.schoolType,v=e.parallel,b=e.isReadOnly,k=e.showOnlySummativeWorks,_=e.onWorkEditError,w=e.updateJournal,E=e.isSummative,C=t.canEditAppearance,S=Object(r.useRef)(null),O=Object(r.useState)(yn(t.lessons||[],o)),x=un(O,2),T=x[0],I=x[1],N=Object(r.useState)(yn(t.summativeLessons||[],o)),P=un(N,2),A=P[0],D=(P[1],Object(r.useState)(t.finalWorks||[])),L=un(D,2),M=L[0],R=L[1],H=Object(r.useState)(t.persons),B=un(H,2),W=B[0],U=B[1],V=Object(r.useState)(t.averageMarkTitles?t.averageMarkTitles.markTitlesList:[]),q=un(V,2),Y=q[0],z=q[1],$=Object(l.d)().l10n,Z=t.canEditData||{},J=o===F.Week;A&&A.length>0&&(A[0].isFirst=!0,A[A.length-1].isLast=!0);var G=Object(r.useCallback)((function(e){var t=e.lessonId,n=e.work,r=e.deleteWork;return I((function(e){return function(e,t,n,r){return e.map((function(e){return e.id===t?sn({},e,{works:_n(e.works,n,r)}):e}))}(e,t,n,r)}))}),[]),K=Object(r.useCallback)((function(t){var n=t.work,r=t.deleteWork,a=t.averageMarks,o=n.workDate||n.periodFinishDate;o<e.dateStart||o>e.dateFinish||(R((function(e){return _n(e,n,r)})),a&&(z((function(e){return[].concat(cn(e),[a.workTitle])})),U((function(e){return e.map((function(e){return a.marks[e.id]?sn({},e,{averageMarks:sn({},e.averageMarks,dn({},a.workTitle.key,a.marks[e.id]))}):e}))}))))}),[]),X=i?W.findIndex((function(e){return!!e.excluded})):-1,Q=p()(y.a.container,j.a.customScroll,dn({},y.a.weekJournal,J));return a.a.createElement("div",{className:Q,"data-test-id":"journal-table",ref:S},a.a.createElement("table",{className:p()(y.a.journal,dn({},y.a.odoJournal,i))},a.a.createElement("thead",null,J&&a.a.createElement("tr",null,a.a.createElement("th",{className:y.a.firstCell,rowSpan:3,key:"fio"},$.getString("journal-table_fio")),a.a.createElement(kn,{lessons:T,l10n:$,schoolId:n,groupId:c}),a.a.createElement("th",{className:y.a.fillerX})),a.a.createElement(Qt,{lessons:T,avgMarkTitles:Y,finalWorks:M,journalPeriod:u,journalType:o,isOdo:i,onSaveFinalWork:K,onError:s,subject:m,groupId:c,schoolId:n,studyYear:h,schoolType:g,summativeLessons:A,finalMarkCalculationTitle:t.finalMarkCalculationTitle,showOnlySummativeWorks:k,isSummative:E}),a.a.createElement("tr",null,a.a.createElement(Ot,{lessons:T,avgMarkTitles:Y,finalWorks:M,journalPeriod:u,journalType:o,schoolId:n,l10n:$,onError:s,onSaveWork:G,isOdo:i,schoolType:g,summativeLessons:A,summativeMarksSumTitle:t.summativeMarksSumTitle,formativeMarkTitle:t.formativeMarkTitle,summativeRecommendedMarkTitle:t.summativeRecommendedMarkTitle,showOnlySummativeWorks:k,periodId:u,onWorkEditError:_,updateJournal:w,isSummative:E}),a.a.createElement("th",{className:y.a.fillerX}))),a.a.createElement("tbody",{className:p()(dn({},y.a.devided,o===F.Subject)),onClick:function(){return on(S)}},a.a.createElement(vn,{persons:W,schoolId:n,lessons:T,finalWorks:M,avgMarkTitlesList:Y,canEditData:Z,canEditAppearance:C,l10n:$,onError:s,journalPeriod:u,journalType:o,isOdo:i,groupId:c,subjectId:d,schoolType:g,excludedIndex:X,parallel:v,isReadOnly:b,summativeLessons:A,showOnlySummativeWorks:k,isSummative:E}),a.a.createElement(mn,{lessons:T,finalWorks:M,avgMarkTitles:Y,journalType:o,journalPeriod:u,isOdo:i,summativeLessons:A,showOnlySummativeWorks:k,isSummative:E}))),i&&t.canAddFinalWork&&a.a.createElement(an,{subject:m,groupId:c,schoolId:n,l10n:$,onError:s,onSaveWork:K,containerRef:f,studyYear:h}),a.a.createElement("div",{id:"person_message_container"}))})),jn=n(164),En=n.n(jn),Cn=n(388),Sn=n.n(Cn),On=n(5),xn=n(654),Tn=n.n(xn),In=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Dn=function(e){function t(){var e,n,r;Pn(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=An(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={expanded:!1},r.componentDidMount=function(){Object(On.b)({click:r.onDocumentClick})},r.componentWillUnmount=function(){Object(On.e)({click:r.onDocumentClick})},r.onDocumentClick=function(e){r.selectedRef.contains(e.target)||r.setState({expanded:!1})},r.onOptionClick=function(e){r.props.onChange&&(r.props.onChange(e),r.setState({expanded:!1}))},An(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),In(t,[{key:"componentDidUpdate",value:function(e,t){this.props.onExpanded&&!t.expanded&&this.state.expanded&&this.props.onExpanded()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.placeholder,o=t.disabled,i=t.testIdContainer,l=t.testIdDropDown,s=t.isPending,u=t.containerStyle,c=(this.props.defaultOption?[this.props.defaultOption]:[]).concat(this.props.options||[]),d=c.find((function(e){return e.value===n}));return a.a.createElement("div",{className:Tn.a.container,style:u,ref:function(t){e.selectedRef=t}},a.a.createElement("div",{className:p()(Tn.a.selected,Nn({},Tn.a.disabled,o)),ref:function(t){e.selectedRef=t},onClick:function(){o||e.setState({expanded:!e.state.expanded})},"data-test-id":i},d&&n>0?d.text:a.a.createElement("div",{className:Tn.a.placeholder},r)),this.state.expanded&&!s&&a.a.createElement("div",{className:Tn.a.options},c.filter((function(e){return 1===c.length||e.value!==n})).map((function(t){return a.a.createElement("div",{className:p()(Nn({},Tn.a.selected,t.value===n)),key:"option-"+t.value,onClick:function(){return e.onOptionClick(t.value)},"data-test-id":l},t.text||" ")}))))}}]),t}(r.Component);var Ln=new K.a(window.__JOURNAL__INITIAL__STATE__.ctpApiUrl,"include",{simple:!0}),Mn=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Ln));return e.getLessonThemes=function(t){var n=t.lessonId;return e.get("/ctp/lesson-themes",{lessonId:n})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(G.a)),Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Bn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Wn=function(e){var t=e.onError,n=e.lesson,o=e.setLesson,i=Object(l.d)().l10n,s=Object(r.useState)([]),u=Hn(s,2),c=u[0],d=u[1],p=Object(J.a)(Mn.getLessonThemes,!1),m=p.execute,f=p.isPending,h=p.error,g=p.value,v=Object(J.a)(te.updateLessonTitle,!1),b=v.execute,k=(v.isPending,v.error),y=v.value;Object(r.useEffect)((function(){if(k)t(i.getString("journal-popup_save-error"));else if(y&&y.topicId){var e=c.find((function(e){return e.Id===y.topicId}));e&&(o(Rn({},n,{title:e.Title,ctpTopicId:e.Id})),We(e.Id>0?"ktp_theme":"del_ktp_theme"))}}),[y,k]),Object(r.useEffect)((function(){h?t(i.getString("journal-popup_save-error")):g&&g.Items&&d(g.Items)}),[g,h]);var _=c.filter((function(e){return e.Id!==n.ctpTopicId})).map((function(e){return{value:e.Id,text:e.Title}}));return a.a.createElement(Dn,{value:n.ctpTopicId,options:[{value:n.ctpTopicId,text:n.title}].concat(Bn(_)),onChange:function(e){return b({id:n.id,topicId:e})},onExpanded:function(){return m({lessonId:n.id})},placeholder:i.getString("planning-ctp_selectTheme"),isPending:f,disabled:!n.canEdit,testIdContainer:"lesson_ctp_selector_"+n.id,testIdDropdown:"lesson_ctp_topic_"+n.ctpTopicId,containerStyle:{marginRight:n.canEdit?null:30}})};var Un=function(e){var t=e.lesson,n=e.onCancel,o=e.onError,i=e.onSuccess,l=e.onLostFocus,s=e.onValidationError,u=t.title,c=Object(J.a)(te.updateLessonTitle,!1),d=c.execute,p=c.isPending,m=c.error,f=c.value;return Object(r.useEffect)((function(){m?o():f&&(f.error?s(f.error):f.success&&i({lessonTitle:f.title}))}),[m,f]),a.a.createElement(Z,{value:u,onEditComplete:function(e,r){u===e?n():d({id:t.id,title:e}),r&&13===r.keyCode&&(he(r.target,Sn.a.editableLesson,Sn.a.readOnlyLesson,!0),r.preventDefault())},disabled:p,onLostFocus:l,inputButton:!0,multiline:!0,testId:"lesson_title_editor_"+t.id,maxLength:500})},Fn=n(129),Vn=n(736),qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var zn=function(e){var t,n,o,i=e.onError,s=e.ctpEnabled,u=e.isOdo,c=e.schoolType,d=Object(l.d)().l10n,m=Object(r.useState)(e.lesson),f=Yn(m,2),h=f[0],g=f[1],v=Object(r.useState)(!1),b=Yn(v,2),k=b[0],y=b[1],_=h.canEdit&&h.videoLessonExperimentsAvailable&&!u&&h.videoLesson&&!h.videoLesson.meetingUrl,w=h.canEdit&&h.videoLesson&&h.videoLesson.meetingUrl,j=k?a.a.createElement(Un,{lesson:h,onCancel:function(){return y(!1)},onError:function(){y(!1)},onSuccess:function(e){g(qn({},h,{title:e.lessonTitle})),We("action_theme"),y(!1)},onLostFocus:function(){return y(!1)}}):a.a.createElement("div",{onClick:function(){h.canEdit&&y(!0)},"data-test-id":"edit_lesson_theme_"+h.id,className:h.canEdit?Sn.a.editableLesson:Sn.a.readOnlyLesson},h.title||a.a.createElement("a",{className:p()(Sn.a.addTheme,(t={},n=Sn.a.disabledAdd,o=!h.canEdit,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},d.getString("planning-lesson_addTheme")));return a.a.createElement("div",{className:Sn.a.content},a.a.createElement("div",{className:Sn.a.row},s?a.a.createElement(Wn,{onError:i,lesson:h,setLesson:g}):j,_&&a.a.createElement(Vn.a,{currentLesson:h.videoLesson,onCreate:function(e){g(qn({},h,{videoLesson:qn({},h.videoLesson,{meetingUrl:e,isMeetingCreated:!0})}))},schoolType:c,popupsContainerId:"journal_modal"},a.a.createElement("div",{className:Sn.a.addMeeting,"data-test-id":"add_meeting_"+h.id},a.a.createElement("span",{className:En.a.plus},"+"),a.a.createElement(V.m,null)))),w&&a.a.createElement("div",{className:Sn.a.rowCentered},a.a.createElement("div",{className:Sn.a.label},a.a.createElement(V.n,null),a.a.createElement("span",{className:Sn.a.onlineMeetingOnAirText},d.getString("planning-lesson_online",{schoolType:c}))),a.a.createElement(se,{href:h.videoLesson.meetingUrl,className:Sn.a.button,testId:"lesson_join_"+h.id,target:"_blank",onClick:function(){return Object(Fn.a)("clickjoin","newjournal",h.videoLesson.systemType)}},d.getString("planning-lesson_join"))))},$n=n(840),Zn=n.n($n),Jn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Gn=function(e){var t,n,o,i=e.lesson,s=e.onError,u=Object(l.d)().l10n,c=Object(r.useState)(i.hours),d=Jn(c,2),m=d[0],f=d[1],h=Object(r.useState)(!1),g=Jn(h,2),v=g[0],b=g[1],k=Object(r.useCallback)((function(){return s(u.getString("journal-popup_save-error"))}),[s]),y=Object(r.useCallback)((function(e){e.success?(f(null!==e.hours?e.hours.toString():null),We("add_hour")):k(),b(!1)}),[s]),_=Object(J.a)(te.updateLessonHours,!1,k,y),w=_.execute,j=_.isPending;return a.a.createElement("div",{className:Zn.a.content},v?a.a.createElement(Z,{value:m,onEditComplete:function(e){return function(e){m===e?b(!1):w(i.id,e)}(e)},disabled:j,testId:"lesson_title_editor_"+i.id,validator:function(e){if(!e)return!0;var t=Math.floor(Number(e));return t!==1/0&&String(t)===e&&t>=0&&t<100}}):a.a.createElement("div",{onClick:i.canEdit?function(){return b(!0)}:void 0,"data-test-id":"edit_lesson_hours_"+i.id},m||a.a.createElement("a",{className:p()(Zn.a.addTheme,En.a.plus,(t={},n=Zn.a.disabledAdd,o=!i.canEdit,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},"+")))},Kn=n(262),Xn=n.n(Kn);var Qn=function(e){var t=e.homework,n=(e.onCancel,e.onError),o=e.onSuccess,i=e.onLostFocus,s=e.testId,u=t.title,c=Object(l.d)().l10n,d=Object(J.a)(te.updateHomeworkTitle,!1),p=d.execute,m=d.isPending,f=d.error,h=d.value;return Object(r.useEffect)((function(){f?n(c.getString("journal-popup_save-error")):h&&(h.error?n(h.error):h.success&&o({homeworkTitle:h.title}))}),[f,h]),a.a.createElement(Z,{value:u,onEditComplete:function(e,r){e?p({id:t.id,title:e}):(n(c.getString("planning-homewrok_title-error")),We("del_hw")),r&&13===r.keyCode&&(ve(r.target,En.a.editable),r.preventDefault())},disabled:m,onLostFocus:i,placeholder:"",inputButton:!0,multiline:!0,className:En.a.editable,testId:s})},er=n(410);var tr=new K.a(window.__JOURNAL__INITIAL__STATE__.fileUploadApiUrl,"include",{simple:!0}),nr=new(function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,tr));return a.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a.uploadFile=function(e,t){var n=new FormData;return n.append("file",e),n.append("ownerType","EduWork"),n.append("ownerID",t),fetch(a.client.apiUrl+"/uploadst",{method:"POST",credentials:"include",body:n}).then((function(e){return e.json()})).catch((function(e){return null}))},a.getFileUploadStatus=function(e){return a.get("/gettaskstatus",{tid:e})},a.getFileUploadResult=function(e){return a.get("/getresult",{tid:e})},a.upload=(n=regeneratorRuntime.mark((function t(n){var r,o,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.file,o=n.workId,e.next=3,a.uploadFile(r,o);case 3:i=e.sent;case 4:return e.next=7,a.getFileUploadStatus(i.tid);case 7:if((l=e.sent).taskStatus!==er.a.TASK_STATUS_COMPLETED){e.next=12;break}return e.abrupt("return",a.getFileUploadResult(i.tid));case 12:if(l.taskStatus!==er.a.TASK_STATUS_ERROR&&l.taskStatus!==er.a.TASK_STATUS_EXPIRED){e.next=14;break}return e.abrupt("return",{error:l.error});case 14:return e.next=16,a.sleep(1e3);case 16:e.next=4;break;case 18:case"end":return e.stop()}}),t,e)})),r=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(l)}("next")}))},function(e){return r.apply(this,arguments)}),a.delete=function(e,t){return a.post("/delete",{ownertype:"EduWork",ownerid:e,fileid:t})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(G.a)),rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ar=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function or(e){var t=e.homework,n=e.file,o=e.onRemoveFile,i=e.onDeleteError,s=Object(l.d)().l10n,u=Object(r.useState)(!1),c=ar(u,2),d=c[0],m=c[1],f=Object(r.useCallback)((function(){return o(n)}),[o,n]),h=Object(J.a)(nr.delete,!1,i,f),g=h.execute,v=h.isPending;return a.a.createElement("div",{className:Xn.a.rowCentered},a.a.createElement("div",{className:p()(Xn.a.label,Xn.a.overflowEllipsis)},a.a.createElement(V.x,null),v?a.a.createElement("span",{className:Xn.a.loading},s.getString("planning-table_file-deleting")):a.a.createElement("a",{className:p()(Xn.a.fileName,Xn.a.overflowEllipsis),onClick:function(){return We("load_file")},href:n.url,target:"_blank",rel:"noreferrer"},a.a.createElement("span",{className:Xn.a.overflowEllipsis},n.name),n.extension&&a.a.createElement("span",null,".",n.extension))),!v&&t.canEdit&&a.a.createElement("div",{onClick:function(){return m(!0)},className:Xn.a.fileAction,"data-test-id":"delete_file_"+t.id},a.a.createElement(V.i,null)),d&&a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:function(){return m(!1)},title:s.getString("planning-table_file-delete-confirm"),testId:"delete_popup"},a.a.createElement("div",{className:Xn.a.popupText},a.a.createElement(V.c,null),a.a.createElement("span",null,n.name)),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{onClick:function(){return m(!1)},className:le.a.whiteButton,testId:"delete_file_cancel_button"},s.getString("journal-button_cancel")),a.a.createElement(se,{onClick:function(){g(t.id,n.id),m(!1)},className:le.a.blueButton,testId:"delete_file_continue_button"},s.getString("journal-button_continue"))))))}var ir=function(e){var t,n,o,i=Object(l.d)().l10n,s=e.lesson,u=e.homework,c=e.onError,d=Object(r.useState)(!1),m=ar(d,2),f=m[0],h=m[1],g=Object(r.useState)(u),v=ar(g,2),b=v[0],k=v[1],y=Object(r.useState)(u.files||[]),_=ar(y,2),w=_[0],j=_[1],E=u.timeToExecute&&u.timeToExecute.replace(/[^0-9]/g,""),C=Object(r.useCallback)((function(e){j((function(t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[e])})),We("add_file")}),[]),S=Object(r.useCallback)((function(e){j((function(t){return t.filter((function(t){return t.id!==e.id}))})),We("del_file")}),[]),O=Object(r.useCallback)((function(){return c(i.getString("journal-popup_save-error"))}),[c]),x=Object(r.useCallback)((function(e){k(rr({},b,{status:e.status})),We("assigne_hw")})),T=Object(J.a)(nr.upload,!1,O,C),I=T.execute,N=T.isPending,P=Object(J.a)(te.assignHomework,!1,c,x),A=P.execute,D=(P.isPending,P.error,P.value,f?a.a.createElement(Qn,{homework:b,onCancel:function(){return h(!1)},onError:function(e){c(e),h(!1)},onSuccess:function(e){k(rr({},b,{title:e.homeworkTitle})),We("edit_hw"),h(!1)},onLostFocus:function(){return h(!1)},onSaveError:O,testId:"homework_editor_"+b.id}):a.a.createElement("div",{className:s.canEdit?En.a.editable:Xn.a.homeworkViewOnly,onClick:function(e){s.canEdit&&h(!0)}},b.title));return a.a.createElement("div",{className:p()(Xn.a.content,(t={},n=Xn.a.contentTimeToExecute,o=E&&E>0,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},E&&E>0&&a.a.createElement("div",{className:Xn.a.timeToExecute},E,i.getString("lesson-planning-homework-time")),a.a.createElement("div",{className:Xn.a.homeworkContainer},a.a.createElement("div",{className:Xn.a.homeworkText},a.a.createElement("div",{className:Xn.a.textEditorContainer,"data-test-id":"edit_homework_"+u.id},D),a.a.createElement("div",{className:Xn.a.attachFileIcon},a.a.createElement("a",{onClick:function(){return We("view_hw")},href:b.viewUrl,"data-test-id":"homework_view_"+b.id},a.a.createElement(V.w,null)),b.canEdit&&a.a.createElement("label",{className:Xn.a.fileAction,"data-test-id":"upload_file_"+u.id},a.a.createElement("input",{"data-test-id":"attach_file_"+b.id,className:Xn.a.hidden,type:"file",onChange:function(e){I({workId:u.id,file:e.target.files[0]}),e.target.value=null}}),a.a.createElement(V.b,null)))),b.canAssign&&"New"===b.status&&a.a.createElement("div",{className:Xn.a.status},a.a.createElement("div",{className:Xn.a.statusContent},a.a.createElement("div",{className:Xn.a.currentStatus},i.getString("planning-homework-unsent")),a.a.createElement(se,{className:Xn.a.button,onClick:function(e){s.canEdit&&A({id:b.id,title:b.title})},testId:"homework-send-button"},i.getString("planning-homework-send")))),(w.length||N)&&a.a.createElement("div",{className:Xn.a.files},N&&a.a.createElement("div",{className:Xn.a.rowCentered},a.a.createElement("div",{className:Xn.a.label},a.a.createElement(V.x,null),a.a.createElement("span",{className:Xn.a.loading},i.getString("planning-table_file-loading")))),w.map((function(e){return a.a.createElement(or,{key:"homework_file_"+e.id,file:e,homework:b,onRemoveFile:S,onDeleteError:O})})))))};var lr=function(e){var t=e.lesson,n=e.onAddHomework,r=e.onCancel,o=e.onError,i=(e.onSuccess,e.onLostFocus),l=(e.onValidationError,Object(J.a)(te.createHomework,!1,o,n)),s=l.execute,u=l.isPending;return l.error,l.value,a.a.createElement(Z,{value:"",onEditComplete:function(e,n){0===e.length?r():s({lessonId:t.nextLessonId,lessonFromId:t.id,title:e}),n&&13===n.keyCode&&(ve(n.target,En.a.editable),n.preventDefault())},disabled:u,onLostFocus:i,placeholder:"",inputButton:!0,multiline:!0,className:En.a.editable,testId:"homework_editor_"+t.id})},sr=n(429),ur=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e){var t,n=Object(l.d)().l10n,o=e.lesson,i=e.onError,s=e.groupId,u=e.subjectId,c=e.schoolType,d=Object(r.useState)(!1),m=ur(d,2),f=m[0],h=m[1],g=Object(r.useState)(o.homeworks||[]),v=ur(g,2),b=v[0],k=v[1],y=Object(r.useCallback)((function(e){h(!1),k((function(t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[e])})),We("add_hw")}),[]),_=Object(r.useCallback)((function(){return i(n.getString("journal-popup_save-error"))}),[i]);return a.a.createElement("div",{className:En.a.homeworksContent},b.map((function(e){return a.a.createElement(ir,{key:"homework_"+e.id,lesson:o,homework:e,onError:i})})),f?a.a.createElement((function(){return a.a.createElement("div",{className:En.a.textEditorContainer},a.a.createElement(lr,{lesson:o,onAddHomework:y,onCancel:function(){h(!1)},onError:function(t){e.onError(t),h(!1)},onSuccess:function(){h(!1)},onSaveError:_}))}),null):a.a.createElement("div",{className:p()(En.a.addHomeworkButton,(t={},cr(t,En.a.addHomeworkButtonEmptyHomeworkList,0===b.length),cr(t,En.a.editable,o.canAddHomeworkToNextLesson),t)),onClick:function(e){o.canAddHomeworkToNextLesson&&(h(!0),window.partnersHomework&&window.dnevnik&&window.dnevnik.user&&s&&u&&o.nextLessonId&&o.workTypeId&&sr.a.clickAddHomework(window.dnevnik.user.id,window.partnersHomework.schoolId,s,u,o.id))},"data-test-id":"add_homework_button_"+o.id},o.canEdit&&a.a.createElement("div",{className:o.canAddHomeworkToNextLesson?En.a.addHomeworkButtonEnabled:En.a.addHomeworkButtonDisabled},a.a.createElement("span",{className:En.a.plus},"+")," ",n.getString("planning-homework-add",{schoolType:c})),window.partnersHomework&&o.canAddHomeworkToNextLesson&&s&&u&&o.nextLessonId&&o.workTypeId&&a.a.createElement("button",{className:En.a.partnersHomeworkButton,onClick:function(e){window.partnersHomework.showPartnersPopup(s,u,o.nextLessonId,o.workTypeId),e.stopPropagation()}},n.getString("planning-homework-show-partners-popup"))))}function pr(e){var t,n=e.lesson,r=e.index,o=e.showHoursColumn,i=e.ctpEnabled,s=e.onError,u=e.highlightedLessondId,c=e.currentLessonId,d=e.scrollToLessonRef,m=e.groupId,f=e.subjectId,h=e.isOdo,g=e.schoolType,v=Object(l.d)().l10n,b="Cancelled"===n.status,k=n.id===u,y=n.id===c,_=u?k:y,w=O(n.resultDateUnix);return a.a.createElement("tr",{"data-test-id":"lesson_planning_row_"+n.id,ref:_?d:void 0,className:p()(En.a.lesson,(t={},cr(t,En.a.today,w),cr(t,En.a.highlighted,k),t))},a.a.createElement("td",{className:p()(En.a.number,En.a.mobileHidden)},r+1),a.a.createElement("td",{className:En.a.date},a.a.createElement("div",{className:En.a.lessonInfo},n.canEdit?a.a.createElement("a",{onClick:function(){return We("to_lesson_journal")},href:n.url,"data-test-id":"planning_lesson_date_"+n.id},I(n.resultDateUnix)):a.a.createElement("span",null,I(n.resultDateUnix)),n.resultDateUnix!==n.plannedDateUnix&&a.a.createElement("span",null,"("+I(n.plannedDateUnix)+")"),w&&a.a.createElement("span",{className:En.a.blueText},v.getString("journal-table_today")),b&&a.a.createElement("span",{className:En.a.canceled},v.getString("planning-lesson_cancelled")),a.a.createElement("span",{className:En.a.overflowEllipsis},n.subgroupName))),o&&a.a.createElement("td",{className:En.a.hours},a.a.createElement(Gn,{lesson:n,onError:s})),a.a.createElement("td",{className:En.a.mobileFixedWidth},a.a.createElement(zn,{lesson:n,ctpEnabled:i,onError:s,isOdo:h,schoolType:g})),a.a.createElement("td",{className:En.a.mobileFixedWidth},a.a.createElement(dr,{lesson:n,onError:s,groupId:m,subjectId:f,schoolType:g})))}var mr=function(e){var t=e.planningData,n=e.onError,o=e.lessonId,i=e.addHomework,s=e.groupId,u=e.subjectId,c=e.isOdo,d=e.schoolType,m=Object(l.d)().l10n,f=Object(r.useRef)(null),h=Object(r.useRef)(null),g=t.lessonsPlanning,v=t.showHoursColumn,b=t.ctpEnabled,k=function(e,t,n){if(n&&t)for(var r=e.findIndex((function(e){return e.id===t}))-1;r>=0;r-=1)if(e[r].canAddHomeworkToNextLesson)return e[r].id;return t}(g,o,i),y=D(new Date),_=g.find((function(e){return!e.isThematic&&e.resultDateUnix>=y}));return Object(r.useEffect)((function(){h.current&&h.current.scrollIntoView({block:"center",inline:"start",behavior:"auto"}),g&&g.find((function(e){return e&&e.homeworks&&e.homeworks.find((function(e){return"New"===e.status}))}))&&We("has_notsent_hw")}),[]),Object(r.useEffect)((function(){g.some((function(e){return e.canEdit&&e.videoLessonExperimentsAvailable&&!c&&e.videoLesson&&!e.videoLesson.meetingUrl}))&&Object(Fn.a)("viewplan","newjournal"),new Set(g.filter((function(e){return e.canEdit&&e.videoLesson&&e.videoLesson.meetingUrl})).map((function(e){return e.videoLesson.systemType}))).forEach((function(e){return Object(Fn.a)("viewjoin","newjournal",e)}))}),[g]),a.a.createElement("div",{className:p()(En.a.container,j.a.customScroll),"data-test-id":"lesson-planning",ref:f,onClick:function(){return on(f)}},a.a.createElement("table",{className:En.a.planning},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:p()(En.a.number,En.a.mobileHidden)},"№"),a.a.createElement("th",{className:En.a.date},m.getString("planning-header_date")),v&&a.a.createElement("th",{className:En.a.hours},m.getString("planning-header_hours")),a.a.createElement("th",{className:p()(En.a.title,En.a.mobileFixedWidth)},m.getString("planning-header_theme",{schoolType:d})),a.a.createElement("th",{className:p()(En.a.homework,En.a.mobileFixedWidth)},m.getString("planning-header_homework",{schoolType:d})))),a.a.createElement("tbody",null,g.map((function(e,t){return a.a.createElement(pr,{lesson:e,index:t,key:"lesson_"+e.id,showHoursColumn:v,ctpEnabled:b,onError:n,scrollToLessonRef:h,highlightedLessondId:k,currentLessonId:_&&_.id,groupId:s,subjectId:u,isOdo:c,schoolType:d})})),a.a.createElement("tr",{className:En.a.fillerRow},a.a.createElement("td",{className:p()(En.a.number,En.a.mobileHidden)}),a.a.createElement("td",{className:En.a.date}),v&&a.a.createElement("td",null),a.a.createElement("td",null),a.a.createElement("td",null)))))},fr=n(154),hr=n.n(fr),gr=n(841),vr=n.n(gr);function br(e){var t=e.title,n=e.links,o=e.style,i=e.testId;return a.a.createElement("div",{className:vr.a.container,style:o,"data-test-id":i},a.a.createElement("span",{className:vr.a.title},t,": "),a.a.createElement("span",{className:vr.a.links},n.map((function(e,t){return a.a.createElement(r.Fragment,{key:"link-"+e.key},e.url?a.a.createElement("a",{href:e.url},e.text):a.a.createElement("span",null,e.text),t!==n.length-1&&a.a.createElement("span",null,", "))}))))}var kr=n(939),yr=n.n(kr);function _r(e){var t=e.links;return a.a.createElement("div",{className:yr.a.container,"data-test-id":"breadcrumbs"},t.map((function(e,t){return a.a.createElement("div",{className:yr.a.link,key:"link-"+t},!!t&&a.a.createElement("span",null," ",">"," "),e.url?a.a.createElement("a",{href:e.url},e.text):a.a.createElement("span",null,e.text))})))}n(1437);var wr=n(494),jr=n.n(wr),Er=n(565),Cr=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Or=function(e){var t=e.dateStart,n=e.dateFinish,o=e.onChange,i=e.showWeek,s=e.isOdo,u=e.studyYear,c=e.style,d=e.popoverStyle,m=e.short,f=Object(Ke.a)(!1),h=Cr(f,3),g=h[0],v=h[1],b=h[2],k=Object(r.useState)(!1),y=Cr(k,2),_=y[0],w=y[1],j=new Date(1e3*t),E=n&&new Date(1e3*n),C=B(u),S=Object(l.d)().l10n,O=void 0,x=void 0,T=void 0;i?(O=function(e,t){var n=W(e),r=new Date(n);return r.setDate(r.getUTCDate()+6),H(n,r,t)}(j,m),x=L(function(e){var t=new Date(e),n=t.getDay();if(0!==n){var r=t.getUTCDate()-n+7;t.setDate(r)}return t}(U(j,-7))),T=L(W(U(j,7)))):E?O=H(j,E,m):(O=P(j),x=L(U(j,-1)),T=L(U(j,1)));var I=s?function(){return w(!0)}:function(){return v(!0)};return a.a.createElement("div",{className:jr.a.container,style:c},a.a.createElement("div",{className:jr.a.calendar,onClick:I},a.a.createElement(V.d,null)),a.a.createElement("div",{className:p()(jr.a.date,Sr({},jr.a.withArrows,!!x))},x&&a.a.createElement("div",{className:p()(jr.a.arrow,Sr({},jr.a.disabled,x<D(C.from))),onClick:function(){return o(x)}},Object(V.k)()),a.a.createElement("div",{onClick:I,"data-test-id":"select-date-button"},O),T&&a.a.createElement("div",{className:p()(jr.a.arrow,Sr({},jr.a.disabled,T>D(C.to))),onClick:function(){return o(T)}},Object(V.t)())),g&&a.a.createElement("div",{className:jr.a.popover,style:d,ref:b,"data-test-id":"select-date-popover"},a.a.createElement(dt.a,{selectedDays:j,onDayClick:function(e,t){t.disabled||(o(D(e)),v(!1))},localeUtils:mt.a,locale:window.dnevnik.user.preferableLanguage,fromMonth:C.from,toMonth:C.to,initialMonth:j})),_&&a.a.createElement(oe,null,a.a.createElement(Er.a,{dateStart:t,dateFinish:n,onConfirm:o,onClose:function(){return w(!1)},studyYearMonths:C,title:S.getString("journal-popup_date-range"),cancelText:S.getString("journal-button_cancel"),applyText:S.getString("journal-button_apply")})))},xr=n(542),Tr=n.n(xr),Ir=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pr=function(e){var t=e.subject,n=e.group,o=e.teachers,i=e.schoolType,s=e.onClose,u=e.onSaveError,c=e.onSaveRemark,d=Object(l.d)().l10n,m=Object(r.useState)(null),f=Ir(m,2),h=f[0],g=f[1],v=Object(r.useState)(""),b=Ir(v,2),k=b[0],y=b[1],_=Object(r.useState)(""),w=Ir(_,2),j=w[0],E=w[1],C=new Date,S=Object(J.a)(te.createRemark,!1,u,c),O=S.execute,x=S.isPending,T={width:"100%",maxWidth:600};return S.value?a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:s,title:d.getString("journal-remark_popup-title"),style:T},a.a.createElement("div",{className:Tr.a.createdIcon},Object(V.y)()),a.a.createElement("div",{className:Tr.a.createdText},d.getString("journal-remark_created")),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{onClick:s,className:le.a.blueButton},d.getString("journal-button_continue-working"))))):a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:s,title:d.getString("journal-remark_popup-title"),testId:"remark-popup",style:T},a.a.createElement("div",{className:Tr.a.container},a.a.createElement(at,{name:d.getString("journal-remark_subject")},a.a.createElement("div",{className:Tr.a.readOnlyValue},t.name)),a.a.createElement(at,{name:d.getString("journal-remark_group",{schoolType:i})},a.a.createElement("div",{className:Tr.a.readOnlyValue},n.name)),a.a.createElement(at,{name:d.getString("journal-remark_date")},a.a.createElement("div",{className:Tr.a.readOnlyValue},A(C))),a.a.createElement(at,{name:d.getString("journal-remark_teacher",{schoolType:i})},a.a.createElement(et.a,{value:h,options:o.map((function(e){return{value:e.id,text:e.name}})),onChange:g,style:{width:"100%"}})),a.a.createElement(at,{name:d.getString("journal-work-popup_description"),error:j},a.a.createElement("textarea",{className:p()(Tr.a.description,Nr({},Tr.a.invalid,!!j)),value:k,name:"remark_text",onChange:function(e){return y(e.target.value)},maxLength:4e3,rows:"3"}))),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{onClick:function(){if(!x)if(k.trim()){var e={groupId:n.id,subjectId:t.id,teacherId:h,text:k,createdDate:C.getTime()/1e3};O(e)}else E(d.getString("journal-remark_empty-text-error"))},className:le.a.blueButton},d.getString("journal-button_create")))))},Ar=n(401),Dr=n.n(Ar),Lr=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rr=Object(r.memo)((function(e){var t=e.remarks,n=e.onFixRemark,o=Object(Ke.a)(!1),i=Lr(o,3),s=i[0],u=i[1],c=i[2],d=Object(l.d)().l10n,m=Object(r.useState)(!1),f=Lr(m,2),h=f[0],g=f[1];return t&&t.length>0&&!h&&(We("has_remark"),g(!0)),Object(r.useEffect)((function(){s&&We("view_remark")}),[s]),a.a.createElement("div",{className:p()(Dr.a.container,Mr({},Dr.a.expanded,s)),ref:c,"data-test-id":"remarks"},a.a.createElement("div",{className:Dr.a.popupHeader,onClick:s?void 0:function(){return u(!0)}},a.a.createElement("div",{className:Dr.a.title},d.getString("journal-remark_list-title")),s&&a.a.createElement("div",{onClick:function(){return u(!1)}},Object(V.h)()),!s&&a.a.createElement("div",{className:Dr.a.counter},t.length>9?"9+":t.length)),a.a.createElement("div",{className:p()(Dr.a.content,Mr({},Dr.a.hidden,!s))},t.map((function(e){return a.a.createElement("div",{className:p()(Dr.a.remark,Mr({},Dr.a.fixed,e.isFixed)),key:"remark-"+e.id},a.a.createElement("div",{className:Dr.a.remarkTitle},a.a.createElement("div",{className:Dr.a.teacher},e.teacherFullName),a.a.createElement("div",{className:Dr.a.date},A(new Date(1e3*e.remarkPublicationTimestamp)))),a.a.createElement("div",{className:Dr.a.text},e.remarkText),a.a.createElement(tt.a,{active:e.isFixed,text:d.getString("journal-remark_fix"),onClick:function(){return n(e.id)}}))}))))})),Hr=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Br=function(e){var t=e.teachers,n=e.subject,o=e.group,i=e.schoolType,s=e.canEditJournalRemark,u=e.onError,c=e.testId,d=Object(r.useState)(!1),p=Hr(d,2),m=p[0],f=p[1],h=Object(l.d)().l10n,g=o.id,v=n.id,b=Object(r.useState)([]),k=Hr(b,2),y=k[0],_=k[1],w=Object(r.useCallback)((function(){return te.getRemarks(g,v)}),[g,v]);Object(J.a)(w,!0,void 0,_);var j=Object(r.useCallback)((function(){return u(h.getString("journal-popup_save-error"))}),[u]),E=Object(r.useCallback)((function(e){_((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),setTimeout((function(){return _((function(t){return t.filter((function(t){return t.id!==e.id}))}))}),3e3),We("done_remark")}),[]),C=Object(J.a)(te.fixRemark,!1,j,E).execute;return a.a.createElement(r.Fragment,null,s&&a.a.createElement(se,{className:le.a.blueBorderButton,onClick:function(){f(!0),We("add_remark")},testId:c},Object(V.p)(),a.a.createElement("span",{style:{marginLeft:5}},h.getString("journal-remark_popup-button"))),m&&a.a.createElement(Pr,{subject:n,group:o,teachers:t,schoolType:i,onClose:function(){return f(!1)},onSaveError:j,onSaveRemark:function(e){_((function(t){return[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))})),We("save_remark")}}),!!y.length&&a.a.createElement(Rr,{remarks:y,onFixRemark:C}))},Wr=n(394),Ur=n(1051),Fr=n.n(Ur);var Vr=new K.a(window.__JOURNAL__INITIAL__STATE__.exportUrl,"include",{simple:!0}),qr=new K.a(window.__JOURNAL__INITIAL__STATE__.taskStateHandlerUrl,"include",{simple:!0}),Yr=3,zr=4,$r=5,Zr="scheduleLessonPlanning",Jr="getLessonPlanning",Gr="getLessonPlanningExportResult",Kr=function(e){var t=document.createElement("a");t.href=e,t.click()},Xr=new(function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Vr));return a.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a.scheduleArchive=function(e,t,n,r,o,i,l,s){var u="?a="+Zr+"&school="+e+"&tab=planning&lessonID=&year="+t+"&teacher=0&group="+n+"&subject="+r+"&period="+o+"&subgroup="+(i||0)+"&datefrom="+l+"&dateTo="+s;return fetch(""+a.client.apiUrl+u,{method:"GET",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return null}))},a.getTaskStatus=function(e){var t="?a=gts&tid="+e;return fetch(""+qr.apiUrl+t,{method:"GET",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return null}))},a.getExportResult=function(e,t,n,r,o,i,l){var s="?a="+Gr+"&tid="+e+"&school="+t+"&tab=planning&lessonID=&year="+n+"&teacher=0&group="+r+"&subject="+o+"&period="+i+"&subgroup="+(l||0);return fetch(""+a.client.apiUrl+s,{method:"GET",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return null}))},a.getArchiveResult=function(e,t,n,r,a,o,i){return window.__JOURNAL__INITIAL__STATE__.exportUrl+"?a="+Jr+"&tid="+e+"&school="+t+"&tab=planning&lessonID=&year="+n+"&teacher=0&group="+r+"&subject="+a+"&period="+o+"&subgroup="+(i||0)},a.export=(n=regeneratorRuntime.mark((function t(n){var r,o,i,l,s,u,c,d,p,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.schoolId,o=n.studyYear,i=n.groupId,l=n.subjectId,s=n.periodId,u=n.subgroupId,c=n.dateFrom,d=n.dateTo,e.next=3,a.scheduleArchive(r,o,i,l,s,u,c,d);case 3:p=e.sent;case 4:return e.next=7,a.getTaskStatus(p.taskID);case 7:if((m=e.sent).taskStatus!==Yr){e.next=22;break}return e.next=11,a.getExportResult(p.taskID,r,o,i,l,s,u);case 11:if(!(f=e.sent).error){e.next=14;break}return e.abrupt("return",f);case 14:return e.t0=Kr,e.next=17,a.getArchiveResult(p.taskID,r,o,i,l,s,u);case 17:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return");case 22:if(m.taskStatus!==zr&&m.taskStatus!==$r){e.next=24;break}return e.abrupt("return",{error:m.error});case 24:return e.next=26,a.sleep(1e3);case 26:e.next=4;break;case 28:case"end":return e.stop()}}),t,e)})),r=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(l)}("next")}))},function(e){return r.apply(this,arguments)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(G.a)),Qr=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ea(e){var t,n,o=this,i=Object(l.d)().l10n,s=e.headerData,u=e.filter,c=e.journalData,d=e.planningData,p=e.journalOptions,m=e.planningOptions,f=e.journalPeriodId,h=e.planningPeriodId,g=e.exportJournalUrl,v=e.onClose,b=e.onError,k="thematic"===f||"final"===f?"":p.find((function(e){return e.key===f})).text,y=m.find((function(e){return e.key===h})).text,_=s.groups,w=s.currentSchoolId,j=s.schoolType,E=u.groupId,C=u.subGroupId,S=u.subjectId,O=c.persons,x=c.lessons,T=d.lessonsPlanning,I=Object(r.useState)(!1),N=Qr(I,2),P=N[0],A=N[1],D=Object(r.useCallback)((function(){return b(i.getString("journal-popup_default-error"))}),[b]),L=Object(r.useCallback)((function(){return We("export_planning")}),[]),M=_.find((function(e){return e.id===E})).studyYear,R=!O||0===O.length||!x||0===x.length||"thematic"===f||"final"===f,H=!T||0===T.length,B=Object(J.a)(Xr.export,!1,D,L),W=B.execute,U=B.isPending,F="thematic"===f?i.getString("export-popup-radiobutton-error_journal-thematic"):"final"===f?i.getString("export-popup-radiobutton-error_journal-final"):O&&0!==O.length&&x&&0!==x.length?"":i.getString("export-popup-radiobutton-error_journal-empty"),V=T&&0!==T.length?"":i.getString("export-popup-radiobutton-error_lesson-planning-empty"),q=(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({schoolId:w,studyYear:M,groupId:E,subjectId:S,periodId:h,subgroupId:C});case 2:e.sent.error&&D(),A(!1),v();case 6:case"end":return e.stop()}}),e,o)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(l)}("next")}))},function(){return n.apply(this,arguments)});return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:v,title:i.getString("export-header_text"),testId:"export_popup"},U&&a.a.createElement(Pe.a,null),!U&&a.a.createElement("div",{className:Fr.a.content},a.a.createElement(tt.a,{active:"Journal"===P,disabled:R,onClick:function(){R||A("Journal")},errorText:F,text:F?i.getString("export-popup-radiobutton-text_journal-error"):i.getString("export-popup-radiobutton-text_journal",{journalCurrentOption:k})}),a.a.createElement(tt.a,{active:"Planning"===P,disabled:H,onClick:function(){H||A("Planning")},errorText:V,text:V?i.getString("export-popup-radiobutton-text_lesson-planning-error",{schoolType:j}):i.getString("export-popup-radiobutton-text_lesson-planning",{schoolType:j,planningCurrentOption:y})})),!U&&a.a.createElement(se,{onClick:function(){switch(P){case"Journal":e=g,(t=document.createElement("a")).href=e,t.click(),We("export_journal"),A(!1),v();break;case"Planning":q();break;default:A(!1),v()}var e,t},style:{marginLeft:"auto",padding:"12px",fontSize:"15px"},className:le.a.blueButton,testId:"export_popup_button"},i.getString("export-popup-button"))))}var ta=n(1052),na=n.n(ta),ra=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},aa=0,oa=1,ia=2;var la=function(e){var t=e.onClose,n=e.printInfo,o=n.currentJournalPeriod,i=n.currentPlanningPeriod,l=n.isPending,s=n.journalPeriod,u=n.journalPrintUrl,d=n.planningPrintUrl,p=n.journalWithoutLessons,m=n.planningWithoutLessons,f=n.schoolType,h=n.contextGroupHasLessons,g=n.isContextGroup,v=Object(r.useState)(null),b=ra(v,2),k=b[0],y=b[1],_=Object(r.useState)(null),w=ra(_,2),j=w[0],E=w[1],C=Object(r.useState)(null),S=ra(C,2),O=S[0],x=S[1],T=Object(r.useState)(null),I=ra(T,2),N=I[0],P=I[1],A=Object(r.useState)(oa),D=ra(A,2),L=D[0],M=D[1],R=Object(c.a)().l10n;Object(r.useEffect)((function(){"thematic"===s?y(R.getString("print-journal_warning-thematic")):"final"===s?y(R.getString("print-journal_warning-final")):p&&y(R.getString("print-journal_warning-empty")),m&&E(R.getString("print-planning_warning-empty")),g&&!h&&E(R.getString("print-planning_warning-empy-group-lessons"))}),[s,p,m]);var H=function(e){(k||e!==aa)&&(j||e!==ia)||M(e)};Object(r.useEffect)((function(){L===aa?(x(u),P("print_journal")):L===ia&&(x(d),P("print_planning"))}),[L]);var B=o&&o.text,W=i&&i.text,U=k?R.getString("print-journal"):R.getString("print-journal_period",{currentJournalPeriodText:B}),F=j?R.getString("print-planning",{schoolType:f}):R.getString("print-planning_period",{schoolType:f,currentPlanningPeriodText:W});return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:t,title:R.getString("print-header"),testId:"print_popup"},l?a.a.createElement(Pe.a,null):a.a.createElement("div",{className:na.a.content},a.a.createElement(tt.a,{active:L===aa,disabled:k,onClick:function(){return H(aa)},errorText:k,text:U}),a.a.createElement(tt.a,{active:L===ia,disabled:j,onClick:function(){return H(ia)},errorText:j,text:F})),a.a.createElement(se,{className:le.a.blueButton,onClick:function(){return We(N)},href:O||" ",target:"_blank",style:{pointerEvents:O?"auto":"none",marginLeft:"auto",padding:"12px",fontSize:"15px"}},R.getString("print-button"))))},sa=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var ua={width:"max-content"};var ca=function(e){var t=e.initialState,n=e.journalData,o=e.planningData,i=e.filter,s=e.markVersionView,u=e.changeMarkVersionValue,c=e.blackAndWhiteMarks,d=e.setBlackAndWhiteMarks,m=e.journalPeriodId,f=e.planningPeriodId,h=e.journalOptions,g=e.planningOptions,v=e.onError,b=e.printInfo,k=e.changeSubjectReportingPeriod,y=e.isHalfYearSubjectReportingPeriod,_=e.canChangeSubjectReportingPeriod,w=t.journalHeader,j=Object(l.d)().l10n,E=w.groups,C=w.subjects,S=w.canEditJournalRemark,O=w.dodActivationNotificationText,x=w.schoolType,T=n||{},N=T.teachers,P=T.subGroups,A=T.classTeacher,D=T.gradesReportUrl,L=T.exportJournalUrl,M=T.weekJournalUrl,R=t.journalType,H=t.isOdo,B=t.journalMemoUrl,W=t.journalInterviewUrl,U=i.subjectId,q=i.groupId,Y=i.subGroupId,z=i.dateStart,$=i.dateFinish,Z=i.setSubjectId,G=i.setGroupId,K=i.setSubGroupId,X=i.setDates,Q=Object(r.useState)(!1),ee=sa(Q,2),te=ee[0],ne=ee[1],re=E.find((function(e){return e.id===q})),ae=C&&C[q],oe=ae&&ae.find((function(e){return e.id===U})),ie=R===F.Subject,le=ie&&oe?re.name+", "+oe.name:re.name,se=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.breadcrumbs),[{text:le}]),ue=re.studyYear,ce=R===F.Subject,de=Object(r.useState)(!1),pe=sa(de,2),me=pe[0],fe=pe[1],he=Object(J.a)(Xr.export,!1,v).execute,ge=R===F.Subject&&M&&a.a.createElement("a",{"data-test-id":"week-journal-link",href:M,className:hr.a.weekJournalUrl,onClick:function(){return We("toweekjournal")}},a.a.createElement(V.d,null)," ",j.getString("journal-header_week-journal-title"));return Object(r.useEffect)((function(){var e=j.getString("journal-page-title",{journalType:re.homeBased?"Home":R,journalName:le});document.title!==e&&(document.title=e)}),[re,oe,R]),a.a.createElement("div",{className:hr.a.header,"data-test-id":"journal-header"},O&&a.a.createElement("div",{className:hr.a.dodActivationNotification,dangerouslySetInnerHTML:{__html:O}}),s?a.a.createElement("div",{className:hr.a.markVersionsHeader},a.a.createElement("div",{className:hr.a.markVersionsHeaderText,dangerouslySetInnerHTML:{__html:j.getString("mark-version-header_text")}}),a.a.createElement("div",{className:hr.a.markVersionDisableButton,onClick:function(){return u(!1)}},j.getString("mark-version-header_exit"))):a.a.createElement("div",{className:hr.a.headerUtility},a.a.createElement("div",{className:hr.a.breadcrumbs},a.a.createElement(_r,{links:se}),(B||W)&&a.a.createElement("div",{className:hr.a.memo},W&&a.a.createElement("a",{href:W,target:"_blank",rel:"noreferrer"},j.getString("journal-header_interview")),B&&a.a.createElement("span",{title:j.getString("journal-header_memo-tooltip")},a.a.createElement("a",{onClick:function(){return We("info")},href:B,target:"_blank",rel:"noreferrer","data-test-id":"journal_memo"},a.a.createElement(V.r,null))))),a.a.createElement("div",{className:hr.a.bannerAndButtons},t.banner&&a.a.createElement("div",{className:hr.a.banner},a.a.createElement(Wr.a,{htmlData:t.banner})),a.a.createElement("div",{className:hr.a.buttons},ie&&oe&&!H&&!t.isReadOnly&&a.a.createElement(Br,{teachers:N,subject:oe,group:re,schoolType:x,canEditJournalRemark:S,onError:v,testId:"create-remark-button"}),re.postTopicEventKey&&!t.isReadOnly&&a.a.createElement("button",{className:hr.a.postButton,"data-post-key":re.postTopicEventKey,"data-post-target":re.name,"data-post-type":"create","data-post-show-settings":"true","data-post-topics":"groups","data-test-id":"new-post-for"},Object(V.p)(),a.a.createElement("span",{style:{marginLeft:5}},j.getString("journal-post_popup-button",{schoolType:x})))))),a.a.createElement("div",{className:hr.a.subHeader},R===F.Subject?a.a.createElement("div",null,a.a.createElement("div",{className:p()(hr.a.row,hr.a.wrap)},re.homeBased?a.a.createElement("div",{className:p()(hr.a.title,hr.a.mobileHidden)},j.getString("journal-header_subject-journal-title")," ",re.name):a.a.createElement(et.a,{value:q,className:p()(hr.a.blueSelect,hr.a.groupSelect),selectedStyle:ua,blue:!0,options:E.map((function(e){return{value:e.id,text:e.name}})),onChange:G,testIdContainer:"selected-group",testIdDropDown:"group-list",icon:Object(V.v)()}),a.a.createElement("div",{className:hr.a.groupInfo},ae&&ae.length&&a.a.createElement(et.a,{value:U,className:hr.a.blueSelect,selectedStyle:ua,blue:!0,options:ae.map((function(e){return{value:e.id,text:e.name}})),onChange:Z,testIdContainer:"selected-subject",testIdDropDown:"subject-list",icon:Object(V.v)()})),P&&!!P.length&&a.a.createElement(et.a,{value:Y,className:hr.a.subgroupSelect,selectedStyle:{width:"max-content",fontSize:12,border:0},options:P.map((function(e){return{value:e.id,text:e.name}})),onChange:K,defaultOption:{value:null,text:j.getString("journal-header_subgroup-filter-default",{schoolType:x})},testIdContainer:"selected-subgroup",testIdDropDown:"subgroup-list",icon:Object(V.v)()}),re.isSummative&&_&&a.a.createElement("div",{className:hr.a.subjectReportingPeriodContainer},a.a.createElement("div",null,j.getString("journal-header_mark-evaluation")),a.a.createElement(et.a,{value:y,className:hr.a.subjectReportingPeriodSelect,selectedStyle:{width:"max-content",fontSize:12,border:0},options:[{value:!1,text:j.getString("journal-header_quarter")},{value:!0,text:j.getString("journal-header_half-year")}],onChange:k,blue:!0,testIdContainer:"selected-subjectReportingPeriod",testIdDropDown:"subjectReportingPeriod-list",noIcon:!0,disabled:!w.isSubjectReportingPeriodSwitchEnabled}))),a.a.createElement("div",{className:hr.a.teachersRow},H?a.a.createElement("div",{className:hr.a.odoDateSelector},a.a.createElement(Or,{onChange:X,dateStart:z,dateFinish:$,isOdo:!0,studyYear:ue})):a.a.createElement("div",{className:p()(hr.a.label,hr.a.mobileHidden)},j.getString("journal-header_study-year",{studyYear:ue+"/"+(ue+1)})),N&&a.a.createElement(br,{title:j.getString("journal-header_subject-teachers",{schoolType:x}),links:N.map((function(e){return{key:e.id,url:e.url,text:e.name}})),testId:"subject-teachers"}),a.a.createElement("div",{className:hr.a.desktopHidden},ge))):a.a.createElement("div",{className:hr.a.row},a.a.createElement("div",{className:p()(hr.a.column,hr.a.mobileHidden)},a.a.createElement("div",{className:hr.a.row},a.a.createElement("div",{className:hr.a.title},j.getString(R===F.Day?"journal-header_day-journal-title":"journal-header_week-journal-title"))),a.a.createElement(Or,{onChange:X,dateStart:z,showWeek:R===F.Week,studyYear:ue})),a.a.createElement("div",null,a.a.createElement("div",{className:hr.a.row},E.length>1?a.a.createElement(et.a,{value:q,className:p()(hr.a.blueSelect,hr.a.groupSelect),selectedStyle:ua,blue:!0,options:E.map((function(e){return{value:e.id,text:e.name}})),onChange:G,testIdContainer:"selected-group",testIdDropDown:"group-list",icon:Object(V.v)()}):a.a.createElement("div",{className:hr.a.title},re.name),a.a.createElement("div",{className:hr.a.mobileDateSelector},a.a.createElement(Or,{onChange:X,dateStart:z,showWeek:R===F.Week,studyYear:ue,style:{margin:"14px 0 0 0"},popoverStyle:{right:0},short:!0}))),A&&a.a.createElement(br,{title:j.getString("journal-header_class-teacher",{schoolType:x}),links:[{key:A.id,url:A.url,text:A.name}],testId:"class-teacher"}))),a.a.createElement("div",{className:p()(hr.a.headerButtons,hr.a.mobileHidden)},ge,a.a.createElement("div",{className:hr.a.markVersionButton,title:j.getString("mark-version-header_tooltip"),onClick:function(){return u(!s)},"data-test-id":"mark-version-button"}),a.a.createElement("div",{className:c?hr.a.colored:hr.a.blackAndWhite,title:j.getString("journal-header_black-and-white"),onClick:function(){We("bw"),d(!c)},"data-test-id":"black-and-white-button"}),(!b.journalWithoutLessons||ie&&!b.planningWithoutLessons)&&a.a.createElement((function(){var e=void 0;return e=H||R!==F.Week?H&&R===F.Subject?a.a.createElement("div",{className:hr.a.exportButton,title:j.getString("export-header_tooltip"),"data-test-id":"export-button",onClick:function(){he({schoolId:w.currentSchoolId,studyYear:ue,groupId:q,subjectId:U,periodId:f,subgroupId:Y,dateFrom:I(z),dateTo:I($)}).error&&v(),We("click_export"),We("export_journal")}}):a.a.createElement("div",null,a.a.createElement("div",{className:hr.a.exportButton,title:j.getString("export-header_tooltip"),onClick:function(){fe(!0),We("click_export")},"data-test-id":"export-button"}),me&&a.a.createElement(ea,{headerData:w,filter:i,journalData:n,planningData:o,journalPeriodId:m,planningPeriodId:f,journalOptions:h,planningOptions:g,exportJournalUrl:L,onClose:function(){fe(!1)},onError:v})):a.a.createElement("a",{onClick:function(){We("click_export"),We("export_journal")},href:L},a.a.createElement("div",{className:hr.a.exportButton,title:j.getString("export-header_tooltip"),"data-test-id":"export-button"})),R!==F.Day&&e}),null),D&&a.a.createElement("a",{onClick:function(){return We("grade_report")},href:D,target:"_blank",rel:"noreferrer","data-test-id":"grades-report-button"},a.a.createElement("div",{className:hr.a.gradesReportButton,title:j.getString("journal-header_grades-report",{schoolType:x}),"data-test-id":"grades-report-button"})),ce&&a.a.createElement((function(){return b.isContextGroup&&!b.contextGroupHasLessons?null:H?a.a.createElement("a",{onClick:function(){return We("click_print")},href:b.planningPrintUrl,target:"_blank",rel:"noreferrer"},a.a.createElement("div",{className:hr.a.printer,title:j.getString("print-button_tooltip"),"data-test-id":"print-button"})):a.a.createElement("div",{className:hr.a.printer,title:j.getString("print-button_tooltip"),onClick:function(){ne(!te),We("click_print")},"data-test-id":"print-button"})}),null))),te&&a.a.createElement(la,{onClose:function(){return ne(!1)},printInfo:b}))},da=n(842),pa=n.n(da);function ma(e,t,n){return e.value===t?n?"selected_journal_period":"selected_planning_period":n?"unselected_journal_period":"unselected_planning_period"}function fa(e){var t=e.options,n=e.selected,r=e.onChange,o=e.testId,i=e.isJournal;return a.a.createElement("div",{className:pa.a.container,"data-test-id":o},t.map((function(e){return a.a.createElement("div",{className:p()(pa.a.tab,(t={},o=pa.a.selected,l=e.value===n,o in t?Object.defineProperty(t,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[o]=l,t)),key:"tab-"+e.key,onClick:function(){return r(e.value)},"data-test-id":e.testId?e.testId:ma(e,n,i)},e.value===n?e.text:e.shortText||e.text);var t,o,l})))}var ha=n(369),ga=n.n(ha),va=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ka=0,ya=1,_a=2;var wa=function(e){var t=e.children,n=e.markVersionView,o=e.schoolType,i=Object(c.a)().l10n,l=Object(r.useState)(window.matchMedia("(max-width: 620px)").matches),s=va(l,2),u=s[0],d=s[1],m=Object(r.useState)(u?ka:ya),f=va(m,2),h=f[0],g=f[1],v=Object(r.useState)(null),b=va(v,2),k=b[0],y=b[1],_=t.filter((function(e){return!!e}));if(Object(r.useEffect)((function(){1===_.length?Be("journal"):Be(function(e){switch(e){case ka:return"journal";case ya:return"both";case _a:return"planning";default:return"notset"}}(h))}),[h]),!_.length)return null;if(1===_.length)return _[0];var w=h===_a,j=h===ka,E=function(e){g((function(t){return t===ya||e?_a:ya})),u&&d(!1),We("open_planning")},C=function(e){g((function(t){return t===ya||e?ka:ya})),We("open_journal")};return Object(r.useEffect)((function(){n&&h!==ka&&(h===ya&&y(ya),g(ka)),!n&&k&&(g(k),y(null))}),[n]),a.a.createElement("div",{className:ga.a.container},a.a.createElement("div",{className:ga.a.tabs,"data-test-id":"tabs"},a.a.createElement("div",{className:j?ga.a.activeTab:ga.a.tab,onClick:function(){return C(!0)}},i.getString("journal-tabs_marks")),a.a.createElement("div",{className:w?ga.a.activeTab:ga.a.tab,onClick:function(){return E(!0)}},i.getString("journal-tabs_planning",{schoolType:o}))),a.a.createElement("div",{className:ga.a.childrenContainer},a.a.createElement("div",{className:p()(ga.a.view,ba({},ga.a.shrinked,w)),"data-test-id":"left-view"},_[0]),a.a.createElement("div",{className:ga.a.separator,"data-test-id":"separator"},a.a.createElement("div",{className:p()(ga.a.tabLeft,ba({},ga.a.hidden,w)),onClick:function(){return E()},"data-test-id":"move-left"},a.a.createElement(V.l,null),i.getString("planning-multiview",{schoolType:o})),a.a.createElement("div",{className:p()(ga.a.tabRight,ba({},ga.a.hidden,j)),onClick:function(){return C()},"data-test-id":"move-right"},a.a.createElement(V.u,null),i.getString("journal-multiview"))),!u&&a.a.createElement("div",{className:p()(ga.a.view,ba({},ga.a.shrinked,j)),"data-test-id":"right-view"},_[1])))},ja=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ea=function(e){var t=Object(r.useState)(e),n=ja(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){void 0!==e&&o(e)}),[e]),a},Ca=n(940),Sa=n.n(Ca);function Oa(e){var t=e.text,n=e.url,r=e.style,o=e.testId,i=e.metrikaAction;return a.a.createElement("div",{className:Sa.a.container,style:r},a.a.createElement("div",{className:Sa.a.text,"data-test-id":o},a.a.createElement("a",{onClick:function(){return We(i)},href:n,"data-test-id":o,target:"_blank",rel:"noreferrer"}," ",t," ")))}var xa=n(843),Ta=n.n(xa),Ia=n(495),Na=n.n(Ia),Pa=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Aa=function(e){var t=e.lessonPlanning,n=e.schoolType,o=e.onClose,i=e.editOptionsRequest,s=e.onError,u=Object(r.useState)(null),c=Pa(u,2),d=c[0],m=c[1],f=Object(r.useState)(null),h=Pa(f,2),g=h[0],v=h[1],b=Object(r.useState)(null),k=Pa(b,2),y=k[0],_=k[1],w=Object(r.useState)(null),j=Pa(w,2),E=j[0],C=j[1],S=Object(r.useState)(null),O=Pa(S,2),x=O[0],T=O[1],I=Object(r.useState)(null),N=Pa(I,2),P=N[0],A=N[1],D=Object(l.d)().l10n,L=i.execute,M=i.isPending,R=i.error,H=i.value,B=t.groupId,W=t.subGroupId,U=t.studyYear,F=t.subjectId,q=Object(J.a)(te.lessonPlanningCopyCtp,!1),Y=q.execute,z=q.isPending,$=q.value,Z=q.error;if(Object(r.useEffect)((function(){if(Z)return o(),void s();R?o():H||M||L()}),[M,R,H,Z]),Object(r.useEffect)((function(){$&&$.success&&We("ktp_success")}),[$]),$){return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:o,title:D.getString("lesson-planning-copy-ctp_title"),style:{width:"100%",maxWidth:600}},a.a.createElement("div",{className:Na.a.container},$.success?a.a.createElement("div",{className:Na.a.content},a.a.createElement("div",{className:Na.a.createdIcon},Object(V.y)()),a.a.createElement("div",{className:Na.a.createdText},D.getString("lesson-planning-copy-ctp_success"))):a.a.createElement("div",{className:Na.a.createdText},$.error)),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{href:$.url,className:p()(le.a.blueBorderButton,Na.a.button),"data-test-id":"copy_ctp_popup_goto_ctp"},D.getString("lesson-planning-copy-ctp_goto-button")),a.a.createElement(se,{onClick:o,className:p()(le.a.blueButton,Na.a.button),"data-test-id":"copy_ctp_continue"},D.getString("lesson-planning-copy-ctp_continue-button")))))}var G,K,X,Q,ee={width:"100%"};return a.a.createElement(oe,null,a.a.createElement(ne.a,{title:D.getString("lesson-planning-copy-ctp_title"),testId:"ctp-copy-popup",onClose:o},(M||z)&&a.a.createElement(Pe.a,null),!z&&H&&a.a.createElement("div",{className:Na.a.container},a.a.createElement(at,{name:D.getString("lesson-planning-copy-ctp_studyYear-field")},a.a.createElement(et.a,{value:d,placeholder:D.getString("select-option-placeholder-no-select"),options:H.studyYears.map((function(e){return{value:e,text:e+"/"+(e+1)}})),onChange:function(e){m(e),C(null)},style:ee,testIdContainer:"ctp-study-year-field",testIdDropDown:"ctp-study-year-option"})),a.a.createElement(at,{name:D.getString("lesson-planning-copy-ctp_subject-field")},a.a.createElement(et.a,{value:g,placeholder:D.getString("select-option-placeholder-no-select"),options:H.subjects.map((function(e){return{value:e.id,text:e.text}})),onChange:v,style:ee,testIdContainer:"ctp-subject-field",testIdDropDown:"ctp-subject-option",searchEnabled:!0})),a.a.createElement(at,{name:D.getString("lesson-planning-copy-ctp_class-field",{schoolType:n}),error:P},a.a.createElement(et.a,{value:y,placeholder:D.getString("select-option-placeholder-no-select"),options:function(e,t){if(Object.keys(e).find((function(e){return e==t}))&&e[t].length>0){var r=e[t].map((function(e){return{value:e.id,text:e.text}}));return P&&A(null),r}return!P&&d&&A(D.getString("lesson-planning-copy-ctp_no-classes",{schoolType:n})),[]}(H.groupsByYear,d),onChange:function(e){_(e),C(e)},style:ee,testIdContainer:"ctp-class-field",testIdDropDown:"ctp-class-option",searchEnabled:!0})),a.a.createElement(at,{name:D.getString("lesson-planning-copy-ctp_study-group-field")},a.a.createElement(et.a,{value:E,placeholder:D.getString("select-option-placeholder-no-select-2"),options:(G=H.subgroups,K=y,X=Object.keys(G).find((function(e){return e===K})),Q=[{value:y,text:D.getString("lesson-planning-copy-ctp_default-study-group",{schoolType:n})}],X?Q.concat(G[K].map((function(e){return{value:e.id,text:e.text}}))):K&&E?Q:[]),onChange:C,style:ee,testIdContainer:"ctp-study-group-field",testIdDropDown:"ctp-study-group-option",searchEnabled:!0})),a.a.createElement(at,{name:D.getString("lesson-planning-copy-ctp_teacher-field")},a.a.createElement(et.a,{value:x,placeholder:D.getString("select-option-placeholder-no-select"),options:H.teachers.map((function(e){return{value:e.id,text:e.text}})),onChange:T,style:ee,testIdContainer:"ctp-teacher-field",testIdDropDown:"ctp-teacher-option",searchEnabled:!0})),a.a.createElement("div",{className:le.a.buttons},a.a.createElement(se,{onClick:function(){z||(Object.values({ctpGroupId:y,ctpSubjectId:g,ctpStudyYear:d,ctpTeacherId:x,ctpSubgroupId:E}).some((function(e){return null===e}))||Y({year:d,subject:g,groupId:y,personId:x,subGroupId:E===y?null:E,lessonPlanningYear:U,lessonPlanningGroup:B,lessonPlanningSubgroup:W,lessonPlanningSubject:F}))},className:p()(le.a.blueButton,Na.a.button),testId:"copy_ctp_submit_button"},D.getString("lesson-planning-copy-ctp_copy-button"))))))},Da=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function La(e){var t=e.lessonPlanning,n=e.text,o=e.disabled,i=e.style,s=e.testId,u=e.onError,c=e.schoolId,d=e.schoolType,m=e.isContextGroup,f=e.contextGroupHasLessons,h=Object(l.d)().l10n,g=Object(r.useState)(!1),v=Da(g,2),b=v[0],k=v[1],y=Object(r.useCallback)((function(){return u(h.getString("journal-popup_save-error"))}),[u]),_=Object(r.useCallback)((function(){return te.getLessonPlanningCopyToCtpOptions(t.studyYear,c)}),[t.studyYear,c]),w=Object(J.a)(_,!1,y);return a.a.createElement("div",{className:Ta.a.container,style:i},a.a.createElement("div",{className:o?p()(Ta.a.disabled):p()(Ta.a.text),onClick:function(){o||(!m||f?(k(!0),We("copy_ktp")):u(h.getString("lesson-planning-copy-ctp_error-change-subgroup")))},"data-test-id":s,disabled:o},n),b&&a.a.createElement(Aa,{lessonPlanning:t,schoolType:d,editOptionsRequest:w,onClose:function(){return k(!1)},onError:y}))}var Ma=n(655),Ra=n.n(Ma);function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ba(e){var t=e.text,n=e.isActive,r=e.onFilterClick,o=e.onAddWorkButtonClick,i=e.canAddSummativeWork;return a.a.createElement("div",{className:p()(Ra.a.summativeButtons,Ha({},Ra.a.summativeButtonsActive,n))},a.a.createElement("button",{className:p()(Ra.a.summativeFilter,Ha({},Ra.a.summativeFilterActive,n)),onClick:r},t),a.a.createElement("div",{className:Ra.a.verticalLine,hidden:!i}),a.a.createElement("button",{className:Ra.a.addWorkButton,onClick:o,hidden:!i},Object(V.p)()))}var Wa=n(543),Ua=n.n(Wa);function Fa(e){var t=e.onClose,n=e.onSubmit,o=e.buttonStyle,i=Object(l.d)().l10n,s=Object(r.useRef)();return a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:t,title:i.getString("journal-check-password-popup_title")},a.a.createElement("div",{className:Ua.a.container},a.a.createElement("div",{className:Ua.a.warningText},i.getString("journal-check-password-popup_warning-1")),a.a.createElement("div",{className:Ua.a.warningText,dangerouslySetInnerHTML:{__html:i.getString("journal-check-password-popup_warning-2")}}),a.a.createElement("div",{className:Ua.a.warningText},i.getString("journal-check-password-popup_warning-3")),a.a.createElement("div",{className:Ua.a.warningText},i.getString("journal-check-password-popup_warning-4")),a.a.createElement("div",{className:Ua.a.passwordContainer},a.a.createElement("div",null,i.getString("journal-check-password-popup_password")),a.a.createElement("input",{className:Ua.a.passwordInput,type:"password",ref:s})),a.a.createElement("div",{className:Ua.a.buttonsContainer},a.a.createElement(se,{onClick:function(){return n(s.current.value)},className:o},i.getString("journal-check-password-popup_continue")),a.a.createElement(se,{onClick:t,className:o},i.getString("journal-check-password-popup_cancel"))))))}var Va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Ya(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var za=__JOURNAL__INITIAL__STATE__;function $a(e,t,n){return e.has(t)?e.get(t)||null:n}function Za(e){var t=e.error;return a.a.createElement("div",{className:f.a.placeholder},a.a.createElement("div",{className:f.a.placeholderImage}),a.a.createElement("div",null,t))}function Ja(e){var t=e.request,n=e.withoutPersons,r=e.withoutLessons,o=e.period,i=e.isOdo,l=e.schoolType,s=e.l10n;if(t.isPending)return a.a.createElement(Pe.a,{delay:1e3,testId:"journal_loader"});if(t.error||!t.value)return a.a.createElement("div",null,"Ошибка");if(t.value.error)return a.a.createElement(Za,{error:t.value.error});if(n)return a.a.createElement(Za,{error:s.getString("planning-placeholder_no-persons",{schoolType:l})});var u=function(e){return!e.value.finalWorks||!e.value.finalWorks.length}(t);return r&&u&&"final"!==o?a.a.createElement(Za,{error:s.getString("planning-placeholder_no-lessons",{schoolType:l})}):u&&i&&"final"===o?a.a.createElement(Za,{error:s.getString("journal-placeholder_no-final-works")}):null}var Ga=function(e){var t,n=za.journalType,o=za.journalHeader,i=za.isOdo,l=Object(r.useRef)(null),s=(t=Object(u.h)().search,a.a.useMemo((function(){return new URLSearchParams(t)}),[t])),d=Object(u.i)(),m=d.groupId,h=d.subjectId,v=o.groups.find((function(e){return e.id===m})),b=o.subjects,k=b&&b[m],y=o.periods,_=y&&y[m]&&y[m].periods,w=$a(s,"periodId",o.currentPeriodId),j=$a(s,"planningPeriodId",o.currentPlanningPeriodId),E=function(e,t){var n=e.day,r=e.month;if(n&&r){var a=e.year||function(e,t){return e>=8?t:t+1}(r,t);return Math.round(Date.UTC(a,r-1,n)/1e3)}return null}(d,v.studyYear)||$a(s,"dateStart",o.dateStart),C=$a(s,"dateFinish",o.dateFinish),S=$a(s,"subGroupId",o.currentSubGroupId),O=Object(c.a)().l10n,I=Object(r.useState)(null),N=qa(I,2),P=N[0],A=N[1],D=Object(r.useState)(!1),L=qa(D,2),M=L[0],R=L[1],H=Object(r.useState)(!1),B=qa(H,2),W=B[0],U=B[1],V=Object(r.useState)(!1),q=qa(V,2),Y=q[0],z=q[1],$=Object(r.useState)(!1),Z=qa($,2),G=Z[0],K=Z[1],X=Object(r.useState)(null),Q=qa(X,2),ee=Q[0],re=Q[1],ae=Object(r.useState)(0),ie=qa(ae,2),le=ie[0],ue=ie[1],ce=n===F.Subject;Object(r.useEffect)((function(){P&&We("common_error")}),[P]),Object(r.useEffect)((function(){window.__SEND__MESSAGE__INITIAL__STATE__&&!i&&v&&v.parallel>1&&qe("view",n)}),[]);var de=d.schoolId||o.currentSchoolId,pe=o.schoolType,me=function(){return ue(le+1)};function fe(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(n).forEach((function(e){return s.set(e,n[e])}));var r=Object(u.e)(e.match.path,Va({},d,t));e.history.push({pathname:r,search:s.toString()})}var he=Object(r.useCallback)((function(){return te.getJournal({journalType:n,schoolId:de,groupId:m,subjectId:h,journalPeriod:w,subGroupId:S,dateStart:E,dateFinish:C,isOdo:i})}),[m,h,w,S,E,C,le]),ge=Object(r.useCallback)((function(){return te.getPlanning({schoolId:de,groupId:m,subjectId:h,periodId:j,studyYear:v.studyYear,subgroupId:S||"",dateFrom:E,dateTo:C})}),[m,h,j,S,E,C]),ve=Object(r.useCallback)((function(){return A(O.getString("journal-popup_default-error"))}),[]),be=Object(J.a)(he,!0,ve),ke=Object(J.a)(ge,ce,ve),ye=Object(J.a)(te.changeSubjectReportingPeriod,!1,ve,(function(e){e.error?A(e.error):me()})),_e=ye.execute,we=ye.isPending,je=Object(J.a)(te.checkPasswordValidationForChaingingSubjectReportingPeriod,!1,ve,(function(e){e.error?A(e.error):e.shouldCheckPassword?re((function(){return function(e){_e({subjectId:h,groupId:m,isHalfYearSubjectReportingPeriod:!be.value.isHalfYear,password:e}),re(null)}})):_e({subjectId:h,groupId:m,isHalfYearSubjectReportingPeriod:!be.value.isHalfYear})})),Ee=je.execute,Ce=je.isPending,Se=Ea(be.value&&be.value.isThematicMarkEnabled),Oe=Ea(be.value&&be.value.newThematicMarkUrl),Te=Ea(be.value&&be.value.importJournalUrl),Ie=Ea(ke.value&&ke.value.importLessonPlanningUrl);Object(r.useEffect)((function(){var e;be.value&&be.value.userMetrikaRights&&(e=be.value.userMetrikaRights,He=Le({},He,{rights:e}))}),[be]);var Ne,Ae,De,Me=Object(r.useMemo)((function(){return i&&E&&C?[{key:"date-period",value:null,text:T(E)+" - "+T(C)}]:(_||[]).map((function(e){return{key:e.id,value:e.id,text:e.name,shortText:e.number>=0?e.number+1:e.text}}))}),[_,E,C]),Re=ce&&[].concat(Ya(Me),[{key:"final",value:"final",text:O.getString("journal-button_final"),testId:"button-final"}]),Be=ce&&!i&&[].concat(Ya(Me),[{key:"year",value:"year",text:O.getString("journal-button_year"),testId:"button-year"}]),Ue=function(e){fe({},{periodId:e||""}),We(function(e){switch(e){case"year":case"final":return"filter_year_journal";case"thematic":return"filter_thematic";default:return"switch_periods_journal"}}(e))},Fe=Re&&w&&(Re.filter((function(e){return e.key===w}))[0]||null),Ve=Be&&j&&(Be.filter((function(e){return e.key===j}))[0]||null),Ye=ke.value&&(!ke.value.lessonsPlanning||!ke.value.lessonsPlanning.length),ze=ke.value&&ke.value.contextGroupHasLessons,$e=be.value&&(!be.value.lessons||!be.value.lessons.length),Ze=be.value&&(!be.value.persons||!be.value.persons.length),Je=be.value&&be.value.canAddSummativeWork;return a.a.createElement("div",{className:f.a.container},a.a.createElement(ca,{initialState:za,journalData:be.value,planningData:ke.value,filter:{subjectId:h,groupId:m,subGroupId:S,dateStart:E,dateFinish:C,setSubjectId:function(e){fe({subjectId:e},S?{subGroupId:""}:{}),We("switch_subject")},setGroupId:function(e){var t={groupId:e},n={};ce&&(b[e]&&b[e].length&&!b[e].find((function(e){return e.id===h}))&&(t.subjectId=b[e][0].id),y&&y[e]&&y[e].periods.length&&!y[e].periods.find((function(e){return e.id===w}))&&("final"!==w&&"thematic"!==w&&(n.periodId=y[e].currentPeriod),"year"!==j&&(n.planningPeriodId=y[e].currentPlanningPeriod))),fe(t,n),We("switch_class")},setSubGroupId:function(e){fe({},{subGroupId:e||""}),We("switch_subgroups")},setDates:function(e,t){ce?fe({},{dateStart:e,dateFinish:t}):fe(x(e)),We("switch_date")}},markVersionView:M,changeMarkVersionValue:function(e){if(void 0!==e){var t=function(e){return xe=e}(e);R(t),We(t?"enter_history":"exit_history")}},blackAndWhiteMarks:W,setBlackAndWhiteMarks:U,journalPeriodId:w,planningPeriodId:j,journalOptions:Re,planningOptions:Be,onError:A,changeSubjectReportingPeriod:function(e){Ce||we||be.isPending||be.value.isHalfYear===e||Ee(h,m)},canChangeSubjectReportingPeriod:!be.isPending&&za.journalHeader.canChangeSubjectReportingPeriod,isHalfYearSubjectReportingPeriod:be&&be.value&&be.value.isHalfYear,printInfo:{currentJournalPeriod:Fe,currentPlanningPeriod:Ve,isPending:be.isPending||ke.isPending,journalPeriod:w,journalPrintUrl:be.value&&be.value.journalPrintUrl,planningPrintUrl:ke.value&&ke.value.lessonPlanningPrintUrl,journalWithoutLessons:$e,planningWithoutLessons:Ye,contextGroupHasLessons:ze,isContextGroup:null==S,schoolType:pe}}),a.a.createElement("div",{className:f.a.tabs},be.isPending&&ke.isPending?a.a.createElement(Pe.a,{delay:1e3,testId:"journal_loader"}):a.a.createElement(wa,{markVersionView:M,schoolType:pe},a.a.createElement("div",{className:p()(f.a.jornalTab,(Ne={},Ae=g.a.blackAndWhiteMarks,De=W,Ae in Ne?Object.defineProperty(Ne,Ae,{value:De,enumerable:!0,configurable:!0,writable:!0}):Ne[Ae]=De,Ne))},Re&&a.a.createElement("div",{className:f.a.filter},a.a.createElement("div",{className:f.a.switcher},a.a.createElement(fa,{options:Re,selected:w,onChange:Ue,testId:"journal-period",isJournal:!0}),i&&a.a.createElement("div",{className:f.a.finalWorkButton,ref:l}),a.a.createElement("div",{className:f.a.buttonsContainer},!i&&v.isSummative&&"final"!==w&&a.a.createElement("div",{className:f.a.summativeButtonsContainer},a.a.createElement(Ba,{text:O.getString("journal-button_filter-summative"),isActive:G,onFilterClick:function(){return K(!G)},onAddWorkButtonClick:function(){return z(!0)},canAddSummativeWork:Je})),a.a.createElement("div",{className:f.a.mobileHidden},!i&&Se&&a.a.createElement(nn,{text:O.getString("journal-button_thematic"),newThematicMarkUrl:Oe,url:Oe,selected:w,onClick:function(){return Ue("thematic")},testId:"thematic-button",plusTestId:"add-thematic-button"}),!i&&Te&&a.a.createElement(Oa,{text:O.getString("journal-button_import"),url:Te,style:{margin:"0 0 0 22px"},testId:"journal-import-button",metrikaAction:"import_journal"}))))),Ja({request:be,withoutPersons:Ze,withoutLessons:$e,period:w,isOdo:i,schoolType:pe,l10n:O})||a.a.createElement(wn,{journalData:be.value,schoolId:de,journalType:n,onError:A,journalPeriod:w,isOdo:i,groupId:m,subjectId:h,finalWorkButtonRef:l,subject:k&&k.find((function(e){return e.id===h})),studyYear:v.studyYear,schoolType:pe,dateStart:E,dateFinish:C,parallel:v.parallel,isReadOnly:za.isReadOnly,showOnlySummativeWorks:G,onWorkEditError:A,updateJournal:me,isHalfYearSubjectReportingPeriod:be&&be.value&&be.value.isHalfYear,isSummative:v.isSummative})),ce&&a.a.createElement("div",{className:f.a.planningTab},a.a.createElement("div",{className:f.a.filter},a.a.createElement("div",{className:f.a.switcher},Be&&a.a.createElement(fa,{options:Be,selected:j,onChange:function(e){fe({},{planningPeriodId:e}),We(function(e){switch(e){case"year":return"filter_year_planning";default:return"switch_periods_planning"}}(e))},testId:"planning-period"}),a.a.createElement("div",{className:p()(f.a.planningButtons,f.a.mobileHidden)},ke.value&&!Ye&&ke.value.copyToCtpEnabled&&!i&&a.a.createElement(La,{lessonPlanning:{groupId:m,subGroupId:S,studyYear:v.studyYear,subjectId:h},schoolType:pe,text:O.getString("lesson-planning-copy-ctp_button"),onError:A,disabled:!ke.value.ctpFeatureEnabled,testId:"copy_ctp_button",schoolId:de,isContextGroup:null==S,contextGroupHasLessons:ze}),za.isImportKtpTipEnabled&&a.a.createElement("div",{className:f.a.importKtpTip},a.a.createElement("div",{className:f.a.importKtpTipInternal,dangerouslySetInnerHTML:{__html:O.getString("lesson-planning-import-ktp-tip")}})),Ie&&a.a.createElement(Oa,{text:O.getString("journal-button_import"),url:Ie,style:{margin:"0 8px 0 auto"},testId:"lesson-planning-import-button",metrikaAction:"import_planning"})))),Ja({request:ke,withoutLessons:Ye,isOdo:i,schoolType:pe,l10n:O})||a.a.createElement(mr,{planningData:ke.value,onError:A,lessonId:za.lessonId,addHomework:za.addHomework,groupId:m,subjectId:h,isOdo:i,schoolType:pe})))),Y&&a.a.createElement(jt,{schoolId:de,subjectId:h,groupId:m,periodId:w,onClose:function(){return z(!1)},onError:A,studyYear:v.studyYear,updateJournal:me}),P&&a.a.createElement(oe,null,a.a.createElement(ne.a,{onClose:function(){return A(null)},style:{width:420}},a.a.createElement("div",{className:f.a.errorContainer},a.a.createElement("div",{className:f.a.errorIcon}),a.a.createElement("div",{className:f.a.errorTitle},O.getString("journal-popup_error-title")),a.a.createElement("div",{className:f.a.errorText},P),a.a.createElement(se,{onClick:function(){return A(null)},className:f.a.blueButton},O.getString("journal-button_close"))))),ee&&a.a.createElement(Fa,{buttonStyle:f.a.blueButton,onClose:function(){return re(null)},onSubmit:function(e){return ee(e)}}))},Ka=n(206),Xa=n(1053),Qa=n.n(Xa),eo=Object(Ka.a)(Qa.a);We("enter"),Object(o.render)(a.a.createElement(l.a,{l10n:eo},a.a.createElement(s.a,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{path:ln.subject,component:Ga}),a.a.createElement(u.a,{path:ln.odoSubject,component:Ga}),a.a.createElement(u.a,{path:ln.day,component:Ga}),a.a.createElement(u.a,{path:ln.week,component:Ga})))),document.getElementById("journal_container"))},154:function(e,t,n){e.exports={row:"BkD8R",wrap:"_3lHoq",breadcrumbs:"zvyua",markVersionsHeader:"_2Vm6d",markVersionsHeaderText:"thk9s",blackAndWhite:"yLF1R",colored:"_31o2s",markVersionButton:"_3N0y0",gradesReportButton:"_3kZnZ",exportButton:"_3JJeW",printer:"_3Zxtp",markVersionDisableButton:"_3plwQ",headerButtons:"_3npkA",column:"_3pko0",header:"_1rj5i",headerUtility:"ZL8ur",subHeader:"_1x1Rg",title:"_2cDQa",label:"_3MAW0",memo:"_2ONQD",bannerAndButtons:"WrsS0",banner:"_2TspE",postButton:"Y6PfF",buttons:"_1cSok",dodActivationNotification:"_3QyKl",blueSelect:"_3f5jz",groupSelect:"ZrzVF",subgroupSelect:"_2ohGq",subjectReportingPeriodContainer:"_2Awzu",subjectReportingPeriodSelect:"UaYOx",teachersRow:"_1sfmd",weekJournalUrl:"_18u-B",odoDateSelector:"_1Lspw",mobileDateSelector:"_26Obv",desktopHidden:"jF8rM",mobileHidden:"_2Moy2",groupInfo:"_30Ojk"}},155:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(223),i=n.n(o),l=n(16),s=n(5);t.a=function(e){var t=e.onClose,n=e.title,o=e.subtitle,u=e.children,c=e.testId,d=e.style,p=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=function(e){e.keyCode===l.a.ESC&&t()};return Object(s.b)({keydown:e}),function(){Object(s.e)({keydown:e})}}),[]),a.a.createElement("div",{className:i.a.overlay},a.a.createElement("div",{className:i.a.overlay_content,onClick:function(e){p.current&&!p.current.contains(e.target)&&t()}},a.a.createElement("div",{className:i.a.container,ref:p,style:d,"data-test-id":c},a.a.createElement("div",{className:i.a.close,onClick:t,"data-test-id":c+"-close-button"},a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#C7D0DA"}),a.a.createElement("path",{d:"M8.25 16.2045L16.2045 8.25L8.25 16.2045ZM8.25 8.25L16.2045 16.2045Z",fill:"#C7D0DA"}),a.a.createElement("path",{d:"M8.25 8.25L16.2045 16.2045M8.25 16.2045L16.2045 8.25L8.25 16.2045Z",stroke:"white",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))),n&&a.a.createElement("div",{className:i.a.title},n,o&&a.a.createElement("div",{className:i.a.subtitle},o)),a.a.createElement("div",{className:i.a.content},u))))}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BACKSPACE:8,TAB:9,ENTER:13,CTRL:10,RETURN:13,SHIFT:16,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,B:66,I:73,Z:90,V:86,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},164:function(e,t,n){e.exports={container:"_1bdG_",homeworksContent:"_1g6u4",planning:"_1aLWH",number:"_2Ak66",homework:"_1zl02",today:"_3GRBa",fillerRow:"_2ayHy",hours:"YBGiE",date:"_3BX5p",title:"_1TqSM",row:"lXgpK",canceled:"_2tOZX",lessonInfo:"wRDg4",addHomeworkButton:"_2DXSD",editable:"_1Dodb",addHomeworkButtonEnabled:"_33LGC",addHomeworkButtonDisabled:"_16fJY",addHomeworkButtonEmptyHomeworkList:"l_uBx",partnersHomeworkButton:"_2Jym9",textEditorContainer:"_3AGbS",blueText:"_1LBvf",overflowEllipsis:"IdH-z",highlighted:"_2Akr5",highlight:"_1NxRM",plus:"_2yDnM",mobileFixedWidth:"_20UNZ",mobileHidden:"GwpZN"}},17:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return Object.keys(e).forEach((function(n){e[n]=t(n)})),e},a=function(e){return e?Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""}},172:function(e,t,n){e.exports={button:"_2i5Zi",link:"_2uVLq",blueButton:"_1aJB2",whiteButton:"_24K4M",buttons:"PJoIA",blueBorderButton:"_29MPr"}},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(272),a=n(15);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return new a.c(function(e){var t=window.dnevnik&&window.dnevnik.settings&&window.dnevnik.settings.environmentPrefix&&window.dnevnik.settings.environmentPrefix.toLowerCase();return(window.dnevnik&&window.dnevnik.user&&window.dnevnik.user.suitableCultures||[]).filter((function(t){return-1!==e.findIndex((function(e){return e.locale===t}))})).map((function(n){var a=new r.a(n),i=e.filter((function(e){return e.locale===n}));return[].concat(o(i.filter((function(e){return e.conf===t}))),o(i.filter((function(e){return!e.conf})))).forEach((function(e){a.addResource(new r.b(e.content))})),a}))}(e))}},221:function(e,t,n){e.exports={button:"_1YIiY",link:"_1U2TU",blueButton:"_2VXu7",whiteButton:"_2yleG",buttons:"B-tOV",blueBorderButton:"qpJdO"}},223:function(e,t,n){e.exports={overlay:"_2Epye",overlay_content:"_3VsV8",container:"scvJK",content:"_3Cc72",title:"_2FRBv",subtitle:"_1keM6",close:"_2k_el"}},262:function(e,t,n){e.exports={rowCentered:"_23nFT",label:"_1T6qs",hidden:"_3-ULU",button:"_3cpHB",fileName:"_3r4us",overflowEllipsis:"_250-f",fileAction:"c-d3Q",files:"mPhml",content:"_3Sw1o",contentTimeToExecute:"bFeos",popupText:"_3FPKa",attachFileIcon:"_3-42P",homeworkContainer:"i0eK9",homeworkText:"_3e58o",homeworkInput:"Svgl3",homeworkViewOnly:"_3hY-s",addHomeworkContent:"_3GhQH",textEditorContainer:"_299f5",status:"_2cPX-",statusContent:"eoFiq",currentStatus:"_19hEl",timeToExecute:"_2zrTC",loading:"_1atwk",dotty:"_2SdyW",container:"_3VWSw"}},294:function(e,t,n){e.exports={container:"NR0bf",markVersionHeader:"_2qOt2",tabs:"_1EFL3",row:"_3RRfG",jornalTab:"_3pFQ6",planningTab:"obRjX",switcher:"_14xEA",planningButtons:"_1y0qv",planning:"_3LV2E",filter:"_2gpat",errorContainer:"_3sOmG",errorIcon:"_2okmG",errorTitle:"_4Y3wh",errorText:"_3xkNV",blueButton:"_1wMmS",placeholder:"_11qFO",placeholderImage:"_2V5dq",finalWorkButton:"_1BGdu",buttonsContainer:"_2Yiig",mobileHidden:"_20QM1",importKtpTip:"_1h6b9",importKtpTipInternal:"I0Voj",summativeButtonsContainer:"_21y8h"}},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),o=n(2),i=n.n(o),l=n(127),s=n(5),u=n(333),c=n.n(u),d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t,n=Object(l.a)(!1),o=d(n,3),u=o[0],m=o[1],f=o[2],h=Object(r.useRef)(null),g=Object(r.useRef)({}),v=e.value,b=e.searchEnabled,k=e.onChange,y=e.defaultOption,_=e.placeholder,w=e.disabled,j=Object(r.useMemo)((function(){return(y?[y]:[]).concat(e.options||[])}),[y,e.options]);Object(r.useEffect)((function(){h.current&&b&&h.current.scrollIntoView({block:"center",behavior:"smooth"})}),[v]),Object(r.useEffect)((function(){h.current&&u&&h.current.scrollIntoView({block:"center",behavior:"auto"})}),[u]),Object(r.useEffect)((function(){if(u&&b){var e=function(e){if(e.key&&j){var t=e.key.toLowerCase();g.current.text=(g.current.text||"")+t,clearTimeout(g.current.resetSearchText);var n=j.find((function(e){return e.text.toLowerCase().startsWith(g.current.text)}));n&&k&&k(n.value),g.current.resetSearchText=setTimeout((function(){g.current.text=""}),400)}};return Object(s.b)({keydown:e}),function(){Object(s.e)({keydown:e})}}}),[u]);var E=j.find((function(e){return e.value===v}));return a.a.createElement("div",{className:i()(c.a.container,e.className),style:e.style,ref:f},a.a.createElement("div",{className:i()(c.a.selected,(t={},p(t,c.a.placeholder,!E),p(t,c.a.disabled,w),p(t,c.a.blue,e.blue),t)),onClick:w?void 0:function(){return m(!u)},style:e.selectedStyle,"data-test-id":e.testIdContainer},a.a.createElement("span",{className:c.a.selectedText},(E?E.text:_)||" "),e.noIcon?null:e.icon||a.a.createElement("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9 1L5 5L1 1",stroke:"#9CA7B5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),u&&a.a.createElement("div",{className:c.a.options,style:e.optionsStyle},j.map((function(t){return a.a.createElement("div",{className:i()(c.a.option,p({},c.a.selectedOption,t.value===v)),key:t.key||"option-"+t.value,onClick:function(){return e=t.value,void(k&&(k(e),m(!1)));var e},"data-test-id":e.testIdDropDown,ref:t.value===v?h:void 0},t.text||" ")}))))}},320:function(e,t,n){var r={"./terms.ru-RU.ftl":357};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=320},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(628),i=n.n(o),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function s(e){var t=e.delay,n=e.style,o=e.testId,s=Object(r.useState)(!t),u=l(s,2),c=u[0],d=u[1];return Object(r.useEffect)((function(){if(t){var e=setTimeout((function(){return d(!0)}),t);return function(){return clearTimeout(e)}}}),[]),a.a.createElement("div",{className:i.a.container,"date-test-id":o},c&&a.a.createElement("div",{className:i.a.loader,style:n}))}},333:function(e,t,n){e.exports={container:"_2z3Gv",selected:"_1Y675",placeholder:"b9jJD",disabled:"_3sYXO",blue:"BdyHg",selectedText:"tPv-y",options:"_3J6Xn",option:"kyVS4",selectedOption:"_3N3Lz"}},337:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),l=n(221),s=n.n(l);t.a=function(e){var t,n,r,o=e.className,l=e.onClick,u=e.type,c=e.children,d=e.href,p=e.target,m=e.style,f=e.testId,h=i()(s.a.button,o,(t={},n=s.a.link,r=!!d,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return d?a.a.createElement("a",{href:d,className:h,style:m,onClick:l||void 0,target:p,"data-test-id":f},c):a.a.createElement("button",{type:u,className:h,style:m,onClick:l||void 0,"data-test-id":f},c)}},352:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),l=n(387),s=n.n(l),u=n(124);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t,n=e.active,r=e.disabled,o=e.text,l=e.errorText,d=e.onClick,p=i()(s.a.radio,(c(t={},s.a.radioActive,n),c(t,s.a.radioDisabled,r),t));return a.a.createElement("div",{className:s.a.container,onClick:d},a.a.createElement("div",{className:p},n&&a.a.createElement(u.f,null)),a.a.createElement("div",{className:s.a.text},a.a.createElement("div",null,o),l&&a.a.createElement("div",{className:s.a.error},l)))}},357:function(e,t){e.exports="-project_long = Дневник.ру\r\n"},369:function(e,t,n){e.exports={container:"_2MkKx",childrenContainer:"_2FHce",view:"_10oIw",separator:"_1acNL",tabLeft:"_3gGw-",tabRight:"_3_LlL",shrinked:"_40ejs",hidden:"_2lKvZ",tabs:"_1-sJf",tab:"_2-WIH",activeTab:"_3HKCp"}},379:function(e,t,n){var r={"./en-gb":247,"./en-gb.js":247,"./kk":248,"./kk.js":248,"./ru":230,"./ru.js":230,"./uk":249,"./uk.js":249,"./uz":250,"./uz-latn":239,"./uz-latn.js":239,"./uz.js":250};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=379},387:function(e,t,n){e.exports={container:"_1xSR8",radio:"_1IrLL",radioDisabled:"_1rMvy",radioActive:"_1dtQI",text:"_1x5_Y",error:"_36rIn"}},388:function(e,t,n){e.exports={row:"_2haQJ",rowCentered:"YjRA8",content:"_1-r5i",button:"_2fbOj",label:"N7I-s",addMeeting:"_3PrTY",addTheme:"_9q-mD",disabledAdd:"_33FTR",editableLesson:"_3mUJt",readOnlyLesson:"_3zE05",onlineMeetingOnAirText:"_2XsXU",container:"_2LELz"}},39:function(e,t,n){"use strict";n(192);var r=n(17),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"same-origin",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{simple:!1};i(this,e),this.get=function(n,a){return fetch(n+(a?"?"+Object(r.a)(a):""),{method:"GET",cache:"no-cache",headers:e.getRequestHeaders(t.headers),credentials:t.credentials})},this.post=function(n,r){return fetch(n,{method:"POST",cache:"no-cache",headers:e.getRequestHeaders(t.headers),body:e.getRequestBody(t.headers,r),credentials:t.credentials})},this.credentials=n,this.headers=a}return o(e,null,[{key:"getRequestHeaders",value:function(e){return!!e.simple?new Headers({"Content-Type":"application/x-www-form-urlencoded"}):new Headers({Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",pragma:"no-cache"})}},{key:"getRequestBody",value:function(e,t){if(!!e.simple){var n=[];return Object.keys(t).forEach((function(e){Array.isArray(t[e])?t[e].forEach((function(t,r){t&&"object"===(void 0===t?"undefined":a(t))?Object.keys(t).forEach((function(a){n.push(e+"["+r+"]."+a+"="+encodeURIComponent(t[a]))})):n.push(e+"="+encodeURIComponent(t))})):null===t[e]?n.push(e+"="):n.push(e+"="+encodeURIComponent(t[e]))})),n.join("&")}return JSON.stringify(t)}}]),e}();t.a=l},394:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(29),i=n.n(o),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.htmlData&&0!==this.props.htmlData.length&&this.getScriptsData(this.props.htmlData).filter((function(e){return 0!==e.length})).forEach((function(e){try{window.eval(e)}catch(e){}}))}},{key:"getScriptsData",value:function(e){return this.extractScripts(this.unescapeHtmlData(e)).map((function(e){return e[1]}))}},{key:"getMarkupData",value:function(e){var t=this.unescapeHtmlData(e);return{__html:this.extractScripts(t).reduce((function(e,t){return e.replace(t[0],"")}),t)}}},{key:"extractScripts",value:function(e){var t=[],n=/<script\b[^>]*>([\s\S]*?)<\/script>/gm,r=null;do{(r=n.exec(e))&&t.push(r)}while(r);return t}},{key:"unescapeHtmlData",value:function(e){return i.a.unescape(e)}},{key:"render",value:function(){return this.props.htmlData&&0!==this.props.htmlData.length?a.a.createElement("div",{dangerouslySetInnerHTML:this.getMarkupData(this.props.htmlData)}):null}}]),t}(r.Component);t.a=c},399:function(e,t,n){e.exports={dates:"_3du90",dateRange:"_2end1",calendars:"_2bYUB"}},401:function(e,t,n){e.exports={container:"_2B3v1",popupHeader:"_3d8vl",content:"rAumI",title:"_30Bs8",remark:"_24csg",remarkTitle:"_2Trgi",text:"_3avMf",counter:"cnlFv",teacher:"pEDTu",date:"GiGAd",fixed:"LKWuS",disappear:"_2r_yB",hidden:"TGv2M"}},410:function(e,t,n){"use strict";t.a={TASK_STATUS_UNDEFINED:0,TASK_STATUS_PENDING:1,TASK_STATUS_EXECUTING:2,TASK_STATUS_COMPLETED:3,TASK_STATUS_ERROR:4,TASK_STATUS_EXPIRED:5}},429:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={viewPage:"view",viewTable:"viewTable",viewTaskSet:"viewTaskSet"},i={clickAdd:"clickAdd",clickReady:"clickReady",clickReject:"clickReject",clickService:"clickService",clickTask:"clickTask"},l=function(e,t,n,o,i,l,s,u){var c=a({},e,a({},Date.now(),a({},t,a({},n,a({},o||"notset",a({},i||"notset",a({},l||"notset",a({},s||"notset",a({},u||"notset",null)))))))));Object(r.a)(c)},s={viewPage:function(e){l("partners_homework_experiment",e,o.viewPage)},viewTable:function(e,t,n,r){l("partners_homework_experiment",e,o.viewTable,t,n,r)},clickAddHomework:function(e,t,n,r,a){l("partners_homework_experiment",e,i.clickAdd,t,n,r,a)},clickReadyHomework:function(e,t,n,r,a){l("partners_homework_experiment",e,i.clickReady,t,n,r,a)},clickRejectPopup:function(e,t,n,r,a){l("partners_homework_experiment",e,i.clickReject,t,n,r,a)},clickServiceHomework:function(e,t,n,r,a,o){l("partners_homework_experiment",e,i.clickService,t,n,r,a,o)}}},445:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=window.__VIDEO_LESSONS_INITIAL_STATE__||{};t.a=function(){return r({},a)}},462:function(e,t,n){e.exports={container:"_1_aj1",instruction:"_3JB2i",buttons:"_135oH",list:"_3pj1r"}},463:function(e,t,n){e.exports={container:"VJgzK",errorIcon:"_2IivI",errorTitle:"_3-wqZ",errorText:"_1N3yl"}},494:function(e,t,n){e.exports={container:"_1Oet2",date:"_2gjKx",withArrows:"_26klG",calendar:"_2sq5k",arrow:"_1YUeo",disabled:"_3nsY1",popover:"_26105"}},495:function(e,t,n){e.exports={container:"_3Zm67",content:"_1xtFM",createdText:"_1iyDG",createdIcon:"Eq8yv",button:"CLS50"}},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return s}));var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)e.addEventListener(r,t[r],n)},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)e.removeEventListener(r,t[r],n)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(document,e,t)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(document,e,t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(window,e,t)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(window,e,t)}},50:function(e,t,n){e.exports={container:"_3OnJc",journal:"_2u-J7",dayUrl:"_1a2Kp",blocked:"_5PZqu",newDay:"_2Io8I",today:"_2E3pL",firstCell:"_2_DxX",person:"G2ZZz",editedColumn:"_2BGGC",fillerX:"_1JHg-",fillerY:"_1EpGZ",fillerXY:"_2bo9u",excluded:"_1x84K",lessonNumber:"_2VHO0",checkbox:"Z__zE",odoJournal:"BTWOT",devided:"_1RnIx",personContent:"_36kep",sendMessageButton:"_26t-N",work:"_1wzGV",number:"Yft6-",mark:"_3XAAX",tooltip:"_3bfmR",wideMark:"Nemsf",specialMark:"M8FY9",markContent:"_3LpXM",markHintContainer:"_2Al-x",dayJournalHint:"xw87O",present:"_1lkKN",todayHeader:"v3ww_",thematicTitle:"kyZNw",overflowEllipsis:"_28AMi",linkDisabled:"_3F3nW",column:"_1z3lV",centered:"_84lxL",workHeader:"_1EJ_V",resetWorkButton:"_3yE45",boldTitle:"_1nPb3",dots:"zMEer",popover:"_7eE9I",popoverOption:"_1D7Rk",editableWork:"uq2OS",selectedWork:"_1KNbq",markEditor:"_35aeK",invalidMark:"_2T_DV",hiddenCell:"fjtdj",weekJournal:"Zi_nN",boldLeftBorder:"_2kodL",boldRightBorder:"_3jsX9"}},528:function(e,t,n){e.exports={button:"_2HUjz",msteams:"_1nJ5q",zoom:"_3AHnF",sferum:"_2poyw",help_container:"pjRu2"}},53:function(e,t,n){"use strict";var r=window.settings||{apiUrl:"/api"};t.a=r},542:function(e,t,n){e.exports={container:"_3iCOu",description:"_2QJIm",createdIcon:"_3du24",createdText:"_2vsLi",readOnlyValue:"_2_tLx",invalid:"hDWSF"}},543:function(e,t,n){e.exports={container:"_2AHV4",warningText:"_1_CRa",passwordContainer:"_3V0LD",passwordInput:"_3rLi0",buttonsContainer:"_3N6eC"}},565:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(271),i=n.n(o),l=n(240),s=n.n(l),u=n(1493),c=n(1002),d=n(399),p=n.n(d),m=n(155),f=n(337),h=n(221),g=n.n(h);n(252),n(254),n(255),n(106),n(180),n(179),n(253);function v(e){return e.toLocaleString("ru-RU",{day:"numeric",month:"numeric",year:"numeric",timeZone:"UTC"})}function b(e){var t=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.round(t/1e3)}var k=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.a=function(e){var t=Object(r.useState)(new Date(1e3*e.dateStart)),n=k(t,2),o=n[0],l=n[1],d=Object(r.useState)(new Date(1e3*e.dateFinish)),h=k(d,2),y=h[0],_=h[1],w=Object(r.useState)(o?v(o):""),j=k(w,2),E=j[0],C=j[1],S=Object(r.useState)(y?v(y):""),O=k(S,2),x=O[0],T=O[1],I=a.a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8.5 10.2C8.66811 10.2 8.83245 10.1501 8.97224 10.0567C9.11202 9.96335 9.22096 9.8306 9.2853 9.67528C9.34963 9.51996 9.36647 9.34906 9.33367 9.18417C9.30087 9.01929 9.21992 8.86783 9.10104 8.74896C8.98217 8.63008 8.83071 8.54913 8.66583 8.51633C8.50094 8.48353 8.33004 8.50037 8.17472 8.5647C8.0194 8.62904 7.88665 8.73798 7.79325 8.87777C7.69985 9.01755 7.65 9.18189 7.65 9.35C7.65 9.57543 7.73955 9.79163 7.89896 9.95104C8.05837 10.1104 8.27457 10.2 8.5 10.2ZM12.75 10.2C12.9181 10.2 13.0825 10.1501 13.2222 10.0567C13.362 9.96335 13.471 9.8306 13.5353 9.67528C13.5996 9.51996 13.6165 9.34906 13.5837 9.18417C13.5509 9.01929 13.4699 8.86783 13.351 8.74896C13.2322 8.63008 13.0807 8.54913 12.9158 8.51633C12.7509 8.48353 12.58 8.50037 12.4247 8.5647C12.2694 8.62904 12.1367 8.73798 12.0433 8.87777C11.9499 9.01755 11.9 9.18189 11.9 9.35C11.9 9.57543 11.9896 9.79163 12.149 9.95104C12.3084 10.1104 12.5246 10.2 12.75 10.2ZM8.5 13.6C8.66811 13.6 8.83245 13.5501 8.97224 13.4567C9.11202 13.3634 9.22096 13.2306 9.2853 13.0753C9.34963 12.92 9.36647 12.7491 9.33367 12.5842C9.30087 12.4193 9.21992 12.2678 9.10104 12.149C8.98217 12.0301 8.83071 11.9491 8.66583 11.9163C8.50094 11.8835 8.33004 11.9004 8.17472 11.9647C8.0194 12.029 7.88665 12.138 7.79325 12.2778C7.69985 12.4175 7.65 12.5819 7.65 12.75C7.65 12.9754 7.73955 13.1916 7.89896 13.351C8.05837 13.5104 8.27457 13.6 8.5 13.6ZM12.75 13.6C12.9181 13.6 13.0825 13.5501 13.2222 13.4567C13.362 13.3634 13.471 13.2306 13.5353 13.0753C13.5996 12.92 13.6165 12.7491 13.5837 12.5842C13.5509 12.4193 13.4699 12.2678 13.351 12.149C13.2322 12.0301 13.0807 11.9491 12.9158 11.9163C12.7509 11.8835 12.58 11.9004 12.4247 11.9647C12.2694 12.029 12.1367 12.138 12.0433 12.2778C11.9499 12.4175 11.9 12.5819 11.9 12.75C11.9 12.9754 11.9896 13.1916 12.149 13.351C12.3084 13.5104 12.5246 13.6 12.75 13.6ZM4.25 10.2C4.41811 10.2 4.58245 10.1501 4.72223 10.0567C4.86202 9.96335 4.97096 9.8306 5.0353 9.67528C5.09963 9.51996 5.11647 9.34906 5.08367 9.18417C5.05087 9.01929 4.96992 8.86783 4.85104 8.74896C4.73217 8.63008 4.58071 8.54913 4.41583 8.51633C4.25094 8.48353 4.08004 8.50037 3.92472 8.5647C3.7694 8.62904 3.63665 8.73798 3.54325 8.87777C3.44985 9.01755 3.4 9.18189 3.4 9.35C3.4 9.57543 3.48955 9.79163 3.64896 9.95104C3.80837 10.1104 4.02457 10.2 4.25 10.2ZM14.45 1.7H13.6V0.85C13.6 0.624566 13.5104 0.408365 13.351 0.248959C13.1916 0.0895533 12.9754 0 12.75 0C12.5246 0 12.3084 0.0895533 12.149 0.248959C11.9896 0.408365 11.9 0.624566 11.9 0.85V1.7H5.1V0.85C5.1 0.624566 5.01045 0.408365 4.85104 0.248959C4.69163 0.0895533 4.47543 0 4.25 0C4.02457 0 3.80837 0.0895533 3.64896 0.248959C3.48955 0.408365 3.4 0.624566 3.4 0.85V1.7H2.55C1.8737 1.7 1.2251 1.96866 0.746878 2.44688C0.26866 2.9251 0 3.5737 0 4.25V14.45C0 15.1263 0.26866 15.7749 0.746878 16.2531C1.2251 16.7313 1.8737 17 2.55 17H14.45C15.1263 17 15.7749 16.7313 16.2531 16.2531C16.7313 15.7749 17 15.1263 17 14.45V4.25C17 3.5737 16.7313 2.9251 16.2531 2.44688C15.7749 1.96866 15.1263 1.7 14.45 1.7ZM15.3 14.45C15.3 14.6754 15.2104 14.8916 15.051 15.051C14.8916 15.2104 14.6754 15.3 14.45 15.3H2.55C2.32457 15.3 2.10837 15.2104 1.94896 15.051C1.78955 14.8916 1.7 14.6754 1.7 14.45V6.8H15.3V14.45ZM15.3 5.1H1.7V4.25C1.7 4.02457 1.78955 3.80837 1.94896 3.64896C2.10837 3.48955 2.32457 3.4 2.55 3.4H14.45C14.6754 3.4 14.8916 3.48955 15.051 3.64896C15.2104 3.80837 15.3 4.02457 15.3 4.25V5.1ZM4.25 13.6C4.41811 13.6 4.58245 13.5501 4.72223 13.4567C4.86202 13.3634 4.97096 13.2306 5.0353 13.0753C5.09963 12.92 5.11647 12.7491 5.08367 12.5842C5.05087 12.4193 4.96992 12.2678 4.85104 12.149C4.73217 12.0301 4.58071 11.9491 4.41583 11.9163C4.25094 11.8835 4.08004 11.9004 3.92472 11.9647C3.7694 12.029 3.63665 12.138 3.54325 12.2778C3.44985 12.4175 3.4 12.5819 3.4 12.75C3.4 12.9754 3.48955 13.1916 3.64896 13.351C3.80837 13.5104 4.02457 13.6 4.25 13.6Z",fill:"#2F80ED"}));return a.a.createElement(m.a,{onClose:e.onClose,title:e.title,testId:"date-range-popup"},a.a.createElement("div",{className:p.a.dates},I,a.a.createElement("div",{className:p.a.dateRange},a.a.createElement("input",{size:10,value:E,onChange:function(e){C(e.target.value);var t=Object(u.a)(e.target.value,"dd.MM.yyyy",new Date);l(Object(c.a)(t)?t:void 0)}})," – ",a.a.createElement("input",{size:10,value:x,onChange:function(e){T(e.target.value);var t=Object(u.a)(e.target.value,"dd.MM.yyyy",new Date);_(Object(c.a)(t)?t:void 0)}}))),a.a.createElement("div",{className:p.a.calendars},a.a.createElement(i.a,{selectedDays:o,onDayClick:function(e){l(e),C(v(e))},localeUtils:s.a,locale:window.dnevnik.user.preferableLanguage,fromMonth:e.studyYearMonths.from,toMonth:e.studyYearMonths.to,initialMonth:o}),a.a.createElement(i.a,{selectedDays:y,onDayClick:function(e){_(e),T(v(e))},localeUtils:s.a,locale:window.dnevnik.user.preferableLanguage,fromMonth:e.studyYearMonths.from,toMonth:e.studyYearMonths.to,initialMonth:y})),a.a.createElement("div",{className:g.a.buttons},a.a.createElement(f.a,{onClick:e.onClose,className:g.a.whiteButton},e.cancelText),a.a.createElement(f.a,{onClick:function(){var t=o&&b(o),n=y&&b(y);if(!t||!n||t>n){var r=new Date,a=new Date(r.getFullYear(),r.getMonth(),1),i=new Date(r.getFullYear(),r.getMonth()+1,0);e.onConfirm(b(a),b(i))}else e.onConfirm(t,n);e.onClose()},className:g.a.blueButton},e.applyText)))}},587:function(e,t,n){e.exports={markVersionsContainer:"_2ILUn",isPending:"_1PuT2",markVersionTitle:"_1Fflt",markVersions:"_19JW5",markVersionComment:"okydO",emptyVersion:"_38LsZ",markVersionRow:"_-8Oc1"}},609:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(732),i=n.n(o);t.a=Object(r.memo)((function(e){var t=e.helpLink,n=e.cssClass,r=e.onClick;return a.a.createElement("a",{target:"_blank",href:t,onClick:r},a.a.createElement("div",{className:i.a[n]}))}))},610:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(15),i=n(463),l=n.n(i);t.a=Object(r.memo)((function(e){var t=e.message,n=e.style,r=Object(o.d)().l10n;return a.a.createElement("div",{className:l.a.container,style:n},a.a.createElement("div",{className:l.a.errorIcon}),a.a.createElement("div",{className:l.a.errorTitle},r.getString("error_title")),a.a.createElement("div",{className:l.a.errorText},t||r.getString("error_try-again")))}))},628:function(e,t,n){e.exports={container:"E1nCK",loader:"_3IscB",alter:"_1kiMW"}},629:function(e,t,n){e.exports={container:"_3ojSr",button:"vVAb0"}},630:function(e,t,n){e.exports={container:"_3_3c4",markValue:"_3VGCa",smallFont:"_1fUNj",good:"_1EGmc",notset:"qVlOD",bad:"n3Zi0",average:"_41kPC",blackAndWhiteMarks:"_31wq4"}},653:function(e,t,n){e.exports={container:"_3E-ze",checkbox:"_1Ebjq",disabled:"-bxK2",checked:"_1iPUJ",text:"_3HWOK",error:"_3IpQ4"}},654:function(e,t,n){e.exports={container:"_26voj",selected:"te0I9",disabled:"o7PmT",options:"_1c4VJ",placeholder:"ZqAeF"}},655:function(e,t,n){e.exports={summativeButtons:"_19efC",summativeButtonsActive:"_2uY2l",verticalLine:"_2AkSI",addWorkButton:"_16I0u",summativeFilter:"y_iic",summativeFilterActive:"_3NOKs"}},691:function(e,t,n){e.exports={container:"_2LAkT",fixedWidthLabel:"_3dUJJ",children:"_15NZK",error:"_2aMYY"}},692:function(e,t,n){e.exports={container:"_3fkO3",icon:"hb1t1",date:"_3p-Ac",disabled:"_18s8O",popover:"_1kxKc"}},693:function(e,t,n){e.exports={container:"_3pWpA",text:"_1WwcZ",selected:"RDzim",newThematicMark:"_3RAA5",plusButton:"_2WfVH"}},712:function(e,t,n){var r={"./video_lessons.ru-RU.ftl":713,"./video_lessons.uz-Latn-UZ.ftl":714};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=712},713:function(e,t){e.exports="label_teams_mettin_createmeeting = \r\n    {$schoolType -> \r\n        [Regular] Запланировать дистанционный урок\r\n        *[Other] Запланировать дистанционное занятие\r\n    }\r\n\r\nlabel_teams_metting_status = \r\n    {$schoolType ->\r\n        [Regular] Дистанционный урок.\r\n        *[Other] Дистанционное занятие.\r\n    }\r\n\r\nlabel_teams_metting_description = \r\n    {$schoolType ->\r\n        [Regular] Дистанционный урок.\r\n        *[Other] Дистанционное занятие.\r\n    }\r\n\r\nlabel_teams_metting_jointomeeting = Войти\r\n\r\nteams_create-mail-title = \r\n    {$schoolType ->\r\n        [Regular] Запланировать дистанционный урок\r\n        *[Other] Запланировать дистанционное занятие\r\n    }\r\n\t\r\nteams_create-mail-text = Для создания видеоурока нужен аккаунт MS Office365. Нажмите «Продолжить», чтобы создать аккаунт и получить ссылку на видеоурок.\r\nteams_create-mail-continue = Продолжить\r\nteams_create-mail-cancel = Отмена\r\n\r\nerror_title = Произошла ошибка\r\nerror_try-again = Возникла непредвиденная ошибка. Повторите попытку.\r\nerror_close = Закрыть\r\n\r\nsystems-popup_title = \r\n    {$schoolType ->\r\n        [Regular] Запланировать дистанционный урок\r\n        *[Other] Запланировать дистанционное занятие\r\n    }\r\n\r\nsystems-popup_instruction-title = \r\n    {$schoolType ->\r\n        [Regular] Нажмите на название сервиса, чтобы запланировать дистанционный урок:\r\n        *[Other] Нажмите на название сервиса, чтобы запланировать дистанционное занятие:\r\n    }\r\nsystems-popup_instruction-1 = \r\n    {$schoolType ->\r\n        [Regular] Для урока будет создана онлайн-конференция.\r\n        *[Other] Для занятия будет создана онлайн-конференция.\r\n    } \r\nsystems-popup_instruction-2 =\r\n    {$schoolType ->\r\n        [Regular] Ссылка на онлайн-конференцию сохранится в описании урока и будет видна Вам и ученикам класса.\r\n        *[Other] Ссылка на онлайн-конференцию сохранится в описании занятия и будет видна Вам и учащимся группы.\r\n    }\r\nsystems-popup_instruction-3 =\r\n    {$schoolType ->\r\n        [Regular] В день проведения урока перейдите по ссылке, чтобы начать обучение.\r\n        *[Other] В день проведения занятия перейдите по ссылке, чтобы начать обучение.\r\n    }\r\n"},714:function(e,t){e.exports="label_teams_mettin_createmeeting = \r\n    {$schoolType -> \r\n        [Regular] Masofaviy dars rejalashtirish\r\n        *[Other] Masofaviy mashg'ulot rejalashtirish\r\n    }\r\n\r\nlabel_teams_metting_status = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars.\r\n        *[Other] Masofaviy mashg'ulot.\r\n    }\r\n\r\nlabel_teams_metting_description = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars.\r\n        *[Other] Masofaviy mashg'ulot.\r\n    }\r\n\r\nlabel_teams_metting_jointomeeting = Kirish\r\n\r\nteams_create-mail-title = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars rejalashtirish\r\n        *[Other] Masofaviy mashg'ulot rejalashtirish\r\n    }\r\n\t\r\nteams_create-mail-text = Video darslik yaratish uchun sizga MS Office 365 tizimida hisob qaydnomasi kerak. Hisob yaratish va video darsga havolani olish uchun \"Davom etish\" tugmasini bosing.\r\nteams_create-mail-continue = Davom etish\r\nteams_create-mail-cancel = Bekor qilish\r\n\r\nerror_title = Xatolik yuz berdi\r\nerror_try-again = Kutilmagan xato yuz berdi. Qayta urinib ko'ring.\r\nerror_close = Yopish\r\n\r\nsystems-popup_title = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars rejalashtirish\r\n        *[Other] Masofaviy mashg'ulot rejalashtirish\r\n    }\r\n\r\nsystems-popup_instruction-title = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy darsni rejalashtirish uchun xizmat nomini bosing:\r\n        *[Other] Masofaviy mashg'ulotni rejalashtirish uchun xizmat nomini bosing:\r\n    }\r\nsystems-popup_instruction-1 = \r\n    {$schoolType ->\r\n        [Regular] Dars uchun onlayn konferentsiya tashkil etiladi.\r\n        *[Other] Mashg'ilot uchun onlayn konferentsiya tashkil etiladi.\r\n    } \r\nsystems-popup_instruction-2 =\r\n    {$schoolType ->\r\n        [Regular] Onlayn konferentsiya havolasi dars tavsifida saqlanadi va sizga va sinf o'quvchilariga ko'rinadi.\r\n        *[Other] Onlayn konferentsiya havolasi mashg'ulot tavsifida saqlanadi, sizga va guruh o'quvchilariga ko'rinadi.\r\n    }\r\nsystems-popup_instruction-3 =\r\n    {$schoolType ->\r\n        [Regular] Dars o'tkaziladigan kunda o'qishni boshlash uchun havola orqali o'ting.\r\n        *[Other] Dars o'tkaziladigan kunda o'qishni boshlash uchun havola orqali o'ting.\r\n    }\r\n"},732:function(e,t,n){e.exports={help:"_1Hf91",help_18:"_3VfdM _1Hf91",help_22:"_3jQBB _1Hf91"}},733:function(e,t,n){e.exports={text:"_296Lw"}},734:function(e,t,n){e.exports={blueButton:"_19vf6"}},736:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(15),i=(n(731),n(155)),l=n(609),s=n(528),u=n.n(s),c=n(129),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleSystemClick=function(){var e=r.props,t=(e.lessonId,e.system),n=(e.closePopup,e.onSystemItemClick);Object(c.a)("clickplanpopup",t.page,t.name),"Zoom"!==t.name&&"Sferum"!==t.name&&"MsTeams"!==t.name||n(t)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"render",value:function(){var e=this.props.system;return a.a.createElement("div",{className:u.a.button},a.a.createElement("div",{className:u.a[e.name.toLowerCase()],onClick:this.handleSystemClick}),a.a.createElement("div",{className:u.a.help_container},a.a.createElement(l.a,{helpLink:e.helpLink,cssClass:"help_22",onClick:function(){return Object(c.a)("clickhintpopup",e.page,e.name)}})))}}]),t}(r.Component),h=n(462),g=n.n(h);function v(e){var t=Object(o.d)().l10n,n=e.onClose,r=e.schoolType;return a.a.createElement(i.a,{title:t.getString("systems-popup_title",{schoolType:r}),onClose:n},a.a.createElement("div",{className:g.a.container},a.a.createElement("div",{className:g.a.instruction},a.a.createElement("div",null,t.getString("systems-popup_instruction-title",{schoolType:r})),a.a.createElement("ul",{className:g.a.list},a.a.createElement("li",null,t.getString("systems-popup_instruction-1",{schoolType:r})),a.a.createElement("li",null,t.getString("systems-popup_instruction-2",{schoolType:r})),a.a.createElement("li",null,t.getString("systems-popup_instruction-3",{schoolType:r})))),a.a.createElement("div",{className:g.a.buttons},function(){var t=e.systems,n=e.lessonId,r=e.onClose,o=e.onSystemItemClick,i=[];return null==t?"":(t.forEach((function(e,t){i.push(a.a.createElement(f,{system:e,lessonId:n,onSystemItemClick:o,closePopup:r,key:t}))})),i)}())))}var b=n(733),k=n.n(b),y=n(337),_=n(221),w=n.n(_),j=n(14),E=n(9),C=n(410);function S(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(l)}("next")}))}}var O=new E.a(window.__VIDEO_LESSONS_INITIAL_STATE__&&window.__VIDEO_LESSONS_INITIAL_STATE__.apiUrl,"include",{simple:!0}),x=window.__VIDEO_LESSONS_INITIAL_STATE__&&window.__VIDEO_LESSONS_INITIAL_STATE__.apiToken,T=new(function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,O));return r.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},r.getUploadStatus=function(e){return r.get("/gettaskstatus",{tid:e})},r.startPolling=(n=S(regeneratorRuntime.mark((function t(n,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r.getUploadStatus(n);case 3:if((o=e.sent).taskStatus!==C.a.TASK_STATUS_COMPLETED){e.next=8;break}return e.abrupt("return",a(n));case 8:if(o.taskStatus!==C.a.TASK_STATUS_ERROR&&o.taskStatus!==C.a.TASK_STATUS_EXPIRED){e.next=10;break}return e.abrupt("return",{error:o.error});case 10:return e.next=12,r.sleep(1e3);case 12:e.next=0;break;case 14:case"end":return e.stop()}}),t,e)}))),function(e,t){return n.apply(this,arguments)}),r.getMailboxNamesResult=function(e){return r.get("/user/mailbox",{a:"getmailboxnamesresult",tid:e,mbn:"",pswd:""})},r.getMailboxNames=S(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/user/mailbox",{a:"buildmailboxnames"});case 2:return n=e.sent,e.next=5,r.startPolling(n.taskID,r.getMailboxNamesResult);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),t,e)}))),r.getCreateMailboxResult=function(e){return r.get("/user/mailbox",{a:"getcreatemailboxresult",tid:e,xss:x})},r.createMailbox=S(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMailboxNames();case 2:if((n=e.sent).mailboxes||0!==n.mailboxes.length){e.next=5;break}return e.abrupt("return",{error:"error"});case 5:return e.next=7,r.get("/user/mailbox",{a:"createmailbox",mbn:n.mailboxes[0],pswd:"",xss:x});case 7:return a=e.sent,e.next=10,r.startPolling(a.taskID,r.getCreateMailboxResult);case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),t,e)}))),r.createZoomMeeting=function(e){return r.get("/zoom/meeting/create",e)},r.createSferumMeeting=function(e){return r.post("/sferum/meeting/create?lessonId="+e,{})},r.createTeamsMeeting=function(e){return r.post("/teams/create?lessonId="+e,{})},r.getCreateTeamsMeetingResult=function(e){return r.get("/teams/getcreated",{tid:e})},r.getCreatedMeetingUrl=function(e){return r.startPolling(e,r.getCreateTeamsMeetingResult)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(j.a)),I=n(115),N=n(322);var P=function(e){var t=e.onClose,n=e.onSuccess,l=e.schoolType,s=Object(o.d)().l10n,u=Object(I.a)(T.createMailbox,!1,t,n),c=u.execute,d=u.isPending;return a.a.createElement(i.a,{title:s.getString("teams_create-mail-title",{schoolType:l}),onClose:t},d?a.a.createElement(N.a,null):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:k.a.text},s.getString("teams_create-mail-text")),a.a.createElement("div",{className:w.a.buttons},a.a.createElement(y.a,{onClick:t,className:w.a.whiteButton},s.getString("teams_create-mail-cancel")),a.a.createElement(y.a,{onClick:function(){c()},className:w.a.blueButton},s.getString("teams_create-mail-continue")))))},A=n(610),D=n(734),L=n.n(D);var M=Object(r.memo)((function(e){var t=e.onClose,n=e.message,r=Object(o.d)().l10n;return a.a.createElement(i.a,{onClose:t},a.a.createElement(A.a,{message:n}),a.a.createElement("button",{className:L.a.blueButton,onClick:t},r.getString("error_close")))})),R=n(629),H=n.n(R),B={RESULT_STATUS_COMPLETED:0,RESULT_STATUS_AUTH_REQUIRED:1,RESULT_STATUS_ERROR:2},W=n(445),U=n(35),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),F(t,[{key:"componentDidMount",value:function(){document.getElementById(this.props.containerId).appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.getElementById(this.props.containerId).removeChild(this.el)}},{key:"render",value:function(){return Object(U.createPortal)(this.props.children,this.el)}}]),t}(a.a.Component),q=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Y=void 0,z=void 0,$=Object(W.a)().systems,Z=function(e){Y&&!Y.closed||(!(Y=window.open("","oauthWindow","width=500,height=500"))||Y.closed?Object(c.a)("popupblocked",e.page,e.name):Y.document.body.innerHTML='<div style="font-size:18px;padding:80px;text-align:center;font-family:Open Sans">'+e.popupText+'</div ><div style="display: flex;"><img style="margin: auto;" src="'+e.loaderUrl+'" alt="loader" /></div>')},J=function(){Y&&(Y.close(),Y=null)};t.a=function(e){var t,n,i=this,l=Object(o.d)().l10n,s=e.currentLesson,u=e.onCreate,d=e.children,p=e.schoolType,m=e.popupsContainerId,f=Object(r.useState)(null),h=q(f,2),g=h[0],b=h[1],k=Object(r.useState)(!1),y=q(k,2),_=y[0],w=y[1],j=Object(r.useState)(!1),E=q(j,2),C=E[0],S=E[1],O=function(e,t){u(t),Object(c.a)("getlink",e.page,e.name)},x=function(e,t,n){b(t||l.getString("error_try-again")),J(),Object(c.a)("addmeetingerror",e.page,e.name),n&&Object(c.a)(n,e.page,e.name)},I=function e(t,n,r){var a="MsTeams"===t.name;r||Z(t),(a?T.createTeamsMeeting:T.createSferumMeeting)(n).then((function(a){if(a.authUrl){if(r)return Object(c.a)("autherror",t.page,t.name),void x(t);Y.location.href=a.authUrl;var o=window.setInterval((function(){Y&&!Y.closed||window.clearInterval(o),Y&&Y.closed&&e(t,n,!0)}),1e3)}else a.joinWebUrl?(J(),O(t,a.joinWebUrl)):a.taskId?(J(),T.getCreatedMeetingUrl(a.taskId).then((function(e){return O(t,e.joinWebUrl)}))):x(t,a.error,a.errorType)}),(function(){return x(t)}))},N=(t=regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.lessonId,o=n.topic,T.createZoomMeeting({lessonId:a,topic:o}).then((function(e){return t.hasAuthorizeToken||e.status!==B.RESULT_STATUS_AUTH_REQUIRED||A(e.authUrl),e.status==B.RESULT_STATUS_COMPLETED?(z&&(z.close(),z=null),O(t,e.meetingUrl),e):e.status==B.RESULT_STATUS_ERROR||null==z||!0===z.closed?(x(t),!1):void T.sleep(500).then((function(){N(t,n,r)}))}));case 2:case"end":return e.stop()}}),e,i)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(l)}("next")}))},function(e,t,r){return n.apply(this,arguments)}),A=function(e){if(e&&e&&(!z||z&&!0===z.closed)){var t=window.open("","oauthWindow","width=500,height=500");t&&(t.location.href=e,z=t)}},D=function(e){"Zoom"===e.name?N(e,s,!1):"Sferum"===e.name?function(e){I(e,s.lessonId)}(e):"MsTeams"===e.name&&function(e){e.hasMailBox?I(e,s.lessonId):(Object(c.a)("addmail",e.page,e.name),Z(e),w(!0)),Object(c.a)("clickplan",e.page,e&&e.name)}(e)},L=a.a.createElement(r.Fragment,null,C&&a.a.createElement(v,{systems:$,lessonId:s.lessonId,onSystemItemClick:D,onClose:function(){return S(!1)},schoolType:p}),g&&a.a.createElement(M,{onClose:function(){return b(null)},message:g}),_&&a.a.createElement(P,{onClose:function(){w(!1);var e=$&&$.length?$[0].page:"notset";Object(c.a)("closemail",e)},onSuccess:function(e){var t=$.find((function(e){return"MsTeams"===e.name}));w(!1),e&&e.error?x(t):I(t,s.lessonId)},schoolType:p}));return a.a.createElement("div",{className:H.a.container,"data-planned":"false"},m?a.a.createElement(V,{containerId:m},L):L,a.a.createElement("div",{className:H.a.button,"data-planned":"false",onClick:function(){var e=$&&$.length?$[0].page:"notset",t=$&&1===$.length?$[0]:null;if(Object(c.a)("clickplan",e,t&&t.name),!t)return S(!0),void Object(c.a)("viewplanpopup",e);D(t)}},d))}},761:function(e,t,n){e.exports={container:"_1Fzul",input:"_2BDI_",textarea:"_2PYRz",multiline:"_2e78v"}},762:function(e,t,n){e.exports={container:"_2hw2m",description:"_1opy2",maxMark:"_23edT",buttons:"_4US1D"}},763:function(e,t,n){e.exports={container:"_1X9ap",range:"UV-oJ",deleteText:"_2tMoP"}},809:function(e,t,n){e.exports={customScroll:"_1sHPm"}},838:function(e,t,n){e.exports={markHint:"_30VUv",markHintDay:"_3Sq6S",tooltip:"uQyBr"}},839:function(e,t,n){e.exports={container:"_3k-LN",description:"_2pNHg",deleteText:"_2ykkE"}},840:function(e,t,n){e.exports={content:"_36dkW",addTheme:"XX0VY",disabledAdd:"_2hu2a"}},841:function(e,t,n){e.exports={container:"T7Ghp",title:"_2x8KY",links:"_3QI7M"}},842:function(e,t,n){e.exports={container:"_3aPp6",tab:"_2cQk_",selected:"_317m9"}},843:function(e,t,n){e.exports={container:"ZldQU",text:"_3w5Sb",selected:"_2Ehnm",disabled:"_2qfXR"}},85:function(e,t,n){window._babelPolyfill||n(187)},86:function(e,t,n){"use strict";n.r(t);var r={NpoSpo:"npo",Odo:"odo",Dod:"dod"};window.__=function(e){var t=window.dnevnik&&window.dnevnik.localizationSchoolType;if(t){var n=void 0;switch(t){case r.Dod:if(n=window.localization[r.Dod+"_"+e])return n;case r.Odo:if(n=window.localization[r.Odo+"_"+e])return n;case r.NpoSpo:if(n=window.localization[r.NpoSpo+"_"+e])return n}}var a=window.localization[e];return""===a||a?a:e}},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(39),a=n(13),o=n(53),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(l)}("next")}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"same-origin",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simple:!1};s(this,e),this.get=function(t,r){return e.call(n.request.get,""+n.apiUrl+t,r)},this.post=function(t,r){return e.call(n.request.post,""+n.apiUrl+t,r)},this.apiUrl=t,this.request=new r.a(a,o),this.reloginRequest=new r.a(a,{simple:!0})}var t,n;return i(e,null,[{key:"relogin",value:(n=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.dnevnik&&window.dnevnik.auth&&window.dnevnik.auth.update&&window.dnevnik.auth.update(t)}catch(e){}case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"call",value:(t=l(regeneratorRuntime.mark((function t(n,r,o){var i,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.call(null,r,o);case 2:if(i=t.sent,t.prev=3,401!==i.status){t.next=10;break}return t.next=7,Promise.race([new Promise((function(t,n){return e.relogin(t)})),new Promise((function(e,t){return setTimeout(t,2e3)}))]).then((function(){return n.call(null,r,o)}),(function(){return i}));case 7:if(401!==(i=t.sent).status){t.next=10;break}throw new a.a({message:"Unauthorized",errorCode:i.statusText},401);case 10:if(204!==i.status){t.next=12;break}return t.abrupt("return",null);case 12:return t.next=14,i.json();case 14:if(!(l=t.sent).responseStatus){t.next=17;break}throw new a.c(l.responseStatus,i.status);case 17:if(!(i.status<200||i.status>=300)){t.next=19;break}throw new a.a(l,i.status);case 19:return t.abrupt("return",l);case 22:if(t.prev=22,t.t0=t.catch(3),!(t.t0 instanceof SyntaxError)){t.next=26;break}throw new a.a({message:"Parsing response error",errorCode:"SyntaxError"},i.status);case 26:if(!(t.t0 instanceof TypeError)){t.next=28;break}throw new a.a({message:"Network error",errorCode:"TypeError"},i.status);case 28:throw t.t0;case 29:case"end":return t.stop()}}),t,this,[[3,22]])}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),c=new u(o.a.apiUrl)},937:function(e,t,n){e.exports={editor:"_3eqwH",invalid:"_1Sfy7"}},938:function(e,t,n){e.exports={tooltip:"_1RnGK",darkVersion:"_3cutp"}},939:function(e,t,n){e.exports={container:"_1dU1Y",link:"_1z1GC"}},940:function(e,t,n){e.exports={container:"_19SG1",text:"_3_xl1"}}});
//# sourceMappingURL=journal.js.map