!function(e){function t(t){for(var r,i,c=t[0],l=t[1],s=t[2],p=0,d=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={29:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/client/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([1349,0]),n()}({10:function(e,t,n){e.exports={container:"_3oJKr",container_short:"_1q_7-",hidden:"U3aNb",deleted:"KZEmC",slide:"su8At",post:"_38f-L",post_with_duplicates:"_2IlIW",header:"wTRVW",unviwed_mark:"_29z4G",avatarContainer:"_19sxX",avatar:"_2uMOO",avatarSmall:"j5E2E",info:"_2ph8D",name:"RckLr",buttons_block:"_2pqpn",content:"_38_1H",content_short:"_14hPp",partial_view:"_17zqu",read_text:"_2w83Z",read_text_button:"BFDhP",expand_button:"_91ePv",read_full_button:"_1uU83",editor_wrapper:"ppezy",attachments:"_2jaLU",counters:"_6OpGI",footer:"_27Lno",emoji:"_31Tza",viewsCount:"_3SIHc",commentsContainer:"_1wkI_",commentsCount:"E3WVF",commentsCountText:"_3Hts1",viewsCountContainer:"_2Q-Lb",share:"_3AVrA",createInfo:"O3tx0",comments_title:"_3SCMT",comments:"_1sldG"}},100:function(e,t,n){"use strict";t.a={notSet:0,restricted:1,disabled:2}},101:function(e,t,n){e.exports={container:"zZeXV",reply_name:"_1hojB",name:"_2VW4L",comment_text:"_2nrtc",delete:"_1miYk",restore:"_3aRVd"}},102:function(e,t,n){e.exports={container:"_2OiP4",topward:"_18vHf",bottomward:"DgZuu",info:"_3YfDg",input:"-buVm",clean:"bRYID"}},103:function(e,t,n){e.exports={container:"_2WP6A",standalone:"_27Nyv",restricted:"CE2lb",join:"mpbLg",short:"_2DmSH",reversed:"_2idMx"}},104:function(e,t,n){e.exports={tooltip:"_1U1pO",inverted:"_2AXBa",verticalInverted:"HAT0-",hide:"_3RVhX",zIndex:"RNhmg"}},105:function(e,t,n){"use strict";function r(e,t){var n=document.createEvent("Event");n.initEvent("talkWidget_openChat",!0,!0),n.jid=e,n.source=t,document.dispatchEvent(n)}function a(){var e=document.createEvent("Event");e.initEvent("talkWidget_hide",!0,!0),document.dispatchEvent(e)}function o(){var e=document.createEvent("Event");e.initEvent("talkWidget_init",!0,!0),document.dispatchEvent(e)}function i(e){var t=document.createEvent("Event");t.initEvent("talkWidget_sharing",!0,!0),t.text=e,document.dispatchEvent(t)}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i}))},107:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(231),l=n(197),s=n.n(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r,a=this;d(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={expanded:!1},r.handleMouseEnter=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.state.expanded||r.setState({expanded:!0}),r.hideTimer&&clearTimeout(r.hideTimer);case 3:case"end":return e.stop()}}),e,a)}))),r.handleMouseLeave=function(){r.hideTimer=setTimeout((function(){return r.setState({expanded:!1})}),300)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidUpdate",value:function(e,t){t.expanded&&!this.state.expanded&&clearTimeout(this.hideTimer)}},{key:"render",value:function(){var e=this,t=this.state.expanded,n=this.props,r=n.content,o=n.onClick,i=n.style;return a.a.createElement("div",{ref:function(t){e.container=t},className:s.a.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:i},a.a.createElement(c.a,null),t&&a.a.createElement("div",{className:s.a.popover},r.map((function(e,t){return a.a.createElement("div",{key:t},a.a.createElement("a",{href:e.href,onClick:o,target:"_blank",dangerouslySetInnerHTML:{__html:e.link}}),e.text&&a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.text}}))}))))}}]),t}(r.Component);f.propTypes={content:i.a.array.isRequired,style:i.a.object.isRequired},t.a=f},108:function(e,t,n){e.exports={container:"_3oWgq",resultContainer:"_19pez",redesignedContainer:"uxOwW",redesignedResultContainer:"_2fSxX",selected:"_21Gx4"}},109:function(e,t,n){e.exports={container:"_3bTU8",redesignedContainer:"_12m61",empty:"_27c1r"}},110:function(e,t,n){e.exports={container:"_3QKyD",radio:"_3BjNp",subRadio:"_2rPFQ",text:"_3s5Uc"}},111:function(e,t,n){e.exports={container:"_1MKPg",radio:"B0fvm",radioActive:"_1d-UZ",radioDisabled:"_1lDc7",subRadio:"_2X3NK",text:"_21Gaq"}},112:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(5),l=n(16),s=n(22),u=n.n(s),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleKeyDown=function(e){r.props.disableClose||e.keyCode!==l.a.ESC||r.props.onClose()},r.handleClick=function(e){r.props.disableClose||r.popup.contains(e.target)||r.props.onClose()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"componentDidMount",value:function(){this.props.disableKeyDown||Object(c.b)({keydown:this.handleKeyDown})}},{key:"componentWillUnmount",value:function(){Object(c.e)({keydown:this.handleKeyDown})}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.onClose,o=t.children,i=t.disableClose,c=t.style,l=t.isAdaptive,s=t.hideCloseButton,p=t.restrictWidth,d=n?u.a.header:u.a.header_empty;return a.a.createElement("div",{className:u.a.overlay},a.a.createElement("div",{className:u.a.overlay_content,onClick:this.handleClick},a.a.createElement("div",{className:[u.a.container,l?u.a.adaptive_container:"",p?u.a.container_restricted_width:""].join(" "),ref:function(t){e.popup=t},style:c,"data-test-id":this.props.testId},a.a.createElement("div",{className:d},a.a.createElement("div",{className:u.a.title},n),s?null:a.a.createElement("div",{className:u.a.close,onClick:i?void 0:r,"data-test-id":this.props.closeTestId})),a.a.createElement("div",{className:u.a.content},o))))}}]),t}(r.Component);f.propTypes={title:i.a.string,onClose:i.a.func,disableClose:i.a.bool,isAdaptive:i.a.bool,hideCloseButton:i.a.bool,restrictWidth:i.a.bool},f.defaultProps={title:"",onClose:function(){return null},disableClose:!1,isAdaptive:!1,hideCloseButton:!1,restrictWidth:!1},t.a=f},113:function(e,t,n){e.exports={container:"_3a7As",selector:"MG6kc",item:"_3rzK6",tooltip:"_2zJP-",selected:"_2djFx"}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(8),i=n(25),c=n(98),l=n.n(c);function s(e){var t=e.onClose,n=e.error,r=e.title,c=e.text,s=n.httpStatus,u=void 0,p=void 0,d=void 0;return 403===s?(u="lock",p=__("label.post.error.title2"),d=__("label.post.error.text2")):404===s?(u="search",p=__("label.post.error.title5"),d=__("label.post.error.text6")):(u="docx",p=__("label.post.error.title4"),d=__("label.post.error.text5")),a.a.createElement(i.a,{title:r||p,icon:u,onClose:t},a.a.createElement("div",{className:l.a.text},a.a.createElement("div",null,c||d)),a.a.createElement("div",{className:l.a.buttons},a.a.createElement(o.a,{appearance:"secondary",onClick:t},a.a.createElement("div",null,__("label.post.button.exit")))))}},118:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(24),u=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20"},a.a.createElement("path",{fillRule:"evenodd",d:"M198.000698,1041.78125 C198.000698,1042.3125 197.719451,1042.57812 197.156948,1042.57812 C196.938197,1042.57812 196.750699,1042.5 196.594448,1042.34375 C196.438198,1042.1875 196.360073,1042 196.360073,1041.78125 C196.360073,1041.5625 196.438198,1041.375 196.594448,1041.21875 C196.750699,1041.0625 196.938197,1040.98438 197.156948,1040.98438 C197.375699,1040.98438 197.57101,1041.0625 197.742886,1041.21875 C197.914762,1041.375 198.000698,1041.5625 198.000698,1041.78125 Z M197.156948,1027.39062 C199.813212,1027.39062 202.078814,1028.32812 203.953823,1030.20312 C205.828833,1032.07813 206.766323,1034.34374 206.766323,1037 C206.766323,1039.65626 205.828833,1041.92187 203.953823,1043.79688 C202.078814,1045.67188 199.813212,1046.60938 197.156948,1046.60938 C194.531935,1046.60938 192.281958,1045.67188 190.406948,1043.79688 C188.531939,1041.92187 187.594448,1039.65626 187.594448,1037 C187.594448,1034.34374 188.531939,1032.07813 190.406948,1030.20312 C192.281958,1028.32812 194.531935,1027.39062 197.156948,1027.39062 Z M197.156948,1045.8125 C199.594461,1045.8125 201.672565,1044.95313 203.391323,1043.23438 C205.110082,1041.51562 205.969448,1039.43751 205.969448,1037 C205.969448,1034.56249 205.110082,1032.48438 203.391323,1030.76562 C201.672565,1029.04687 199.594461,1028.1875 197.156948,1028.1875 C194.750686,1028.1875 192.688207,1029.04687 190.969448,1030.76562 C189.25069,1032.48438 188.391323,1034.56249 188.391323,1037 C188.391323,1039.43751 189.25069,1041.51562 190.969448,1043.23438 C192.688207,1044.95313 194.750686,1045.8125 197.156948,1045.8125 Z M197.156948,1032.21875 C197.938202,1032.21875 198.602258,1032.48437 199.149136,1033.01562 C199.696014,1033.54688 199.969448,1034.20312 199.969448,1034.98438 C199.969448,1035.67188 199.742888,1036.28125 199.289761,1036.8125 C198.836634,1037.34375 198.266327,1037.65625 197.578823,1037.75 L197.578823,1039.8125 C197.578823,1040.0625 197.4382,1040.1875 197.156948,1040.1875 C196.906947,1040.1875 196.781948,1040.0625 196.781948,1039.8125 L196.781948,1037.42188 C196.781948,1037.14062 196.906947,1037 197.156948,1037 C197.719451,1037 198.196009,1036.80469 198.586636,1036.41406 C198.977263,1036.02344 199.172573,1035.54688 199.172573,1034.98438 C199.172573,1034.45312 198.977263,1033.99219 198.586636,1033.60156 C198.196009,1033.21094 197.719451,1033.01562 197.156948,1033.01562 C196.625696,1033.01562 196.164763,1033.21094 195.774136,1033.60156 C195.383509,1033.99219 195.188198,1034.45312 195.188198,1034.98438 C195.188198,1035.26563 195.047575,1035.40625 194.766323,1035.40625 C194.516322,1035.40625 194.391323,1035.26563 194.391323,1034.98438 C194.391323,1034.20312 194.664758,1033.54688 195.211636,1033.01562 C195.758514,1032.48437 196.406945,1032.21875 197.156948,1032.21875 Z",transform:"translate(-187 -1027)"}))},p=[".jpg",".jpeg",".gif",".png",".mp3",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".txt",".rtf",".pdf",".odt",".odf",".odp",".ods",".odg",".zip",".rar",".tar",".gz",".bz2",".epub",".mobi",".fb2"],d="none",m="fileTooLarge",f="badExtension";function h(e,t){var n=e.name.lastIndexOf(".");if(n<0)return f;if(e.size>20971520)return m;var r=e.name.substring(n,e.name.length);return(t||p).includes(r.toLowerCase())?d:f}var v=n(46),b=n(44),g=n.n(b),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function w(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}var _=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,a,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleAddFile=(r=E(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.state.isFetching){e.next=2;break}return e.abrupt("return");case 2:return o.props.onAddFile&&o.props.onAddFile(),r={taskId:null,state:"InProgress",isFailed:!1},e.next=6,o.setStateAsync({isFetching:!0});case 6:return e.next=8,v.a.uploadFile(o.props.attachmentsContainerId,t);case 8:"InProgress"!==(a=e.sent).uploadTask.state&&"Completed"!==a.uploadTask.state||!a.uploadTask?(r.isFailed=!0,o.props.onError(o.props.onError(__("label.editor.attach.error1"),"fileUploadFailed"))):r.taskId=a.uploadTask.id,o.setState({uploadTasks:[].concat(w(o.state.uploadTasks),[r])});case 11:case"end":return e.stop()}}),e,n)}))),function(e){return r.apply(this,arguments)}),o.handleGetContainer=(a=E(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getContainer(t);case 2:r=e.sent,a={container:r.container,attachmentsContainerId:t},o.setState((function(e,t){return{containers:[].concat(w(e.containers.filter((function(e){return e.attachmentsContainerId!==a.attachmentsContainerId}))),[a])}}));case 5:case"end":return e.stop()}}),e,n)}))),function(e){return a.apply(this,arguments)}),o.checkUploadFilesJob=E(regeneratorRuntime.mark((function e(){var t,r,a,i,c,l,s,u,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.state.uploadTasks.filter((function(e){return"InProgress"===e.state&&!1===e.isFailed})),r=o.state.uploadTasks.filter((function(e){return e.isFailed})),0===o.state.uploadTasks.length||r.length!==o.state.uploadTasks.length||o.state.selectedFilesCount!==o.state.uploadTasks.length){e.next=6;break}return o.resetUploadState(),o.props.onError(__("label.editor.attach.error1"),"fileUploadFailed"),e.abrupt("return");case 6:if(!(0===t.length&&o.state.uploadTasks.length>0&&o.state.selectedFilesCount===o.state.uploadTasks.length)){e.next=10;break}return o.props.onSuccess(o.state.containers),o.resetUploadState(),e.abrupt("return");case 10:a=!0,i=!1,c=void 0,e.prev=13,l=t[Symbol.iterator]();case 15:if(a=(s=l.next()).done){e.next=30;break}return u=s.value,e.next=19,v.a.checkUploadState(u.taskId);case 19:if("Completed"!==(p=e.sent).uploadTask.state){e.next=25;break}return e.next=23,o.handleGetContainer(p.uploadTask.containerId);case 23:e.next=26;break;case 25:"Failed"===p.uploadTask.state&&(o.props.onError(__("label.editor.attach.error1"),"fileUploadFailed"),u.isFailed=!0);case 26:u.state=p.uploadTask.state;case 27:a=!0,e.next=15;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(13),i=!0,c=e.t0;case 36:e.prev=36,e.prev=37,!a&&l.return&&l.return();case 39:if(e.prev=39,!i){e.next=42;break}throw c;case 42:return e.finish(39);case 43:return e.finish(36);case 44:case"end":return e.stop()}}),e,n,[[13,32,36,44],[37,,39,43]])}))),o.resetUploadState=function(){clearTimeout(o.pollTimer),o.resetLoader(),o.setState({uploadTasks:[],containers:[],selectedFilesCount:0})},o.selectValidFiles=function(e){if(0===e.length)return[];for(var t=[],n=null,r=0;r<e.length;r++){var a=e[r],i=h(a,o.props.customSupportFormats);switch(i){case f:n={message:__("label.editor.attach.error2"),reason:i};break;case m:n={message:__("label.editor.attach.error4").replace("{$maxFileSize}",""+parseInt(o.props.maxFileSize,10)/1048576),reason:i};break;default:t=[].concat(w(t),[a])}}return 0===t.length&&(o.resetLoader(),o.props.onError(n.message,n.reason)),n&&o.props.onError(n.message,n.reason),t},o.handleChange=function(e){var t=e.target.files,n=o.props.availableFilesCountToUpload,r=o.selectValidFiles(t);if(0!==r.length)if(r.length>n)o.props.maxFileError(!0);else{o.setState({selectedFilesCount:r.length});for(var a=function(){o.resetLoader(),o.props.onError(__("label.editor.attach.error3"),"fileUploadFailed")},i=0,c=0;c<r.length;c++){if(i>=n)return;var l=r[c];o.handleAddFile(l).catch(a),i++}o.pollTimer=setInterval((function(){return o.checkUploadFilesJob()}),1e3)}},o.handleClearTimeout=function(){clearTimeout(o.loaderTimer),o.loaderTimer=null},o.resetLoader=function(){o.loaderTimer&&o.handleClearTimeout(),o.input&&(o.input.value=""),o.setState({showSpinner:!1,isFetching:!1})},o.state={showSpinner:!1,pollTimers:new Map,containers:[],uploadTasks:[],selectedFilesCount:0},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){e.attachmentsContainerId!==this.props.attachmentsContainerId&&this.resetLoader()}},{key:"componentDidUpdate",value:function(e,t){var n=this;!e.isFetching&&this.props.isFetching||!t.isFetching&&this.state.isFetching?this.loaderTimer=setTimeout((function(){return n.setState({showSpinner:!0})}),500):(e.isFetching&&!this.props.isFetching||t.isFetching&&!this.state.isFetching)&&this.resetLoader()}},{key:"componentWillUnmount",value:function(){this.handleClearTimeout()}},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"render",value:function(){var e,t,n,r=this,o=this.props,i=o.isFetching,c=o.disabled,d=o.maxUploadFileSizeMessage,m=o.isCustomFileSize,f=o.shrinkToolbar,h=o.onClick,v=o.customSupportFormats,b=o.mobileFeed,y=o.testId,w=o.multipleFiles;return a.a.createElement("div",{className:g.a.container},a.a.createElement("div",{className:this.state.showSpinner?g.a.hidden:void 0,"data-test-id":y},a.a.createElement("label",{className:c?g.a.disabled:g.a.active},a.a.createElement("input",{"data-test-id":"file-input",ref:function(e){r.input=e},className:g.a.hidden,type:"file",onClick:h,onChange:this.handleChange,accept:(v||p).join(", "),disabled:c||i,multiple:w}),this.props.children)),this.state.showSpinner&&a.a.createElement("div",{className:g.a.spinner},a.a.createElement(s.a,{white:this.props.whiteSpinner,testId:"custom-chat-avatar-loader"})),m&&a.a.createElement("div",{className:l()(g.a.message_container,(e={},t=g.a.adaptive_message,n=f,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))},!b&&a.a.createElement("div",{className:g.a.message_icon},a.a.createElement(u,null)),a.a.createElement("div",{className:g.a.message_label},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:d}}))))}}]),t}(r.PureComponent);_.propTypes={attachmentsContainerId:i.a.string,isFetching:i.a.bool.isRequired,maxFileSize:i.a.number.isRequired,maxUploadFileSizeMessage:i.a.string.isRequired,isCustomFileSize:i.a.bool.isRequired,availableFilesCountToUpload:i.a.number.isRequired},_.defaultProps={attachmentsContainerId:null,maxFileSize:2147483648,maxFileSizeMessage:"",isCustomFileSize:!1,availableFilesCountToUpload:10};t.a=_},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=function(e){var t=function(e){return(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}(e),n=t.split("."),r=n.length;return r>2&&(t=n[r-2]+"."+n[r-1],2===n[r-2].length&&2===n[r-1].length&&(t=n[r-3]+"."+t)),t},a=function(e,t,n){var a=e,o=a.match(/<a href="(.*?)"/g);o&&o.forEach((function(e){var o=encodeURI(e.slice(9).slice(0,-1)),i=r(o);a=t.some((function(e){return e===i}))?a.replace(e,'<a href="'+o+'" target="_blank"'):a.replace(e,'<a href="'+n+"?link="+o+'" target="_blank"')}));var i=[];if(a=a.replace(/((https?|ftps?):\/\/[^"<\s]*[^"<\s;])(?![^<>]*>|[^"]*?<\/a)/gi,(function(e){var a=r(e);return i.push(e),t.some((function(e){return e===a}))?'<a href="'+e+'" target="_blank">'+e+"</a>":'<a href="'+n+"?link="+e+'" target="_blank">'+e+"</a>"})),i){var c=!1;i.forEach((function(e){if(!c){var t=e.match(/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*?[^\w\s-]|rutube\.ru\/video\/|utube\.uz\/[\w]{2,3}\/video\/|mytube\.uz(?:\/[\w]{2})?\/tracks\/|(?:player\.)?vimeo\.com\/)((?:[\w-]{11,15}|[\w-]{32}|[\d]*))(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/i);if(t){c=!0;var n=void 0;n=t[0].match(/utube\.uz/i)?"https://utube.uz/embed/"+t[1]:t[0].match(/mytube\.uz/i)?"https://mytube.uz/"+t[1]+".embed":t[0].match(/(?:player\.)?vimeo\.com/i)?"https://player.vimeo.com/video/"+t[1]:t[0].match(/rutube\.ru/i)?"https://rutube.ru/play/embed/"+t[1]+"/?autostartmute=1":"https://www.youtube.com/embed/"+t[1],a+="<iframe id="+t[0]+" src="+n+' frameborder="0" allow="autoplay \'none\'" allowfullscreen></iframe>'}}}))}return a}},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){try{window.require(["analytics/yaMetrikaTracker"],(function(t){t&&t.reachGoal?t.reachGoal({target:e}):console.warn("Yandex metrika not sent, maybe dnevnikSettings.analytics.yandex is undefined")}))}catch(e){}},a=function(e){try{window.require(["analytics/yaMetrikaTracker"],(function(t){t&&t.params?t.params(e):console.warn("Yandex metrika not sent, maybe dnevnikSettings.analytics.yandex is undefined")}))}catch(e){}}},120:function(e,t,n){e.exports={container:"Lcucv",counter:"_2J_3l",icon:"_3tsog",hoverIcon:"_11u1D"}},121:function(e,t,n){e.exports={container:"_36Ykd",cancel:"hrJEm",submit:"_2s01W",spinner:"_30WWC"}},122:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(99),l=n.n(c),s=n(137),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleKeyDown=function(e){27===e.keyCode&&r.props.onClose()},r.handleClick=function(e){r.wrapper.contains(e.target)||r.props.onClose()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidMount",value:function(){if(document.addEventListener("keydown",this.handleKeyDown),window.clipboardData){var e=this.props.file;this.img_view.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+this.img_view.width+"' height='"+this.img_view.height+"'%3E%3C/svg%3E",this.img_view.style.background='url("'+e.content.view.url+'") no-repeat 50%',this.img_view.style.backgroundSize="contain",this.wrapper.style.backgroundColor="black"}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.file,r=t.onClose;return a.a.createElement(s.a,null,a.a.createElement("div",{className:l.a.overlay,onClick:this.handleClick},a.a.createElement("div",{ref:function(t){e.wrapper=t},className:l.a.file_wrapper},a.a.createElement("img",{"data-test-id":"content-image-popup",alt:"pic",ref:function(t){e.img_view=t},src:n.content.view.url,className:l.a.img_view})),a.a.createElement("div",{"data-test-id":"close-content-image-popup",className:l.a.close,onClick:r})))}}]),t}(r.Component);m.propTypes={file:i.a.object.isRequired,onClose:i.a.func.isRequired};var f=m,h=n(123),v=n.n(h),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var y=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.toggleViewVisibility=function(){!0===r.props.viewOnly&&r.setState({showViewBlock:!r.state.showViewBlock}),r.props.sendPostsCompactMetrika&&!1===r.state.showViewBlock&&r.props.sendPostsCompactMetrika("click_photo")},r.handleDelete=function(){r.props.isFetching||r.props.onDelete()},r.state={showViewBlock:!1},r.preview=e.previewHeight<=200?"smallPreview":"largePreview",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,[{key:"componentDidMount",value:function(){var e=this;window.clipboardData&&setTimeout((function(){var t=e.props.file;e.img_preview.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e.img_preview.width+"' height='"+e.img_preview.height+"'%3E%3C/svg%3E",e.img_preview.style.background='url("'+t.content[e.preview].url+'") no-repeat 50%'}),60)}},{key:"render",value:function(){var e=this,t=this.state.showViewBlock,n=this.props,r=n.file,o=n.viewOnly,i=n.previewHeight,c=n.previewWidth,l=n.onClick,s=b({},this.props.imageStyle,{cursor:!0===o?"pointer":"auto"});return a.a.createElement("div",{style:{height:i,width:c},className:v.a.container},a.a.createElement("img",{"data-test-id":"content-image-"+(o?"view":"edit"),alt:"pic",ref:function(t){e.img_preview=t},src:r.content[this.preview].url,onClick:l||this.toggleViewVisibility,className:v.a.img_preview,style:s}),!1===o&&a.a.createElement("div",{"data-test-id":"delete_content_image",className:v.a.delete,onClick:function(){return e.handleDelete()}}),t&&a.a.createElement(f,{file:r,onClose:this.toggleViewVisibility}))}}]),t}(r.Component);y.propTypes={file:i.a.object.isRequired,previewHeight:i.a.number.isRequired,viewOnly:i.a.bool.isRequired,onDelete:i.a.func.isRequired};t.a=y},123:function(e,t,n){e.exports={container:"_3_zQA",img_preview:"_2IIod",delete:"_3Uyn-"}},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(5),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.useState)(e),i=o(n,2),c=i[0],l=i[1],s=Object(r.useRef)(null);function u(e){s.current&&!s.current.contains(e.target)&&l(!1)}function p(e){27===e.keyCode&&l(!1)}return Object(r.useEffect)((function(){if(c){var e={click:u};return t&&(e.keydown=p),Object(a.b)(e),function(){Object(a.e)(e)}}}),[c]),[c,l,s]}},128:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(205),i=n.n(o),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){return a.a.createElement("input",c({type:"text",className:i.a.input},this.props))}}]),t}(r.PureComponent);t.a=p},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(17),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object(r.b)({WebApplicationException:null,FetchError:null,ValidationException:null}),s=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r.name="ServiceStackError",r.responseStatus=e,r.httpStatus=n||500,r}return c(t,Error),a(t,null,[{key:"responseStatus",value:function(e,t,n){return{errorCode:e,message:t,errors:n}}},{key:"validationException",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object.keys(e).map((function(t){return{fieldName:t,message:e[t]}})),a=t.responseStatus(l.ValidationException,n,r);throw new t(a,200)}}]),t}(),u=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r.name="ApiError",r.json=e,r.httpStatus=n||500,r}return c(t,Error),t}(),p=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Error.captureStackTrace(r,t),r.status=n,r.data=e,r.name="PollingError",r}return c(t,Error),t}()},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(9);var o=window.__PUBLIC__CLUBS__INITIAL__STATE__&&window.__PUBLIC__CLUBS__INITIAL__STATE__.apiUrl||window.apiUrls&&window.apiUrls.publicclub,i=new a.a(o,"include",{simple:!0}),c=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return e.getPublics=function(t,n){return e.get("/list",{offset:t,limit:n})},e.getUserPublics=function(t,n){return e.get("/my",{offset:t,limit:n})},e.createPublic=function(t){return e.post("/create",{name:t})},e.activatePublic=function(t){return e.post("/activate",{id:t})},e.subscribe=function(t){return e.post("/"+t+"/subscribe",{})},e.unsubscribe=function(t){return e.post("/"+t+"/unsubscribe",{})},e.declineInvite=function(t){return e.post("/"+t+"/declineinvite",{})},e.editPublic=function(t){return e.post("/"+t.id,t)},e.deletePublic=function(t){return e.post("/"+t+"/delete",{})},e.getPublicClub=function(t){return e.get("/"+t)},e.getInvitePeopleGetFilter=function(){return e.get("/invite/filter/")},e.getInvitePeopleGetGroupFilter=function(t){return e.get("/invite/groupfilter/school/"+t)},e.getInvitePeopleGetUsers=function(t,n,r,a){return e.get("/"+t+"/invite/users/school/"+n+"/group/"+r+"/role/"+a)},e.createInvite=function(t,n){return e.post("/invite/"+t+"/user/"+n,{})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.a))},133:function(e,t,n){e.exports={container:"_2JHFE",filePreview:"_2S5Al",deleteButton:"yuHFi"}},134:function(e,t,n){e.exports={container:"_3x2A2",pollText:"j_tbL",placeholder:"fmMe_"}},1349:function(e,t,n){n(85),n(86),e.exports=n(1485)},135:function(e,t,n){e.exports={duplicates:"_1g-HN",duplicate_view:"_1MNlD",hidden:"_2lOkZ"}},136:function(e,t,n){e.exports={container:"_3NMbR",noLikes:"_1Sm2m",counter:"_3ipol",statistic:"TVt5n"}},137:function(e,t,n){"use strict";var r=n(0),a=n(35),o=n.n(a),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=document.querySelector("body");t.a=function(e){var t=Object(r.useState)(null),n=i(t,2),a=n[0],l=n[1];return Object(r.useEffect)((function(){var e=document.createElement("div");return c.appendChild(e),l(e),function(){c.removeChild(e)}}),[]),a?o.a.createPortal(e.children,a):null}},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=[{name:"parent",contentName:"parents",keywords:["parents_"]},{name:"parentonly",contentName:"parentsonly",keywords:["parentsonly"]},{name:"student",contentName:"students",keywords:["students"]},{name:"staff",contentName:"teachers",keywords:["teachers"]},{name:"subject",contentName:"subject",keywords:["subject"]},{name:"private",contentName:"user",keywords:["user"]},{name:"custom",contentName:"custom",keywords:["custom"]},{name:"dnevnik",contentName:"dnevnik",keywords:["dnevnikru"]},{name:"mosreg",contentName:"mosreg",keywords:["schoolmosreg"]}];function o(e,t){var n=e&&a.find((function(t){return t.keywords.some((function(t){return e.includes(t)}))}));return(void 0===t?"undefined":r(t))===r(!0)&&n&&"private"===n.name?t?"private_online":"private_offline":n&&n.name}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,o){var i=window.dnevnik&&window.dnevnik.user&&window.dnevnik.user.id,c=window.dnevnik&&window.dnevnik.user&&window.dnevnik.user.commonRole,l=t||"compact",s={PostsCompact:a({},Date.now(),a({},i||"notset",a({},c||"notset",a({},e||"notset",a({},l,a({},window.location.pathname||"notset",a({},n||"notset",a({},o||"notset",null))))))))};Object(r.a)(s)}},14:function(e,t,n){"use strict";var r=n(9);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.a=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(this,e),this.post=function(){var e;return(e=t.client).post.apply(e,arguments)},this.get=function(){var e;return(e=t.client).get.apply(e,arguments)},this.client=n||r.b}},142:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(110),i=n.n(o),c=n(77),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var s=Object(r.memo)((function(e){var t=e.poll,n=e.onVote,o=e.sendMetrika,s=t.id,u=t.options,p=Object(r.useState)(!1),d=l(p,2),m=d[0],f=d[1],h=Object(r.useState)(null),v=l(h,2),b=v[0],g=v[1];return u.map((function(e,t){return a.a.createElement("div",{className:i.a.container,"data-id-test":"possible_answer-"+(t+1),onClick:function(){return t=e.id,void(m||(f(!0),g(t),c.a.vote(s,t).then((function(){n(t),o("surveyanswer")}),(function(){f(!1),g(null)}))));var t},key:"option"+e.id},a.a.createElement("div",{className:i.a.radio},e.id===b&&a.a.createElement("div",{className:i.a.subRadio})),a.a.createElement("div",{className:i.a.text},e.text))}))})),u=n(92),p=n.n(u);var d=Object(r.memo)((function(e){var t=e.poll,n=t.options,r=t.votedOptionId,o=n.reduce((function(e,t){return e+t.votesCount}),0),i=a.a.createElement("svg",{id:"SVGDoc",width:"19",height:"19",xmlns:"http://www.w3.org/2000/svg",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 19 19"},a.a.createElement("desc",null,"Generated with Avocode."),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("title",null,"Group 20"),a.a.createElement("g",null,a.a.createElement("title",null,"Rectangle"),a.a.createElement("path",{d:"M0,9c0,-4.97056 4.02944,-9 9,-9h1c4.97056,0 9,4.02944 9,9v1c0,4.97056 -4.02944,9 -9,9h-1c-4.97056,0 -9,-4.02944 -9,-9z",fill:"#0087c0",fillOpacity:"1"})),a.a.createElement("g",null,a.a.createElement("title",null,"Shape"),a.a.createElement("path",{d:"M7.69364,10.9891v0l-1.69091,-1.98637v0l-0.92273,0.92273v0l2.61364,2.90909v0l6.30909,-5.83182v0l-0.92273,-0.92273v0z",fill:"#ffffff",fillOpacity:"1"})))));return n.map((function(e){var t=Math.round(100*e.votesCount/o),n=t>0?t:1,c=e.id===r;return a.a.createElement("div",{className:p.a.container,"data-test-id":c?"this_option_selected":"this_option_not_selected",key:"option"+e.id},a.a.createElement("div",{className:p.a.radio},c&&i),a.a.createElement("div",{className:p.a.text},e.text),a.a.createElement("div",{style:{flexGrow:1}}),a.a.createElement("div",{className:p.a.background,style:{left:n+"%"}}),a.a.createElement("div",{className:p.a.barInfo},e.votesCount?e.votesCount+"("+t+"%)":"0"))}))})),m=n(134),f=n.n(m),h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.a=Object(r.memo)((function(e){var t=e.pollId,n=e.originalText,o=e.onView,i=e.onVote,l=e.onChange,u=e.autoUpdateDisabled,p=e.sendMetrika,m=e.poll,v=Object(r.useState)(!m),b=h(v,2),g=b[0],y=b[1],w=Object(r.useState)(m||null),E=h(w,2),_=E[0],C=E[1];function x(){c.a.getPoll(t).then((function(e){C(e),y(!1),l&&l(e)}),(function(){y(!1)}))}var k=!(!_||!_.votedOptionId)||!(window.dnevnik&&window.dnevnik.auth.isAuthenticated);return Object(r.useEffect)((function(){_||x(),o&&o()}),[]),Object(r.useEffect)((function(){m&&m!==_&&C(m)}),[m]),Object(r.useEffect)((function(){if(k&&!u){var e=setInterval((function(){document.hidden||x()}),6e4);return function(){clearInterval(e)}}}),[k,u]),g?a.a.createElement("div",{className:f.a.placeholder}):_?a.a.createElement("div",{className:f.a.container,id:"test"},a.a.createElement("div",{className:f.a.pollText},_.text),a.a.createElement("div",null,k?a.a.createElement(d,{poll:_}):a.a.createElement(s,{poll:_,onVote:function(){i&&i(),x()},sendMetrika:p}))):n}))},143:function(e,t,n){e.exports={error:"_36J2d",caption:"_30npJ"}},145:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(143),i=n.n(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.caption;return a.a.createElement(r.Fragment,null,t&&a.a.createElement("div",{className:i.a.error},t),n&&a.a.createElement("div",{className:i.a.caption},n))}}]),t}(r.PureComponent);t.a=u},1485:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(35),i=n(6),c=n(11),l=n(79),s=n(183),u=n(3),p=n(283),d=regeneratorRuntime.mark(m);function m(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(p.a);case 2:case"end":return e.stop()}}),d,this)}var f=n(393),h=Object(s.a)(),v=Object(c.e)(f.a,h,l.a);l.b.run(m);var b=n(259);Object(o.render)(a.a.createElement(i.a,{store:v},a.a.createElement(b.a,null)),document.getElementById("post_widget"))},149:function(e,t,n){e.exports={container:"_2L2cc",topic:"_27EK8",delete:"_15OG3",input:"_1Mwxl"}},150:function(e,t,n){e.exports={container:"_24bXC",popover:"_1CdDi",title:"oYS3n",radioButtonContainer:"J-eOa",settings:"j5o0b",blueCheckbox:"_3rGqA",text:"_1_GOm"}},151:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(78),i=n(36),c=n.n(i),l=n(8);var s=Object(r.memo)((function(e){var t=e.onConfirm,n=e.onClose,o=e.isFetching;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:c.a.title},__("complaint.confirm.title.send")),a.a.createElement("div",{className:c.a.text},__("complaint.confirm.text.send")),a.a.createElement("div",{className:c.a.buttonContainer},a.a.createElement(l.a,{onClick:t,appearance:"secondary",isDisabled:o},__("complaint.confirm.button.confirm.text")),a.a.createElement(l.a,{onClick:n,isDisabled:o},__("complaint.confirm.button.cancel.text"))))}));var u=Object(r.memo)((function(e){var t=e.onClose,n=e.isFetching;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:c.a.icon},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#1bcd43",d:"M30 58.008c7.734 0 14.336-2.735 19.805-8.203 5.468-5.47 8.203-12.07 8.203-19.805 0-7.734-2.735-14.336-8.203-19.805C44.335 4.727 37.735 1.992 30 1.992c-7.734 0-14.336 2.735-19.805 8.203C4.727 15.665 1.992 22.265 1.992 30c0 7.734 2.735 14.336 8.203 19.805 5.47 5.468 12.07 8.203 19.805 8.203zM30 0c8.281 0 15.352 2.93 21.21 8.79C57.07 14.647 60 21.718 60 30s-2.93 15.352-8.79 21.21C45.353 57.07 38.282 60 30 60s-15.352-2.93-21.21-8.79C2.93 45.353 0 38.282 0 30S2.93 14.648 8.79 8.79C14.647 2.93 21.718 0 30 0zm11.944 20.39c.468-.468.937-.429 1.405.118.47.468.43.937-.117 1.405L24.372 39.6c-.312.157-.547.235-.703.235-.234 0-.468-.117-.703-.352l-6.325-6.207c-.391-.469-.391-.977 0-1.523.546-.39 1.015-.39 1.405 0l5.623 5.622z"}))))),a.a.createElement("div",{className:c.a.title},__("complaint.confirm.title.success")),a.a.createElement("div",{className:c.a.text},__("complaint.confirm.text.success")),a.a.createElement("div",{className:c.a.buttonContainer},a.a.createElement(l.a,{onClick:t,appearance:"secondary",isDisabled:n},__("complaint.confirm.button.close.text"))))}));var p=function(e){var t=e.onClose;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:c.a.icon},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("defs",null,a.a.createElement("path",{id:"j06ka",d:"M496 1012c7.73 0 14.34-2.73 19.8-8.2A26.99 26.99 0 0 0 524 984c0-7.73-2.73-14.34-8.2-19.8A26.99 26.99 0 0 0 496 956a26.99 26.99 0 0 0-19.8 8.2A26.99 26.99 0 0 0 468 984c0 7.73 2.73 14.34 8.2 19.8a26.99 26.99 0 0 0 19.8 8.2zm0-58a28.9 28.9 0 0 1 21.21 8.79A28.9 28.9 0 0 1 526 984a28.9 28.9 0 0 1-8.79 21.21A28.9 28.9 0 0 1 496 1014a28.9 28.9 0 0 1-21.21-8.79A28.9 28.9 0 0 1 466 984a28.9 28.9 0 0 1 8.79-21.21A28.9 28.9 0 0 1 496 954zm4.8 37.97c.63 0 .94.35.94 1.05 0 .63-.31.94-.94.94h-18.16l5.98 5.27c.54.47.58.94.11 1.41-.23.24-.46.35-.7.35-.15 0-.39-.08-.7-.23l-7.97-7.03-.24-.24v-.11c-.07-.08-.11-.2-.11-.36 0-.23.04-.39.12-.47l.23-.23v-.12l7.97-6.91c.55-.4 1.01-.4 1.4 0 .4.55.36 1.01-.11 1.4l-5.98 5.28zm12.54-17.93c.47.16.7.47.7.94l-.11.11.12.12c0 .24-.12.47-.35.7l-7.97 7.86a1.8 1.8 0 0 1-.7.23c-.4 0-.63-.12-.71-.35-.55-.4-.55-.86 0-1.4l6.45-6.22h-17.58c-.63 0-.94-.35-.94-1.05 0-.63.31-.94.94-.94h17.22l-6.09-6.33c-.62-.47-.62-.94 0-1.4.47-.47.94-.47 1.4 0z"})),a.a.createElement("use",{fill:"#ff9400",xlinkHref:"#j06ka",transform:"translate(-466 -954)"}))),a.a.createElement("div",{className:c.a.text},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:__("chat.label.popup.error.techerror")}})),a.a.createElement("div",{className:c.a.buttonContainer},a.a.createElement(l.a,{appearance:"secondary",onClick:t},a.a.createElement("span",null,__("chat.button.close.text")))))},d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var m=Object(r.memo)((function(e){var t=e.onClose,n=e.action,i=Object(r.useState)(!1),l=d(i,2),m=l[0],f=l[1],h=Object(r.useState)(!0),v=d(h,2),b=v[0],g=v[1],y=Object(r.useState)(!1),w=d(y,2),E=w[0],_=w[1];return n?a.a.createElement(o.a,{title:"",onClose:t,disableClose:!1,style:{maxWidth:"100%"}},a.a.createElement("div",{className:c.a.container},b&&a.a.createElement(s,{onConfirm:function(){_(!0),n().then((function(){return f(!0)})).catch((function(){return f(!1)})).then((function(){g(!1),_(!1)}))},onClose:t,isFetching:E}),!b&&m&&a.a.createElement(u,{onClose:t}),!b&&!m&&a.a.createElement(p,{onClose:t}))):null})),f=n(14);var h=new(n(9).a)(window.__COMPLAINT__INITIAL__STATE__&&window.__COMPLAINT__INITIAL__STATE__.apiUrl,"include",{simple:!0}),v=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,h));return e.createPostComplaint=function(t,n){return e.post("/posts/topic/"+t+"/post/"+n+"/complaint/create",{})},e.createDiscussionsComplaint=function(t,n){return e.post("/discussions/thread/"+t+"/comment/"+n+"/complaint/create",{})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(f.a));t.a=Object(r.memo)((function(e){var t=e.type,n=e.id,r=e.eventKey;return a.a.createElement(m,{onClose:function(){e.onClose&&e.onClose()},action:function(){switch(t){case"post":return function(){return v.createPostComplaint(r,n)};case"comment":return function(){return v.createDiscussionsComplaint(r,n)};default:return function(){return Promise.reject()}}}()})}))},152:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(5),l=n(104),s=n.n(l);var u=Object(r.memo)((function(e){var t=e.text,n=e.html,o=e.children;return t?a.a.createElement("span",null,t):n?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}):o?a.a.createElement(r.Fragment,null,o):null})),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addEvents=function(e){var t=e&&e.parentElement;n.removeEvents(),t&&Object(c.a)(t,{mouseenter:n.handleParentMouseEnter,mouseleave:n.handleParentMouseLeave}),n.popoverRef=e,n.parentRef=t},n.removeEvents=function(){n.parentRef&&Object(c.d)(n.parentRef,{mouseenter:n.handleParentMouseEnter,mouseleave:n.handleParentMouseLeave})},n.handleParentMouseEnter=function(e){n.props.callback&&!n.props.callback(e)||(n.timer&&(clearTimeout(n.timer),n.timer=null),n.setState({visible:!0}))},n.handleParentMouseLeave=function(){n.props.timeout?n.timer=setTimeout((function(){return n.setState({visible:!1})}),n.props.timeout):n.setState({visible:!1})},n.state={visible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"render",value:function(){var e,t=this,n=this.parentRef&&this.parentRef.getBoundingClientRect(),r=!1,o=!1,c=n&&{left:n.left+n.width/2-24,top:n.top-48};return c&&this.popoverRef&&(this.props.inverted||c.left+this.popoverRef.scrollWidth>document.documentElement.clientWidth)&&(r=!0,c={right:document.documentElement.clientWidth-n.left-n.width/2-24,top:c.top}),c&&this.popoverRef&&(this.props.verticalInverted||c.top<0)&&(o=!0,c=p({},c,{top:n.bottom+12})),c&&(this.props.offset&&Object.keys(this.props.offset).forEach((function(e){c[e]&&(c[e]+=t.props.offset[e])})),Object.keys(c).forEach((function(e){c[e]+="px"}))),c=p({},c,this.props.style),a.a.createElement("div",{className:i()(s.a.tooltip,(e={},m(e,s.a.hide,!this.state.visible),m(e,s.a.inverted,r),m(e,s.a.verticalInverted,o),m(e,s.a.zIndex,this.props.zIndex),e)),style:c,ref:this.addEvents},a.a.createElement(u,this.props))}}]),t}(r.Component);t.a=f},157:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(24),u=n(121),p=n.n(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;m(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={showSpinner:!1},r.handleSubmit=function(e){e.preventDefault(),r.props.isFetching||r.props.onSubmit()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.isFetching;!n&&this.props.isFetching&&(clearTimeout(this.loaderTimer),this.setState({showSpinner:!1})),n&&!this.props.isFetching&&(this.loaderTimer=setTimeout((function(){t.setState({showSpinner:!0})}),1500))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loaderTimer)}},{key:"render",value:function(){var e,t,n,r=this.state.showSpinner,o=this.props,i=o.submitText,c=o.onCancel,u=o.customButtons,d=l()(p.a.submit,(e={},t=p.a.spinner,n=r,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return a.a.createElement("div",{className:p.a.container},u,c&&a.a.createElement("div",{className:p.a.cancel,onClick:c,"data-test-id":"cancel-create-post"},__("label.editor.button.cancel")),a.a.createElement("button",{className:d,onClick:this.handleSubmit,"data-test-id":this.props.testId},a.a.createElement("div",null,i),r&&a.a.createElement(s.a,null)))}}]),t}(r.Component);h.propTypes={submitText:i.a.string.isRequired,isFetching:i.a.bool.isRequired,onSubmit:i.a.func.isRequired},t.a=h},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:decodeURI(t[1])||0}},159:function(e,t,n){e.exports={container:"gNLak",dots:"_87R35",popover:"_3vnas"}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BACKSPACE:8,TAB:9,ENTER:13,CTRL:10,RETURN:13,SHIFT:16,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,B:66,I:73,Z:90,V:86,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},160:function(e,t,n){e.exports={container:"irY4a",tooltip:"_1ySqT",noSelect:"KDgLt"}},161:function(e,t,n){e.exports={container:"_3Sjx9",text:"_1ierY",selected:"DRM4k"}},166:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(15),i=n(2),c=n.n(i),l=(n(29),n(37)),s=n(119),u=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"15",viewBox:"7 11 22 17"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#8da5b1",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M19 12.5c-6.075 0-11 5.917-11 7 0 1.083 4.925 7 11 7s11-5.917 11-7c0-1.083-4.925-7-11-7z"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#8da5b1",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M22.882 19.5c0 2.109-1.738 3.818-3.882 3.818s-3.882-1.71-3.882-3.818c0-2.109 1.738-3.818 3.882-3.818s3.882 1.71 3.882 3.818z"}))))))},p=n(87),d=n(74),m=n(8),f=n(88),h=n(18),v=n(80),b=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var g=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)({postText:e.post.text,postLen:0}),o=b(n,2),i=o[0],c=o[1],s=Object(r.useState)(!1),u=b(s,2),p=u[0],d=u[1],m=Object(r.useState)(e.post.attachmentsContainerId),g=b(m,2),y=g[0],w=g[1];Object(r.useEffect)((function(){Object(h.f)(t.current)}),[]);var E=e.editPost,_=e.post,C=e.currentUser,x=e.onClose,k=e.poll,O=e.postSurvey,P=_.eventKey,T=_.id,A=_.updatedDate,S=_.attachmentsContainer;Object(r.useEffect)((function(){p&&x()}),[A]);var j=i.postText,I=i.postLen;return a.a.createElement(f.a,{testId:"inlineEdit",text:j,attachmentsContainerId:y,attachmentsContainer:S,currentUser:C,submitText:__("label.post.button.save"),maxLength:1e4,minInputHeight:196,isFetching:p,editorRef:t,onCancel:x,onSubmit:function(e,t){if(I>0){var n=Object(v.a)(j,[t]),r=Object(l.b)(n);d(!0),E(P,T,r,y,e)}},onSaveText:function(e,t){return c({postText:e,postLen:t})},onSaveMedia:function(e){return w(e)},shrinkToolbar:!0,multiplePreviews:!0,poll:k,postSurvey:O,paragraphOnEnter:!0})},y=n(5),w=n(159),E=n.n(w),_=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var C=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(!1),o=_(n,2),i=o[0],c=o[1];function l(e){t.current&&!t.current.contains(e.target)&&c(!1)}Object(r.useEffect)((function(){if(i)return Object(y.b)({click:l}),function(){Object(y.e)({click:l})}}),[i]);var s=e.eventKey,u=e.postId,p=e.permissions,d=e.onShowInlineEdit,m=e.complaintEnabled,f=e.onComplaint,h=e.setShowUnsubscribePopup,v=e.showUnsubscribePopover;return a.a.createElement("div",{className:E.a.container,onClick:function(){c(!i)}},a.a.createElement("div",{"data-test-id":"post_managing",className:E.a.dots}),i&&a.a.createElement("div",{className:E.a.popover,ref:t},p.edit&&a.a.createElement("div",{onClick:d,"data-test-id":"edit-post"},__("label.post.button.edit")),p.delete&&a.a.createElement("div",{onClick:function(){c(!1),e.deletePost(s,u)},"data-test-id":"delete-post"},__("label.post.button.delete2")),p.view&&m&&a.a.createElement("div",{onClick:function(){c(!1),f&&f(u,s)},"data-test-id":"complain-post"},__("label.post.button.complaint")),p.view&&v&&a.a.createElement("div",{onClick:function(){c(!1),h&&h(!0)},"data-test-id":"unsubscribe-post"},__("label.post.unsubscribe"))))},x=n(1),k=n.n(x),O=n(25),P=n(51),T=n(196),A=n.n(T),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){return j(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),S(t,[{key:"render",value:function(){var e=this.props.subscriber;return a.a.createElement("div",{className:A.a.container},a.a.createElement(P.a,{author:e,style:{width:40,height:40,fontSize:14,marginRight:17},showName:!0}),a.a.createElement("div",{className:A.a.info},e.isViewed?a.a.createElement("div",null,Object(d.a)(e.viewedDate)):a.a.createElement("div",null,__("label.post.statistic.unviewed"))))}}]),t}(r.Component);N.propTypes={subscriber:k.a.object.isRequired};var D=N,R=n(107),M=n(158),L=n(42),U=n(54),F=n.n(U),z=n(137),H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function B(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function V(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}var q=[{href:__("url.posts.help.views"),link:__("label.post.tooltip.link3"),text:__("label.post.tooltip.text3")}],W=function(e){function t(e,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.fetchStatistic=(a=V(regeneratorRuntime.mark((function e(){var t,n,a,i,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.page;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props,n=t.eventKey,a=t.postId,o.setState({isFetching:!0}),i=void 0,"viewed"!==c){e.next=9;break}return e.next=6,L.a.getViewedStatistic({eventKey:n,postId:a,startDate:null,limit:25});case 6:i=e.sent,e.next=13;break;case 9:if("unviewed"!==c){e.next=13;break}return e.next=12,L.a.getUnviewedStatistic({eventKey:n,postId:a,startUser:null,limit:25});case 12:i=e.sent;case 13:o.setState({page:c,statistic:i,isFetching:!1});case 14:case"end":return e.stop()}}),e,r)}))),function(){return a.apply(this,arguments)}),o.handleClose=function(){(0,o.props.onTogglePopup)()},o.handleTabClick=function(e){o.state.page!==e&&o.fetchStatistic(e)},o.handleScroll=V(regeneratorRuntime.mark((function e(){var t,n,a,i,c,l,s,u,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.state,n=t.page,a=t.statistic,i=o.props,c=i.eventKey,l=i.postId,!(a.subscribersCount>25&&a.subscribers.length!==a.subscribersCount)){e.next=18;break}if(s=void 0,o.setState({isFetching:!0}),"viewed"!==n){e.next=12;break}return u=a.subscribers[a.subscribers.length-1].viewedDate,e.next=9,L.a.getViewedStatistic({eventKey:c,postId:l,startDate:u,limit:25});case 9:s=e.sent,e.next=17;break;case 12:if("unviewed"!==n){e.next=17;break}return p=a.subscribers[a.subscribers.length-1].id,e.next=16,L.a.getUnviewedStatistic({eventKey:c,postId:l,startUser:p,limit:25});case 16:s=e.sent;case 17:o.setState({statistic:H({},a,{subscribers:[].concat(B(a.subscribers),B(s.subscribers))}),isFetching:!1});case 18:case"end":return e.stop()}}),e,r)})));var i=Object(M.a)("statistic");return"unviewed"!==i&&"viewed"!==i&&(i=null),o.state={page:i||"viewed",statistic:{viewsCount:0,subscribersCount:0},isFetching:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),K(t,[{key:"componentWillMount",value:function(){this.fetchStatistic()}},{key:"render",value:function(){var e=this,t=this.state,n=t.page,o=t.statistic,i=t.isFetching,c=__("label.post.statistic.views.info").replace("{0}",o.viewsCount),l=__("label.post.statistic.unviews.info").replace("{0}",o.subscribersCount-o.viewsCount),s=__("label.post.statistic.empty.views").replace("{0}","<img class="+F.a.emoji+' src="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAP///yH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==" style="background-position:-58px -76px" />'),u=__("label.post.statistic.empty.unviews").replace("{0}","<img class="+F.a.emoji+' src="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAP///yH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==" style="background-position:-153px -114px" />');return a.a.createElement(z.a,null,a.a.createElement(O.a,{isFetching:i,onScroll:this.handleScroll,onClose:this.handleClose},a.a.createElement(R.a,{content:q,style:{position:"absolute",top:15,right:29,marginRight:15}}),a.a.createElement("div",{className:F.a.content},a.a.createElement("div",{className:F.a.header},a.a.createElement("div",{"data-test-id":"viewed",className:"viewed"===n?F.a.selected:F.a.unselected,onClick:function(){return e.handleTabClick("viewed")}},c),a.a.createElement("div",{"data-test-id":"unviewed",className:"unviewed"===n?F.a.selected:F.a.unselected,onClick:function(){return e.handleTabClick("unviewed")}},l)),o.subscribers&&a.a.createElement("div",{className:F.a.wrapper},o.subscribers.length>0&&a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:F.a.info},a.a.createElement("div",null,__("label.post.statistic.tab.user")),a.a.createElement("div",null,__("label.post.statistic.tab.date"))),o.subscribers.map((function(e){return a.a.createElement(D,{key:e.id,subscriber:e})}))),o.subscribers.length<1&&"viewed"===n&&a.a.createElement("div",{className:F.a.empty,dangerouslySetInnerHTML:{__html:s}}),o.subscribers.length<1&&"unviewed"===n&&a.a.createElement("div",{className:F.a.empty,dangerouslySetInnerHTML:{__html:u}})))))}}]),t}(r.Component);W.propTypes={eventKey:k.a.string.isRequired,postId:k.a.number.isRequired,onTogglePopup:k.a.func.isRequired};var G=W,J=n(81),X=n.n(J),Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Q(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ee=function(e){function t(){var e,n,r,a=this;Z(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=$(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={statistic:{},expanded:!1,blockRequest:!1,statisticPopup:!1},r.handleMouseEnter=Q(regeneratorRuntime.mark((function e(){var t,n,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.blockRequest,n=r.props,o=n.eventKey,i=n.postId,!n.canExpand){e.next=13;break}if(t){e.next=11;break}return r.setState({blockRequest:!0}),e.next=7,L.a.getViewedStatistic({eventKey:o,postId:i,startUser:null,limit:6});case 7:c=e.sent,r.setState({statistic:c}),document.getElementById(i+"viewcount").innerText=c.viewsCount;case 11:r.state.expanded||r.setState({expanded:!0}),r.hideTimer&&clearTimeout(r.hideTimer);case 13:case"end":return e.stop()}}),e,a)}))),r.handleMouseLeave=function(){r.props.canExpand&&(r.hideTimer=setTimeout((function(){return r.setState({expanded:!1})}),300))},$(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Y(t,[{key:"componentDidUpdate",value:function(e,t){t.expanded&&!this.state.expanded&&clearTimeout(this.hideTimer)}},{key:"render",value:function(){var e,t,n,r=this,o=this.state,i=o.expanded,l=o.statistic,s=o.statisticPopup,p=this.props,d=p.eventKey,m=p.postId,f=p.viewsCount,h=p.canExpand,v=p.availableShortViewStatsOnly,b=__("label.post.statistic.views.text").replace("{0}",l.viewsCount).replace("{1}",l.subscribersCount),g=h&&!v?function(){return r.setState({statisticPopup:!0})}:void 0;return a.a.createElement("div",{"data-test-id":"view-counter"},a.a.createElement("div",{ref:function(e){r.container=e},className:X.a.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:g,style:{cursor:h?"pointer":"initial"}},a.a.createElement(u,null),a.a.createElement("div",{className:X.a.count,id:m+"viewcount"},f),a.a.createElement("div",{className:X.a.popover_wrapper},i&&Object.keys(l).length>0&&a.a.createElement("div",{className:X.a.popover},a.a.createElement("span",{"data-test-id":"view-counter-text",className:c()(X.a.info,(e={},t=X.a.clickable,n=!v,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),dangerouslySetInnerHTML:{__html:b},onClick:g}),l.subscribers.length>0&&a.a.createElement("div",{className:X.a.avatars},l.subscribers.map((function(e){return a.a.createElement(P.a,{key:e.id,author:e,style:{width:40,height:40,fontSize:14,marginRight:5},target:"_blank"})})))))),s&&a.a.createElement(G,{eventKey:d,postId:m,onTogglePopup:function(){return r.setState({statisticPopup:!1})}}))}}]),t}(r.Component);ee.propTypes={eventKey:k.a.string.isRequired,postId:k.a.string.isRequired,viewsCount:k.a.string.isRequired,canExpand:k.a.bool.isRequired};var te=ee,ne=n(135),re=n.n(ne),ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ce=function(e){function t(){var e,n,r;oe(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={showAll:!1},r.showAllDuplicates=function(){r.setState({showAll:!0})},ie(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ae(t,[{key:"render",value:function(){var e=this.state.showAll,t=this.props,n=t.duplicates,o=t.onClick;if(!n)return null;for(var i=0,l=0,s=[],u=function(t){var u=n[t],p=u.topicName;e||(i+=p.length,t>0&&(i+=", ".length)>30&&(l+=1),p=p.slice(0,30));var d,m,f,h=c()(re.a.duplicate_view,(d={},m=re.a.hidden,f=l,m in d?Object.defineProperty(d,m,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[m]=f,d)),v=a.a.createElement(r.Fragment,{key:u.id},!!t&&!l&&", ",a.a.createElement("span",{key:u.id,className:h,onClick:o?function(){return o(u.eventKey,u.id)}:void 0},p));s.push(v)},p=0;p<n.length;p+=1)u(p);return a.a.createElement("div",{className:re.a.duplicates},a.a.createElement("span",null,__("label.post.feed.duplicates")," "),s,i>30&&a.a.createElement("span",{className:re.a.duplicate_view,onClick:this.showAllDuplicates},"... "+__("label.post.feed.moreduplicates"),!!l&&" ("+l+")"))}}]),t}(r.Component),le=n(236),se=n(10),ue=n.n(se),pe=n(151),de=n(78),me=n(62),fe=n.n(me);var he=Object(r.memo)((function(e){var t=e.onConfirm,n=e.onClose,o=e.isFetching;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:fe.a.title},__("label.post.unsubscribe.confirmpopup.title")),a.a.createElement("div",{className:fe.a.text},__("label.post.unsubscribe.confirmpopup.text")),a.a.createElement("div",{className:fe.a.buttonContainer},a.a.createElement(m.a,{onClick:t,appearance:"secondary",isDisabled:o},__("label.post.unsubscribe.leave")),a.a.createElement(m.a,{onClick:n,isDisabled:o},__("label.post.unsubscribe.cancel"))))}));var ve=Object(r.memo)((function(e){var t=e.onClose,n=e.isFetching;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:fe.a.icon},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#1bcd43",d:"M30 58.008c7.734 0 14.336-2.735 19.805-8.203 5.468-5.47 8.203-12.07 8.203-19.805 0-7.734-2.735-14.336-8.203-19.805C44.335 4.727 37.735 1.992 30 1.992c-7.734 0-14.336 2.735-19.805 8.203C4.727 15.665 1.992 22.265 1.992 30c0 7.734 2.735 14.336 8.203 19.805 5.47 5.468 12.07 8.203 19.805 8.203zM30 0c8.281 0 15.352 2.93 21.21 8.79C57.07 14.647 60 21.718 60 30s-2.93 15.352-8.79 21.21C45.353 57.07 38.282 60 30 60s-15.352-2.93-21.21-8.79C2.93 45.353 0 38.282 0 30S2.93 14.648 8.79 8.79C14.647 2.93 21.718 0 30 0zm11.944 20.39c.468-.468.937-.429 1.405.118.47.468.43.937-.117 1.405L24.372 39.6c-.312.157-.547.235-.703.235-.234 0-.468-.117-.703-.352l-6.325-6.207c-.391-.469-.391-.977 0-1.523.546-.39 1.015-.39 1.405 0l5.623 5.622z"}))))),a.a.createElement("div",{className:fe.a.title},__("label.post.unsubscribe.successpopup.title")),a.a.createElement("div",{className:fe.a.text},__("label.post.unsubscribe.successpopup.text")),a.a.createElement("div",{className:fe.a.buttonContainer},a.a.createElement(m.a,{onClick:t,appearance:"secondary",isDisabled:n},__("label.post.unsubscribe.exit"))))})),be=n(117),ge=n(132),ye=n(48),we=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Ee=Object(r.memo)((function(e){var t=e.onClose,n=e.communityId,o=e.postId,i=e.setShowUnsubscribePopover,c=Object(r.useState)(!1),l=we(c,2),s=l[0],u=l[1],p=Object(r.useState)(!0),d=we(p,2),m=d[0],f=d[1],h=Object(r.useState)(!1),v=we(h,2),b=v[0],g=v[1],y=Object(r.useState)(null),w=we(y,2),E=w[0],_=w[1];return m||s?a.a.createElement(de.a,{title:"",onClose:t,disableClose:!1,style:{maxWidth:"100%"}},a.a.createElement("div",{className:fe.a.container},m&&a.a.createElement(he,{onConfirm:function(){g(!0),ge.a.unsubscribe(n).then((function(){u(!0),Object(ye.a)("unsubscribe_post",n,window.location.pathname,o),i(!1)})).catch((function(e){u(!1),_(e)})).then((function(){f(!1),g(!1)}))},onClose:t,isFetching:b}),!m&&s&&a.a.createElement(ve,{onClose:t}))):a.a.createElement(be.a,{onClose:t,error:E,title:__("label.post.unsubscribe.errorpopup.title"),text:__("label.post.unsubscribe.errorpopup.text")})})),_e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ce=function(e,t){var n=Object(r.useState)(!1),a=_e(n,2),o=a[0],i=a[1],c=Object(r.useRef)(),l=Object(r.useCallback)((function(n){c.current=setTimeout((function(){e(n),i(!0)}),t)}),[e,t]),s=Object(r.useCallback)((function(){c.current&&clearTimeout(c.current),i(!1)}),[o]);return{onTouchStart:function(e){return l(e)},onTouchEnd:function(e){return s(e)}}},xe=n(160),ke=n.n(xe),Oe=n(161),Pe=n.n(Oe),Te={notSet:{icon:null,key:"notset",name:__("label.post.likes.reactions.like")},like:{icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#4a85d3",d:"M0 13.958C0 6.248 6.248 0 13.957 0c7.708 0 13.956 6.249 13.956 13.958 0 7.707-6.248 13.955-13.956 13.955C6.248 27.913 0 21.665 0 13.958"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#407ec1",d:"M21.259 2.045a13.889 13.889 0 0 1 2.196 7.518c0 7.708-6.249 13.956-13.958 13.956a13.89 13.89 0 0 1-7.301-2.06 13.946 13.946 0 0 0 11.761 6.439c7.708 0 13.956-6.249 13.956-13.958 0-5.03-2.662-9.439-6.654-11.895"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#5b9add",d:"M1.898 15.429c0-7.157 5.801-12.958 12.957-12.958 4.183 0 7.902 1.982 10.271 5.059a12.95 12.95 0 0 0-11.236-6.5C6.735 1.03.932 6.832.932 13.988c0 2.974 1.003 5.713 2.687 7.899a12.894 12.894 0 0 1-1.721-6.458"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M7.303 18.936c0-.388.213-.582.64-.582.388 0 .582.194.582.582 0 .427-.194.64-.582.64-.427 0-.64-.213-.64-.64zm-1.108-7.132c-.244 0-.366.119-.366.357v8.293c0 .237.122.356.366.356h3.526c.244 0 .366-.119.366-.356V12.16c0-.238-.122-.357-.366-.357zm16.663.741c0-.39-.135-.72-.406-.992a1.347 1.347 0 0 0-.99-.406h-4.32c.54-1.518.714-2.656.519-3.415-.13-.455-.32-.819-.569-1.09-.249-.27-.454-.433-.617-.487a1.402 1.402 0 0 0-.438-.082c-.325 0-.596.12-.813.358-.216.238-.324.542-.324.91 0 1.236-.439 2.467-1.316 3.692s-1.716 1.837-2.518 1.837c-.216 0-.324.12-.324.358v5.886c0 .196.097.315.292.358.736.109 1.43.239 2.079.39.715.196 1.538.293 2.469.293h3.8c.932 0 1.397-.347 1.397-1.04 0-.282-.075-.532-.227-.749.606-.216.91-.66.91-1.333 0-.325-.076-.575-.228-.748.628-.217.942-.661.942-1.333a1.3 1.3 0 0 0-.26-.78c.282-.131.51-.359.683-.684.173-.325.26-.64.26-.943z"})))))),key:"like",name:__("label.post.likes.reactions.like")},heart:{icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#f94343",d:"M0 13.958C0 6.248 6.25 0 13.957 0c7.71 0 13.958 6.249 13.958 13.958 0 7.707-6.249 13.955-13.958 13.955C6.25 27.913 0 21.665 0 13.958"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#e53939",d:"M21.26 2.045a13.903 13.903 0 0 1 2.196 7.518c0 7.708-6.25 13.956-13.957 13.956-2.677 0-5.178-.753-7.303-2.06a13.946 13.946 0 0 0 11.761 6.439c7.71 0 13.958-6.249 13.958-13.958 0-5.03-2.663-9.439-6.655-11.895"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#f76363",d:"M1.898 15.429c0-7.157 5.801-12.958 12.958-12.958 4.182 0 7.903 1.982 10.272 5.059-2.238-3.885-6.432-6.5-11.236-6.5C6.735 1.03.933 6.832.933 13.988c0 2.974 1.002 5.713 2.687 7.899a12.895 12.895 0 0 1-1.722-6.458"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M22.17 12.331v-.037c0-2.455-1.774-4.703-4.443-4.703-2.12 0-3.35 1.525-3.77 2.95-.419-1.425-1.648-2.95-3.769-2.95-2.669 0-4.444 2.248-4.444 4.703l.002.037c-.015.534-.002 5.969 8.21 10.396v.002-.002l.001.002.002-.002.002.002v-.002c8.21-4.427 8.223-9.862 8.21-10.396"})))))),key:"heart",name:__("label.post.likes.reactions.heart")},ok:{icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#84b840",d:"M0 13.957C0 6.249 6.25 0 13.957 0c7.71 0 13.958 6.249 13.958 13.957 0 7.708-6.249 13.957-13.958 13.957C6.25 27.914 0 21.664 0 13.957"})),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M5.954 16.192a1 1 0 0 1 0-1.414l.786-.786a1 1 0 0 1 1.414 0l3.618 3.618 8.01-8.01a1 1 0 0 1 1.414 0l.786.786a1 1 0 0 1 0 1.415l-9.47 9.47a.999.999 0 0 1-.856.28.996.996 0 0 1-.632-.29z"}))),a.a.createElement("g",null,a.a.createElement("path",{fill:"#73aa43",d:"M21.26 2.045a13.903 13.903 0 0 1 2.196 7.518c0 7.708-6.25 13.957-13.957 13.957-2.677 0-5.178-.755-7.303-2.061a13.947 13.947 0 0 0 11.761 6.439c7.71 0 13.958-6.249 13.958-13.957 0-5.031-2.663-9.44-6.655-11.896"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#93c23d",d:"M1.898 15.428c0-7.156 5.801-12.957 12.958-12.957 4.182 0 7.903 1.982 10.272 5.058a12.954 12.954 0 0 0-11.236-6.5C6.735 1.03.933 6.832.933 13.989c0 2.973 1.002 5.712 2.687 7.899a12.897 12.897 0 0 1-1.722-6.459"})))))),key:"ok",name:__("label.post.likes.reactions.ok")},laughing:{icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#ffd05d",d:"M.155 13.957C.155 6.249 6.368 0 14.03 0c7.664 0 13.876 6.249 13.876 13.957 0 7.708-6.212 13.957-13.876 13.957-7.663 0-13.876-6.25-13.876-13.957"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#fdc453",d:"M21.291 2.045a13.963 13.963 0 0 1 2.183 7.518c0 7.708-6.213 13.957-13.876 13.957-2.661 0-5.147-.755-7.26-2.061 2.466 3.872 6.782 6.439 11.693 6.439 7.664 0 13.876-6.249 13.876-13.957 0-5.031-2.647-9.44-6.616-11.896"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#ffd77f",d:"M2.041 15.428c0-7.156 5.768-12.957 12.884-12.957 4.157 0 7.856 1.982 10.212 5.058-2.226-3.884-6.395-6.5-11.171-6.5-7.116 0-12.883 5.802-12.883 12.959 0 2.973.996 5.712 2.671 7.899a12.955 12.955 0 0 1-1.713-6.458"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M6.707 14.182a.72.72 0 0 1-.57-.28.729.729 0 0 1 .126-1.015l2.45-1.919-2.531-1.497a.725.725 0 0 1-.255-.99.716.716 0 0 1 .984-.258l3.443 2.038a.727.727 0 0 1 .078 1.195l-3.284 2.573a.71.71 0 0 1-.44.153"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M21.354 14.182a.712.712 0 0 1-.442-.153l-3.285-2.573a.727.727 0 0 1 .077-1.195l3.445-2.038a.72.72 0 0 1 .986.257.727.727 0 0 1-.257.991l-2.53 1.497 2.448 1.919c.313.246.37.7.126 1.016a.717.717 0 0 1-.568.279"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#695342",d:"M6.082 15.806c.45 4.015 3.837 7.136 7.949 7.136s7.498-3.12 7.949-7.136H6.082"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#f06669",d:"M8.54 20.745a7.945 7.945 0 0 0 5.49 2.197 7.942 7.942 0 0 0 5.305-2.023l-.074-.174c-5.338-2.618-10.648-.036-10.721 0"})))))),key:"laughing",name:__("label.post.likes.reactions.laughing")},surprised:{icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#ffd05d",d:"M0 13.957C0 6.249 6.249 0 13.957 0c7.708 0 13.957 6.249 13.957 13.957 0 7.708-6.249 13.957-13.957 13.957C6.249 27.914 0 21.664 0 13.957"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#fdc453",d:"M21.259 2.045a13.89 13.89 0 0 1 2.196 7.518c0 7.708-6.25 13.957-13.957 13.957-2.677 0-5.178-.755-7.302-2.061a13.946 13.946 0 0 0 11.76 6.439c7.709 0 13.958-6.249 13.958-13.957 0-5.031-2.663-9.44-6.655-11.896"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#ffd77f",d:"M1.896 15.428c0-7.156 5.802-12.957 12.958-12.957 4.183 0 7.903 1.982 10.272 5.058a12.953 12.953 0 0 0-11.236-6.5C6.733 1.03.932 6.832.932 13.989a12.9 12.9 0 0 0 2.686 7.899 12.898 12.898 0 0 1-1.722-6.458"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M10.57 11.13c0 1.266-.624 2.292-1.392 2.292-.769 0-1.392-1.026-1.392-2.292 0-1.267.623-2.293 1.392-2.293.768 0 1.392 1.026 1.392 2.293"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M20.127 11.13c0 1.266-.623 2.292-1.391 2.292-.77 0-1.392-1.026-1.392-2.292 0-1.267.623-2.293 1.392-2.293.768 0 1.391 1.026 1.391 2.293"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#695342",d:"M18.051 19.182c0 2.894-1.833 5.24-4.093 5.24-2.261 0-4.094-2.346-4.094-5.24 0-2.893 1.833-5.24 4.094-5.24 2.26 0 4.093 2.347 4.093 5.24"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#f06669",d:"M17.396 22.118c-3.01-1.174-5.46-.508-6.877.159.744 1.295 1.987 2.145 3.395 2.145 1.465 0 2.75-.92 3.482-2.304"})))))),key:"surprised",name:__("label.post.likes.reactions.surprised")},sad:{icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#ffd05d",d:"M0 13.957C0 6.249 6.249 0 13.957 0c7.708 0 13.957 6.249 13.957 13.957 0 7.708-6.25 13.957-13.957 13.957C6.249 27.914 0 21.665 0 13.957"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#fdc453",d:"M21.259 2.045a13.892 13.892 0 0 1 2.196 7.518c0 7.708-6.249 13.957-13.957 13.957a13.89 13.89 0 0 1-7.302-2.062 13.946 13.946 0 0 0 11.76 6.44c7.709 0 13.958-6.25 13.958-13.957 0-5.031-2.663-9.44-6.655-11.896"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#ffd77f",d:"M1.896 15.429c0-7.157 5.802-12.958 12.958-12.958 4.183 0 7.903 1.982 10.272 5.059a12.953 12.953 0 0 0-11.236-6.5C6.733 1.03.932 6.83.932 13.988a12.9 12.9 0 0 0 2.686 7.9 12.897 12.897 0 0 1-1.722-6.46"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M10.57 11.211c0 1.312-.624 2.375-1.392 2.375-.769 0-1.392-1.063-1.392-2.375 0-1.31.623-2.374 1.392-2.374.768 0 1.392 1.063 1.392 2.374"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M20.127 11.211c0 1.312-.623 2.375-1.391 2.375-.77 0-1.392-1.063-1.392-2.375 0-1.31.623-2.374 1.392-2.374.768 0 1.391 1.063 1.391 2.374"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#414042",d:"M22.201 7.644l-.439-.124c-.313-.088-.61-.17-.896-.27a7.935 7.935 0 0 1-1.176-.5 6.978 6.978 0 0 1-1.063-.69c-.363-.282-.7-.612-1.011-.927a.06.06 0 0 0-.067-.012.06.06 0 0 0-.037.058c.023.476.212.969.546 1.425.305.412.713.759 1.18 1.004a3.672 3.672 0 0 0 1.484.414c.555.029 1.055-.06 1.488-.265a.06.06 0 0 0-.009-.112"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#414042",d:"M5.713 7.644l.438-.124c.314-.088.61-.17.897-.27a7.935 7.935 0 0 0 1.176-.5c.382-.202.73-.428 1.062-.69a10.47 10.47 0 0 0 1.012-.927.06.06 0 1 1 .104.046c-.024.476-.212.969-.546 1.425-.305.412-.713.759-1.18 1.004a3.674 3.674 0 0 1-1.484.414c-.555.029-1.055-.06-1.488-.265a.06.06 0 0 1-.035-.06.06.06 0 0 1 .044-.052"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#5e4939",d:"M16.902 16.073a4.428 4.428 0 0 0-2.947-1.055 4.658 4.658 0 0 0-2.927 1.061 4.1 4.1 0 0 0-.98 1.212c-.248.49-.377.984-.382 1.467a.27.27 0 0 0 .482.168c.289-.374.563-.671.837-.907.295-.25.608-.46.93-.621a4.668 4.668 0 0 1 2.054-.496c.72-.006 1.4.156 2.029.482.647.332 1.24.85 1.765 1.54a.27.27 0 0 0 .483-.167c-.015-.974-.518-1.977-1.344-2.684"})))))),key:"sad",name:__("label.post.likes.reactions.sad")},angry:{icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#f16d24",d:"M0 13.957C0 6.249 6.248 0 13.957 0c7.708 0 13.956 6.249 13.956 13.957 0 7.708-6.248 13.957-13.956 13.957C6.248 27.914 0 21.665 0 13.957"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#ef6421",d:"M21.259 2.045a13.889 13.889 0 0 1 2.196 7.518c0 7.708-6.249 13.957-13.958 13.957-2.675 0-5.177-.755-7.301-2.062a13.947 13.947 0 0 0 11.761 6.44c7.708 0 13.956-6.25 13.956-13.957 0-5.031-2.662-9.44-6.654-11.896"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#f2824e",d:"M1.898 15.429c0-7.157 5.801-12.958 12.957-12.958 4.183 0 7.902 1.982 10.271 5.059a12.95 12.95 0 0 0-11.236-6.5C6.735 1.03.932 6.83.932 13.988c0 2.973 1.003 5.713 2.687 7.9a12.895 12.895 0 0 1-1.721-6.46"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M10.57 12c0 1.312-.625 2.375-1.393 2.375-.767 0-1.391-1.063-1.391-2.374 0-1.311.624-2.375 1.39-2.375.77 0 1.394 1.064 1.394 2.375"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M20.127 12c0 1.312-.623 2.375-1.392 2.375-.769 0-1.391-1.063-1.391-2.374 0-1.311.622-2.375 1.391-2.375.77 0 1.392 1.064 1.392 2.375"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#5e4939",d:"M19.677 20.16c.36.35.936-.037.75-.502a6.996 6.996 0 0 0-12.938-.129c-.195.458.387.854.744.508 2.042-1.98 6.38-4.798 11.444.123"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M11.714 8.947l-.936.936L7.655 6.76l.937-.936 3.122 3.123"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#303030",d:"M17.136 9.883l-.935-.936 3.122-3.123.935.936-3.122 3.123"})))))),key:"angry",name:__("label.post.likes.reactions.angry")}};var Ae=function(e){var t,n,r,o=e.onClick,i=e.userVote,l=e.sendMetrika,s=i&&i.toLowerCase()!==Te.notSet.key,u=i&&Te[i.toLowerCase()];return a.a.createElement("div",{className:Pe.a.container,onClick:function(){o&&o(s?Te.notSet.key:Te.like.key),l&&l(s?"clickunlike_button":"clicklike_button")},"data-test-id":s?"post-like-on":"post-like-off"},u?u.icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#8da5b1",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M8.244 5.55v0-2.6C8.244 1.873 7.238 1 6 1L3 6.85V14h8.45c.748 0 1.387-.464 1.5-1.105L14 7c0-.332-.08-.715-.368-1a1.596 1.596 0 0 0-1.147-.45zM3 14v0H1.8c-.442 0-.8-.57-.8-1.273V8.273C1 7.57 1.358 7 1.8 7H3v0"})))),a.a.createElement("div",{className:c()(Pe.a.text,(t={},n=Pe.a.selected,r=!!u,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},u?u.name:__("label.post.likes.likebutton.text")))},Se=n(113),je=n.n(Se);var Ie=Object(r.memo)((function(e){var t=e.userVote,n=e.onClick,o=e.sendMetrika;Object(r.useEffect)((function(){o&&o("viewreactions")}),[]);var i=function(e,t){n(e),!t&&o&&o("clickreaction_"+e)};function l(e){var n,r,o,l=t&&t.toUpperCase()===e.key.toUpperCase();return a.a.createElement("div",{className:c()(je.a.item,(n={},r=je.a.selected,o=l,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)),onClick:function(){return i(e.key,l)},"data-test-id":"select-reaction-"+e.key},e.icon,a.a.createElement("div",{className:je.a.tooltip},e.name))}return a.a.createElement("div",{className:je.a.container,"data-test-id":"reaction-popup"},a.a.createElement("div",{className:je.a.selector},l(Te.like),l(Te.heart),l(Te.ok),l(Te.laughing),l(Te.surprised),l(Te.sad),l(Te.angry)))})),Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Re=Object(r.memo)((function(e){var t=e.onChange,n=e.sendMetrika,o=Object(r.useState)(e.likes),i=De(o,2),c=i[0],l=i[1],s=Object(r.useState)(!1),u=De(s,2),p=u[0],d=u[1],m=Object(r.useState)(null),f=De(m,2),h=f[0],v=f[1],b=Object(r.useState)(!window.matchMedia("(pointer: coarse)").matches),g=De(b,1)[0],y=c.externalId,w=c.userVote,E=function(e){w.toUpperCase()!==e.toUpperCase()&&L.a.like({externalId:y,vote:e}).then((function(e){l(e),d(!1),t&&t(e)})).catch((function(e){}))},_=function(){d(!0),h&&(clearTimeout(h),v(null))},C=function(){return v(setTimeout((function(){return d(!1)}),250))},x=Ce(_,500),k=g?{onMouseEnter:_,onMouseLeave:C,onClick:_}:Ne({},x,{onMouseLeave:C});return y&&a.a.createElement("div",{className:ke.a.container},a.a.createElement("div",Ne({className:g?void 0:ke.a.noSelect},k),p&&a.a.createElement("div",{className:ke.a.tooltip},a.a.createElement(Ie,{onClick:E,userVote:w,sendMetrika:n})),a.a.createElement(Ae,{onClick:E,userVote:w,sendMetrika:n})))})),Me=n(136),Le=n.n(Me);var Ue=n(257),Fe=n.n(Ue);var ze=Object(r.memo)((function(e){var t=e.votes,n=Object.keys(Te).filter((function(e){return t[Te[e].key]>0})).sort((function(e,n){return t[e]>t[n]?-1:1})),r=n.slice(0,Math.min(3,n.length));return a.a.createElement("div",{className:Fe.a.icons},r.map((function(e){return a.a.createElement("div",{key:e},Te[e].icon)})))})),He=n(198),Ke=n.n(He),Be=n(199),Ve=n.n(Be),qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var We=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addEvents=function(e){var t=e&&e.parentElement;n.removeEvents(),t&&Object(y.a)(t,{click:n.handleParentClick,mouseleave:n.handleParentMouseLeave}),n.popoverRef=e,n.parentRef=t},n.removeEvents=function(){n.parentRef&&Object(y.d)(n.parentRef,{click:n.handleParentClick,mouseleave:n.handleParentMouseLeave})},n.handleParentClick=function(e){n.props.callback&&!n.props.callback(e)||n.setState({visible:!0})},n.handleParentMouseLeave=function(){n.setState({visible:!1})},n.state={visible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qe(t,[{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"render",value:function(){return a.a.createElement("div",{className:c()(Ve.a.tooltip,(e={},t=Ve.a.hide,n=!this.state.visible,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),ref:this.addEvents},this.props.children);var e,t,n}}]),t}(r.Component);var Ge=Object(r.memo)((function(e){var t=e.votes;function n(e){var n=+t[e.key];return 0===n?null:a.a.createElement("div",{className:Ke.a.item},e.icon,a.a.createElement("div",null,n))}return a.a.createElement(We,null,a.a.createElement("div",{className:Ke.a.container},n(Te.like),n(Te.heart),n(Te.ok),n(Te.laughing),n(Te.surprised),n(Te.sad),n(Te.angry)))}));var Je=Object(r.memo)((function(e){var t=e.likes,n=t.externalId,o=t.votes,i=t.userVote,c=function(e){return e?Object.keys(e).reduce((function(t,n){return t+e[n]}),0):0}(o),l=void 0;return l=i&&i.toUpperCase()!==Te.notSet.key.toUpperCase()?c>1?__("label.post.likes.reactions.count.text")+" "+(c-1):__("label.post.likes.reactions.count.useronly.text"):c,n&&a.a.createElement("div",{className:Le.a.container},c>0?a.a.createElement(r.Fragment,null,a.a.createElement(ze,{votes:o}),a.a.createElement("div",{className:Le.a.counter,"data-test-id":"post-like-counter"},a.a.createElement(Ge,{votes:o}),a.a.createElement("span",{className:Le.a.statistic},l))):a.a.createElement("span",{className:Le.a.noLikes},__("label.post.likes.nolikes")))})),Xe=n(105),Ye=n(258),Qe=n.n(Ye),Ze=n(152),$e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function et(e){var t=this,n=e.postId,o=e.isFavorite,i=e.sendMetrika,c=e.favoritesUrl,l=Object(r.useState)(!1),s=$e(l,2),u=s[0],p=s[1],d=Object(r.useState)(null),m=$e(d,2),f=m[0],h=m[1],v=a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"20",viewBox:"0 0 17 20"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#8da5b1",d:"M3.187 1.75l.112.007a.89.89 0 0 1 .778.883v3.624H1.75V3.187l.007-.138a1.438 1.438 0 0 1 1.292-1.292zm0-1.5l-.173.005A2.937 2.937 0 0 0 .25 3.187v3.28l.007.133a1.297 1.297 0 0 0 1.29 1.164h2.53v10.688l.006.123c.09 1.01 1.285 1.543 2.101.89l4.11-3.289 4.112 3.289.1.072c.844.56 2.007-.04 2.007-1.085V3.187l-.005-.173A2.937 2.937 0 0 0 13.576.25z"})))),b=a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"20",viewBox:"0 0 17 20"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#8da5b1",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M4.827 7.014v0h-3.28A.547.547 0 0 1 1 6.468V3.187C1 1.979 1.98 1 3.187 1h10.389c1.207 0 2.187.98 2.187 2.187v15.265c0 .459-.53.714-.889.427l-4.237-3.39a.548.548 0 0 0-.684 0l-4.237 3.39a.547.547 0 0 1-.889-.427V2.64A1.64 1.64 0 0 0 3.187 1"}))));Object(r.useEffect)((function(){h(u?__("label.post.favorites.selected.text").replace("{ $url }",c):__("label.post.favorites.text"))}),[u]),Object(r.useEffect)((function(){p(o)}),[o]);var g,y,w=(g=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=8;break}return p(!1),e.next=4,L.a.unsetFavorite(n);case 4:e.sent,i("del_favorites"),e.next=13;break;case 8:return p(!0),e.next=11,L.a.setFavorite(n);case 11:e.sent,i("set_favorites");case 13:case"end":return e.stop()}}),e,t)})),y=function(){var e=g.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(c)}("next")}))},function(){return y.apply(this,arguments)});return a.a.createElement("div",{className:Qe.a.container,"data-test-id":"add-favorite"},a.a.createElement(Ze.a,{html:f,timeout:400,zIndex:!0}),a.a.createElement("div",{onClick:w},u?v:b))}var tt=n(169),nt=n(142),rt=n(93),at=n(139),ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"19",viewBox:"0 0 20 19"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M14.122 16.74A3.774 3.774 0 0 0 16.954 18c.754 0 1.458-.22 2.046-.595a4.488 4.488 0 0 1-2.239-3.17 8.372 8.372 0 0 0 1.46-4.735c0-4.695-3.855-8.5-8.611-8.5S1 4.805 1 9.5 4.854 18 9.61 18c1.656 0 3.2-.46 4.512-1.26z"})))),st=a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"17",viewBox:"0 0 22 17"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#0087c0",d:"M13.109.45c.206-.035.385-.025.534.043l.086.047.026.02 8.06 6.756a.686.686 0 0 1 .214.555c-.03.121-.074.233-.16.367l-.073.105-8.08 6.72a.706.706 0 0 1-.738.028.842.842 0 0 1-.311-.431l-.033-.124-.001-3.298-.206-.037a14.01 14.01 0 0 0-1.29-.154l-.408-.022-.399-.007c-4.025.029-6.904 1.678-8.701 5a.896.896 0 0 1-.371.3l-.11.037-.208-.023-.09-.045a.825.825 0 0 1-.48-.628C.37 10.144 2.739 6.567 7.446 5a14.75 14.75 0 0 1 4.312-.773l.502-.007.374-.001.006-3.172a.889.889 0 0 1 .154-.356l.085-.098.1-.087zm.886 2.1l-.007 2.446c-.025.101-.06.196-.103.283l-.073.125-.083.083a.805.805 0 0 1-.328.131l-.121.009-1.02-.045c-5.327 0-8.621 2.08-9.956 6.257a12.24 12.24 0 0 0-.245.927l-.073.355.152-.169C4.096 10.837 6.706 9.737 9.95 9.66l.377-.005c.226 0 .452.007.678.02l.34.027.673.068.426.053.427.061.277.047.239.054.194.072c.188.113.32.269.387.497l.028.12v2.37l6.328-5.246z"})))),ut={withoutImage:500,withImage:350,expanded:1e3,displayedWithoutImage:350,displayedWithImage:350},pt={withoutImage:250,withImage:150,expanded:700,displayedWithoutImage:250,displayedWithImage:150};function dt(e,t,n){var r,a,o=t?pt:ut,i=n?o.withImage:o.withoutImage,c=(r=e,(a=document.createElement("div")).innerHTML=r,a.innerText.length),l=c>o.expanded,s=!l&&c>i,u=void 0;return(l||s)&&(u=n?o.displayedWithImage:o.displayedWithoutImage),{maxContentLength:u,showReadFullButton:l,showExpandButton:s}}var mt=function(e){return[e.author.firstName,e.author.middleName,e.author.lastName].filter((function(e){return!!e})).join(" ")};t.a=function e(t){var n,i=Object(r.useRef)(null),f=Object(r.useRef)(null),h=Object(r.useState)(!1),b=it(h,2),y=b[0],w=b[1],E=Object(r.useState)(!t.isShort),_=it(E,2),x=_[0],k=_[1],O=Object(r.useState)(null),P=it(O,2),T=P[0],A=P[1],S=Object(r.useState)(null),j=it(S,2),I=j[0],N=j[1],D=Object(r.useState)(t.imageViewMode),R=it(D,2),M=R[0],L=R[1],U=Object(r.useState)(!!t.post.thread),F=it(U,2),z=F[0],H=F[1],K=Object(r.useState)(!1),B=it(K,2),V=B[0],q=B[1],W=Object(r.useState)(!1),G=it(W,2),J=G[0],X=G[1],Y=Object(r.useState)(null),Q=it(Y,2),Z=Q[0],$=Q[1],ee=Object(r.useState)(+(t.post.commentsCount||0)),ne=it(ee,2),re=ne[0],ae=ne[1],oe=Object(r.useState)(t.post.likes),ie=it(oe,2),se=ie[0],de=ie[1],me=(Object(o.d)().l10n,t.userId),fe=t.post,he=t.editPost,ve=t.currentUser,be=t.smallFooter,ge=t.mobileFeed,ye=t.onCommentCountChange,we=t.onPostInteraction,_e=t.postReactionsClick,Ce=t.shareEnabled,xe=t.isShort,ke=t.inPopup,Oe=t.favoritesUrl,Pe=t.variant,Te=t.postSurvey,Ae=fe.id,Se=fe.isReaded,je=fe.text,Ie=fe.topicName,Ne=fe.topicUrl,De=fe.topicLogoUrl,Me=fe.permissions,Le=fe.createdDateUtc,Ue=fe.viewsCount,Fe=fe.isDeleted,ze=fe.postUrl,He=fe.attachmentsContainerId,Ke=fe.attachmentsContainer,Be=fe.duplicates,Ve=fe.eventKey,qe=fe.availableShortViewStatsOnly,We=fe.isFavorite,Ge=fe.topicType,Ye=fe.poll,Qe=fe.author.id===(window.dnevnik.user&&window.dnevnik.user.id),Ze=fe&&fe.eventKey&&fe.eventKey.startsWith("publicclub_"),$e=Ze&&!Qe,ut=Ve.startsWith("Analytics_user_"),pt="Educational"===Ge||"Authorities"===Ge,ft=Object(r.useState)(fe&&fe.communityId),ht=it(ft,2),vt=ht[0],bt=ht[1],gt=T&&(T.postId===Ae?fe:Be&&Be.find((function(e){return e.id===T.postId}))),yt=c()(ue.a.container,(ct(n={},ue.a.deleted,Fe),ct(n,ue.a.hidden,t.isHidden),ct(n,ue.a.container_short,xe),n)),wt=c()(ue.a.post,ct({},ue.a.post_with_duplicates,Be&&xe)),Et=window.dnevnik.urls,_t=Et.whiteList,Ct=Et.moderate,xt=Ke&&Ke.contentImage,kt=x?{}:dt(je,ge,xt),Ot=kt.maxContentLength,Pt=kt.showReadFullButton,Tt=kt.showExpandButton,At=function(e){t.sendMetrika?t.sendMetrika(e,Pe||null,Ve,Ae):Object(at.a)(e,Pe||null,Ve,Ae)},St=Tt?'... <a class="continue_reading" data-test-id="more">'+__("label.post.button.continue")+"...</a>":void 0,jt=Object(l.a)(je,ue.a.emoji,Ot,"",void 0,St),It=Object(v.b)(jt),Nt=Object(s.a)(It,_t,Ct),Dt=M&&Nt.length>150,Rt=function(e,t){ye&&ye(ot({},e,{id:Ae,value:t})),ae(re+t)},Mt=Ce?function(){At("clickshare"),Object(Xe.d)(ze),t.onShare&&t.onShare()}:void 0,Lt=function(e,t){return A({postId:t})};Object(r.useEffect)((function(){i.current&&(t.observer?t.observer.observe(i.current):At("viewpost"),Ke&&Ke.files&&Ke.files.filter((function(e){return!!e.contentImage})).length>0&&(t.attachmentsObserver?t.attachmentsObserver.observe(i.current):At("viewpost_photo")),Ye&&(t.postPollsObserver?t.postPollsObserver.observe(i.current):At("surveyview")),M&&f.current&&f.current.scrollIntoView())}),[]);var Ut=re>0?re+" "+Object(rt.a)(+re,[__("declension.comment.1"),__("declension.comment.2"),__("declension.comment.n")]):__("label.post.makecomment");return a.a.createElement("div",{ref:i,className:yt,"data-post-event-viewed":Se,"data-post-event-id":Ae,"data-post-event-duplicates":Be&&Be.map((function(e){return e.id})).join(","),"data-post-event-eventkey":Ve,"data-post-event-variant":Pe,style:t.style,"data-event-key":Ve,itemScope:!0,itemType:"http://schema.org/BlogPosting",itemProp:"identifier",content:Ae},!y&&xe&&a.a.createElement(ce,{duplicates:Be,permissions:Me,userId:me,onClick:Lt}),y?a.a.createElement("div",{className:ue.a.editor_wrapper,style:t.style},a.a.createElement(g,{post:t.post,currentUser:ve,onClose:function(){return w(!1)},editPost:he,postSurvey:Te,poll:Ye})):a.a.createElement("div",{className:wt,style:t.style,"data-test-id":"post-container"},a.a.createElement("div",{className:ue.a.header},ut&&a.a.createElement("div",{className:ue.a.avatarContainer},a.a.createElement("img",{src:De,className:ue.a.avatar,alt:"pic"}),!Se&&a.a.createElement("div",{className:ue.a.unviwed_mark})),!ut&&a.a.createElement("div",{className:ue.a.avatarContainer},a.a.createElement("a",{href:Ne,onClick:we},a.a.createElement("img",{src:De,className:ue.a.avatar,alt:"pic"})),!Se&&a.a.createElement("div",{className:ue.a.unviwed_mark})),a.a.createElement("div",{className:ue.a.info},ut&&a.a.createElement("span",{className:ue.a.name,itemProp:"headline"},Ie),!ut&&a.a.createElement("a",{className:ue.a.name,itemProp:"headline",href:Ne,onClick:we},Ie),a.a.createElement("div",{className:ue.a.createInfo},ke?a.a.createElement("span",{"data-test-id":"post-date"},Object(d.a)(Le,!1)):a.a.createElement("a",{onClick:function(e){e.preventDefault(),Lt(0,Ae)},itemProp:"url",href:ze,"data-test-id":"post-date"},Object(d.a)(Le,!1)),a.a.createElement("meta",{itemProp:"datePublished",content:new Date(1e3*Le).toISOString()}),pt&&a.a.createElement("span",null,". "),pt&&(ge?a.a.createElement("span",{"data-test-id":"post-author"},mt(fe)):a.a.createElement("a",{href:fe.author.redirectUrl,onClick:function(){return At("clickauthor")},"data-test-id":"post-author"},mt(fe))))),a.a.createElement("div",{className:ue.a.buttons_block},a.a.createElement(et,{postId:Ae,isFavorite:We,sendMetrika:At,favoritesUrl:Oe}),Me&&(Me.delete||Me.edit||$e)&&a.a.createElement(C,{eventKey:Ve,postId:Ae,permissions:Me,onShowInlineEdit:function(){return w(!0)},deletePost:t.deletePost,complaintEnabled:$e,onComplaint:function(e,t){$({id:e,eventKey:t}),q(!0)},setShowUnsubscribePopup:X,showUnsubscribePopover:vt}))),a.a.createElement("div",{className:Dt?ue.a.partial_view:void 0},a.a.createElement("div",{"data-test-id":"post_text",onClick:Tt?function(e){"continue_reading"===e.target.className&&(k(!0),At("clickfull"))}:void 0,className:c()(ue.a.content,ct({},ue.a.content_short,xe)),dangerouslySetInnerHTML:{__html:Nt},itemProp:"articleBody"}),Dt&&a.a.createElement("div",{className:ue.a.read_text},a.a.createElement("div",{onClick:function(){L(!1),At("clickreadfull")},className:ue.a.read_text_button,"data-test-id":"read-full-in-popup"},__("label.post.readtext")))),Pt&&a.a.createElement("div",{className:ue.a.read_full_button},a.a.createElement(m.a,{size:"small",appearance:"secondary",href:ze,target:"_blank",onClick:function(e){e.preventDefault(),At("clickreadfull"),Lt(0,Ae)},testId:"read-full"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",viewBox:"0 0 18 20"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#0087c0",d:"M14.235 7.662v1.5H3.647v-1.5zM10 11.368v1.5H3.647v-1.5zm-2.118 3.706v1.5H3.647v-1.5zm4.236-11.118v1.5h-8.47v-1.5zm.53 9.97c-.712 0-1.296.543-1.362 1.236l-.007.132v2.001l3.675-3.369zm4.984-10.808v9.593c0 .507-.212.991-.586 1.333l-5.706 5.23a1.81 1.81 0 0 1-1.222.476h-7A2.868 2.868 0 0 1 .25 16.882V3.118A2.868 2.868 0 0 1 3.118.25h11.647a2.868 2.868 0 0 1 2.867 2.868zm-15.882 0v13.764c0 .756.612 1.368 1.368 1.368h6.661v-2.956a2.868 2.868 0 0 1 2.7-2.863l.168-.005h3.485V3.118c0-.756-.612-1.368-1.367-1.368H3.118c-.756 0-1.368.612-1.368 1.368z"})))),a.a.createElement("span",null,__("label.post.button.readfull")))),Ke&&a.a.createElement("div",{className:ue.a.attachments,ref:f},a.a.createElement(p.a,{key:He,container:Ke,viewOnly:!0,onFileClick:we,multiplePreviews:!0,fullView:!xe,onImagesClick:function(){A({postId:Ae,imageViewMode:!0}),At("click_photo")},mobileFeed:ge,sendPostsCompactMetrika:function(e){return At(e)},poll:Ye})),!Ke&&Ye&&a.a.createElement(nt.a,{sendMetrika:At,poll:Ye,pollId:Ye.id}),!ut&&a.a.createElement("div",{className:ue.a.counters},_e&&se&&a.a.createElement(Je,{likes:se,sendMetrika:At}),a.a.createElement("div",{className:ue.a.viewsCountContainer},be?a.a.createElement("div",{className:ue.a.viewsCount},a.a.createElement(u,null),a.a.createElement("div",null,Ue)):a.a.createElement(te,{eventKey:Ve,postId:Ae,viewsCount:Ue,canExpand:Me&&Me.viewStatistic,availableShortViewStatsOnly:qe}))),!ut&&a.a.createElement("div",{className:ue.a.footer},_e&&se&&a.a.createElement("div",{className:ue.a.likesContainer},a.a.createElement(Re,{likes:se,sendMetrika:At,onChange:function(e){return de(e)},mobile:ge})),a.a.createElement("div",{className:ue.a.commentsCount,onClick:function(){H(!0),we&&we(),At("clickcomments")}},lt,a.a.createElement("div",{"data-test-id":"comment-counter",onClick:function(){return N(Date.now())},className:ue.a.commentsCountText},Ut)),Ce&&a.a.createElement("div",{className:ue.a.share,onClick:Mt,"data-test-id":"share-post"},st))),z&&!xe&&a.a.createElement("div",{className:ue.a.comments_title},__("label.post.comments")+(re?" ("+re+")":"")),z&&a.a.createElement("div",{className:c()(ue.a.commentsContainer,ct({},ue.a.comments,!xe))},a.a.createElement(le.a,{eventKey:fe.discussionsSettings.eventKey,eventUrl:fe.discussionsSettings.eventUrl,eventSign:fe.discussionsSettings.eventSign,thread:fe.thread,onCommentCreate:function(e){Rt(e,1),At("sendcomment")},onCommentDelete:function(e,t){Rt(e,t-re)},onCommentEditStart:function(){return At("edit_comment_start")},onCommentEditDone:function(){return At("edit_comment_done")},shortWidget:xe,onCommentsView:function(){return At("viewcomment")},onCommentLike:function(e){return At(e?"likecomment":"unlikecomment")},onCommentInteraction:we,complaintEnabled:Ze,forceUpdate:t.forceUpdateComments,mobileFeed:ge,scrollOnEditorClick:ke,addComment:I})),V&&a.a.createElement(pe.a,ot({},Z,{type:"post",onClose:function(){return q(!1)}})),J&&a.a.createElement(Ee,{onClose:function(){return X(!1)},communityId:fe.communityId,postId:Ae,setShowUnsubscribePopover:bt}),gt&&a.a.createElement(tt.a,{onClose:function(){A(null),At("close_popup")}},a.a.createElement(e,{key:"popup-"+gt.id,post:gt,editPost:he,deletePost:t.deletePost,currentUser:t.currentUser,onPostInteraction:we,shareEnabled:Ce,postReactionsClick:_e,onShare:function(){return A(null)},imageViewMode:T.imageViewMode,mobileFeed:ge,favoritesUrl:Oe,inPopup:!0,forceUpdateComments:!0,variant:"postfull_popup"})))}},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(75),l=n.n(c);function s(e){var t=e.children,n=e.onClose,o=e.onPrev,c=e.onNext,s=window.dnevnik.settings.environmentPrefix.toLowerCase(),u=""===s?"logo_dnevnik":"logo_"+s;return Object(r.useEffect)((function(){return document.body.style.overflow="hidden",document.body.scrollHeight>window.innerHeight&&(document.body.style.paddingRight="17px",document.body.style.boxSizing="border-box"),function(){document.body.style.overflow="auto",document.body.style.paddingRight="0px"}}),[]),a.a.createElement("div",{className:i()(l.a.overlay)},a.a.createElement("div",{className:l.a.container},a.a.createElement("div",{className:l.a[u]}),a.a.createElement("div",{className:l.a.closeContainer},a.a.createElement("div",{className:l.a.closeButton,onClick:n,"data-test-id":"close-full"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},a.a.createElement("g",null,a.a.createElement("g",{opacity:".56"},a.a.createElement("path",{d:"M8.939 7l4.524-4.524c.26-.247.412-.591.412-.976a1.379 1.379 0 0 0-2.351-.976L7 5.06 2.476.524A1.379 1.379 0 0 0 .524 2.477L5.06 7 .538 11.524a1.328 1.328 0 0 0-.413.976 1.379 1.379 0 0 0 2.351.976L7 8.94l4.524 4.524c.247.26.591.412.976.412a1.379 1.379 0 0 0 .976-2.351z"})))),a.a.createElement("span",{className:l.a.closeButtonText},__("label.post.button.exit"))),o&&a.a.createElement("div",{className:l.a.prevButton,onClick:o,"data-test-id":"previous-button"}),c&&a.a.createElement("div",{className:l.a.nextButton,onClick:c,"data-test-id":"next-button"})),t))}},17:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return Object.keys(e).forEach((function(n){e[n]=t(n)})),e},a=function(e){return e?Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""}},170:function(e,t,n){e.exports={aspectRatioContainer:"_1xU-O",aspectRatioContent:"_5nW9m"}},176:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(){return{arrowsIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("defs",null,a.a.createElement("path",{id:"j06ka",d:"M496 1012c7.73 0 14.34-2.73 19.8-8.2A26.99 26.99 0 0 0 524 984c0-7.73-2.73-14.34-8.2-19.8A26.99 26.99 0 0 0 496 956a26.99 26.99 0 0 0-19.8 8.2A26.99 26.99 0 0 0 468 984c0 7.73 2.73 14.34 8.2 19.8a26.99 26.99 0 0 0 19.8 8.2zm0-58a28.9 28.9 0 0 1 21.21 8.79A28.9 28.9 0 0 1 526 984a28.9 28.9 0 0 1-8.79 21.21A28.9 28.9 0 0 1 496 1014a28.9 28.9 0 0 1-21.21-8.79A28.9 28.9 0 0 1 466 984a28.9 28.9 0 0 1 8.79-21.21A28.9 28.9 0 0 1 496 954zm4.8 37.97c.63 0 .94.35.94 1.05 0 .63-.31.94-.94.94h-18.16l5.98 5.27c.54.47.58.94.11 1.41-.23.24-.46.35-.7.35-.15 0-.39-.08-.7-.23l-7.97-7.03-.24-.24v-.11c-.07-.08-.11-.2-.11-.36 0-.23.04-.39.12-.47l.23-.23v-.12l7.97-6.91c.55-.4 1.01-.4 1.4 0 .4.55.36 1.01-.11 1.4l-5.98 5.28zm12.54-17.93c.47.16.7.47.7.94l-.11.11.12.12c0 .24-.12.47-.35.7l-7.97 7.86a1.8 1.8 0 0 1-.7.23c-.4 0-.63-.12-.71-.35-.55-.4-.55-.86 0-1.4l6.45-6.22h-17.58c-.63 0-.94-.35-.94-1.05 0-.63.31-.94.94-.94h17.22l-6.09-6.33c-.62-.47-.62-.94 0-1.4.47-.47.94-.47 1.4 0z"})),a.a.createElement("use",{fill:"#ff9400",xlinkHref:"#j06ka",transform:"translate(-466 -954)"})),checkIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("defs",null,a.a.createElement("path",{id:"xi5ka",d:"M496 1711c7.73 0 14.34-2.73 19.8-8.2a26.99 26.99 0 0 0 8.2-19.8c0-7.73-2.73-14.34-8.2-19.8a26.99 26.99 0 0 0-19.8-8.2 26.99 26.99 0 0 0-19.8 8.2 26.99 26.99 0 0 0-8.2 19.8c0 7.73 2.73 14.34 8.2 19.8a26.99 26.99 0 0 0 19.8 8.2zm0-58a28.9 28.9 0 0 1 21.21 8.79A28.9 28.9 0 0 1 526 1683a28.9 28.9 0 0 1-8.79 21.21A28.9 28.9 0 0 1 496 1713a28.9 28.9 0 0 1-21.21-8.79A28.9 28.9 0 0 1 466 1683a28.9 28.9 0 0 1 8.79-21.21A28.9 28.9 0 0 1 496 1653zm11.94 20.39c.47-.47.94-.43 1.41.12.47.47.43.93-.12 1.4l-18.86 17.69a1.8 1.8 0 0 1-.7.23c-.24 0-.47-.11-.7-.35l-6.33-6.2c-.39-.47-.39-.98 0-1.53.55-.39 1.02-.39 1.4 0l5.63 5.62z"})),a.a.createElement("use",{fill:"#1bcd43",xlinkHref:"#xi5ka",transform:"translate(-466 -1653)"})),deleteIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("defs",null,a.a.createElement("path",{id:"gpj7a",d:"M505.96 1334.05c0 .62.35.93 1.06.93.62 0 .93-.3.93-.93v-28.01c0-.7-.3-1.06-.93-1.06-.7 0-1.06.36-1.06 1.06zm-11.01-28.01v28c0 .63.35.94 1.05.94.7 0 1.05-.3 1.05-.93v-28.01c0-.7-.35-1.06-1.05-1.06-.7 0-1.05.36-1.05 1.06zm-10.9 0v28c0 .63.3.94.93.94.7 0 1.06-.3 1.06-.93v-28.01c0-.7-.35-1.06-1.06-1.06-.62 0-.93.36-.93 1.06zm-8.09 37.97v-48.05h40.08v48.05zm30-56.02v5.98h-19.92v-5.98zm2 5.98v-6.92c0-.7-.32-1.05-.94-1.05h-22.04c-.62 0-.93.35-.93 1.05v6.92h-17c-.7 0-1.05.35-1.05 1.05 0 .63.35.94 1.05.94h6.92v48.99c0 .7.35 1.05 1.05 1.05h41.96c.7 0 1.05-.35 1.05-1.05v-48.99h6.92c.7 0 1.05-.31 1.05-.94 0-.7-.35-1.05-1.05-1.05z"})),a.a.createElement("use",{fill:"red",xlinkHref:"#gpj7a",transform:"translate(-466 -1286)"})),lockIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"42",height:"60",viewBox:"0 0 42 60"},a.a.createElement("defs",null,a.a.createElement("path",{id:"doeva",d:"M521.05 327v-31.98h-38.09V327zm-32-41.95v7.97h25.9v-7.97c0-3.59-1.23-6.83-3.69-9.72a11.72 11.72 0 0 0-9.31-4.34 11.6 11.6 0 0 0-9.2 4.34 14.62 14.62 0 0 0-3.7 9.72zm27.9 0v7.97h6.09V329h-42.07v-35.98h5.98v-7.97c0-4.06 1.42-7.75 4.27-11.07a13.55 13.55 0 0 1 10.73-4.98c4.3 0 7.87 1.66 10.72 4.98a16.59 16.59 0 0 1 4.28 11.07zM501 308.73a1.9 1.9 0 0 1-1.06-1.76c0-.55.2-1.02.59-1.4.4-.4.86-.6 1.4-.6.55 0 1.04.2 1.47.6.43.38.65.85.65 1.4a1.9 1.9 0 0 1-1.06 1.76v6.8c0 .7-.35 1.05-1.05 1.05-.63 0-.94-.35-.94-1.06z"})),a.a.createElement("use",{fill:"red",xlinkHref:"#doeva",transform:"translate(-481 -269)"})),searchIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("defs",null,a.a.createElement("path",{id:"or7ua",d:"M493.98 639.96c5.23 0 9.7-1.85 13.41-5.57a18.29 18.29 0 0 0 5.57-13.41c0-5.24-1.85-9.71-5.57-13.42a18.29 18.29 0 0 0-13.41-5.57c-5.24 0-9.71 1.86-13.42 5.57a18.29 18.29 0 0 0-5.57 13.42c0 5.23 1.86 9.7 5.57 13.41a18.29 18.29 0 0 0 13.42 5.57zm15.7-4.69l23.09 22.97c.39.55.39 1.06 0 1.53-.32.15-.59.23-.82.23-.16 0-.4-.08-.7-.23l-22.98-23.09-.11-.23a20.5 20.5 0 0 1-14.18 5.5 20.2 20.2 0 0 1-14.83-6.15 20.2 20.2 0 0 1-6.15-14.82 20.2 20.2 0 0 1 6.15-14.83 20.2 20.2 0 0 1 14.83-6.15 20.2 20.2 0 0 1 14.82 6.15 20.2 20.2 0 0 1 6.15 14.83 20.5 20.5 0 0 1-5.5 14.18c.07 0 .15.04.23.11z"})),a.a.createElement("use",{fill:"red",xlinkHref:"#or7ua",transform:"translate(-473 -600)"})),docxIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"60",height:"60",viewBox:"0 0 60 60"},a.a.createElement("defs",null,a.a.createElement("path",{id:"yjf2a",d:"M511.32 982.68c-.55-.4-.55-.86 0-1.4l5.27-5.28-5.27-5.27c-.55-.55-.55-1.02 0-1.41.4-.55.86-.55 1.4 0l5.28 5.27 5.27-5.27c.55-.55 1.02-.55 1.41 0 .55.4.55.86 0 1.4l-5.27 5.28 5.27 5.27c.55.55.55 1.02 0 1.41-.08.23-.31.35-.7.35-.24 0-.47-.12-.7-.35l-5.28-5.27-5.27 5.27c-.24.23-.47.35-.7.35-.4 0-.63-.12-.71-.35zm6.68-19.69c-3.6 0-6.66 1.27-9.2 3.81a12.53 12.53 0 0 0-3.8 9.2c0 3.6 1.26 6.66 3.8 9.2 2.54 2.54 5.6 3.8 9.2 3.8 3.6 0 6.66-1.26 9.2-3.8 2.54-2.54 3.8-5.6 3.8-9.2 0-3.6-1.26-6.66-3.8-9.2a12.53 12.53 0 0 0-9.2-3.8zM503 976c0-4.14 1.46-7.68 4.4-10.6A14.45 14.45 0 0 1 518 961c4.14 0 7.68 1.46 10.6 4.4A14.45 14.45 0 0 1 533 976c0 4.14-1.46 7.68-4.4 10.6A14.45 14.45 0 0 1 518 991c-4.14 0-7.68-1.46-10.6-4.4A14.45 14.45 0 0 1 503 976zm0-41.6v8.55h8.55zm-28.95 50.62c-.7 0-1.05-.35-1.05-1.05v-51.92c0-.7.35-1.05 1.05-1.05h27.9c.23 0 .39.04.46.12.08 0 .2.08.36.23l11.95 11.95c0 .08.04.16.12.24l.11.12v11.01h-1.99v-9.72h-11.01c-.63 0-.94-.32-.94-.94v-11.02h-26.02v50.04h24.26v2z"})),a.a.createElement("use",{fill:"red",xlinkHref:"#yjf2a",transform:"translate(-473 -931)"})),questionCheckIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"61",height:"59",viewBox:"0 0 61 59"},a.a.createElement("defs",null,a.a.createElement("path",{id:"xdq5a",d:"M535.128 704.036c.397-.397.873-.437 1.429-.12.396.557.396 1.034 0 1.432L525.72 717.39l-6.788-6.916c-.476-.477-.476-.953 0-1.43.397-.318.874-.318 1.43 0l5.239 5.365zm-7.383 18.943c2.7 0 5.16-.754 7.384-2.263 3.89-2.701 5.836-6.355 5.836-10.961 0-2.7-.755-5.163-2.263-7.387-2.7-3.892-6.352-5.838-10.957-5.838-2.7 0-5.16.755-7.384 2.264-3.89 2.7-5.836 6.354-5.836 10.96 0 2.701.755 5.163 2.263 7.387 2.7 3.892 6.352 5.838 10.957 5.838zm.005-28.474c3.177 0 6.116.953 8.816 2.859 4.29 3.018 6.434 7.148 6.434 12.39 0 3.178-.953 6.116-2.86 8.817-3.018 4.29-7.148 6.434-12.39 6.434-3.177 0-6.116-.954-8.816-2.86-4.29-3.018-6.434-7.148-6.434-12.39 0-3.177.953-6.116 2.86-8.817 3.018-4.289 7.148-6.433 12.39-6.433zm-18.229-28.475c7.228 0 13.622 2.065 19.182 6.195 6.116 4.607 9.174 10.167 9.174 16.68 0 1.51-.159 2.86-.477 4.05l-1.906-.357a20.03 20.03 0 0 0 .358-3.693c-.08-4.845-2.105-9.253-6.077-13.225-5.4-5.083-12.152-7.625-20.254-7.625-6.274 0-11.834 1.708-16.68 5.123-5.877 4.13-8.816 9.373-8.816 15.727.08 5.798 2.542 10.643 7.387 14.535.318.318.397.715.238 1.192l-4.408 9.173 12.033-5.36c.239-.08.477-.08.715 0a34.578 34.578 0 0 0 7.506 1.31l-.12 2.025c-2.461-.159-5.003-.596-7.624-1.31l-14.297 6.314c-.159.08-.278.12-.357.12-.318-.08-.556-.2-.715-.358-.238-.239-.318-.636-.238-1.192l5.36-10.842c-4.924-4.289-7.426-9.491-7.505-15.607 0-5.48 2.145-10.365 6.434-14.654 5.48-5.48 12.51-8.221 21.087-8.221z"})),a.a.createElement("use",{fill:"#1bcd43",xlinkHref:"#xdq5a",transform:"translate(-482 -666)"}))}}},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e){var t=e.innerHTML.match(/<img .*?>/g);return t=t?t.length:0,(/^\s+$/.test(e.innerText)?0:e.innerText.length)+t},a=function(){return"undefined"!=typeof InstallTrigger},o=function(e,t){if(!e||!t)return null;var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:n.top-r.top,right:n.right-r.right,bottom:n.bottom-r.bottom,left:n.left-r.left,width:n.width}},i=function(e){var t=void 0,n=void 0;window.getSelection?(n=window.getSelection()).getRangeAt&&n.rangeCount&&(t=n.getRangeAt(0)):document.selection&&document.selection.createRange&&(t=document.selection.createRange());var r=o(t,e),i={};return t&&t.toString().length>0&&(i=function(e){var t={bold:!1,italic:!1,link:!1};return document.queryCommandState&&(t.bold=document.queryCommandState("bold"),t.italic=document.queryCommandState("italic")),t.link=a?!!(e.startContainer&&"A"===e.startContainer.parentNode.tagName||e.startContainer&&"A"===e.endContainer.parentNode.tagName):!(!e.startContainer||"A"!==e.startContainer.parentNode.tagName||!e.startContainer||"A"!==e.endContainer.parentNode.tagName),t}(t)),{inputRange:t,inputSel:n,selPos:r,activeElements:i}},c=function(e,t,n,r,a){var o=document.createElement(e);if(n&&Object.keys(n).map((function(e,t){return o.setAttribute(e,n[e])})),a&&(o.innerHTML=a),r&&r.insertBefore(o,r.firstChild),t){if(window.getSelection){var i=window.getSelection();i.removeAllRanges(),i.addRange(t)}else document.selection&&t.select&&t.select();window.getSelection?(t.insertNode(o),t.collapse(!1)):document.selection&&document.selection.createRange&&t.pasteHTML(o),t.setStartAfter(o),t.setEndAfter(o)}},l=function(e,t){var n=window.getSelection(),r=document.createRange();t?(r.setStart(e,t),r.setEnd(e,t)):r.selectNodeContents(e),r.collapse(!1);try{n.removeAllRanges()}catch(e){console.log(e)}n.addRange(r)}},183:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=window.__POST__INITIAL__STATE__||{},o=a.wall&&a.wall.eventKey||null,i=a.wall&&a.wall.type||null,c=a.wall&&a.wall.environmentPrefix||null;t.a=function(){return{popupsVisibility:{createPopup:!1,captchaPopup:!1,deletePopup:!1,errorPopup:!1,exitPopup:!1,successPopup:!1,viewPopup:!1},postWidgetContent:{posts:null,text:"",attachmentsContainerId:null,eventKey:o,targetName:"",schoolName:a.schoolName,topics:a.topics,selectedTopics:[],widgetYaMetrikaGoal:a.widgetYaMetrikaGoal,wallType:i,environmentPrefix:c,favoritesUrl:a.favoritesUrl,postSurvey:a.postSurvey},currentUser:r({},a.user),postWidgetUiState:{isFetching:!1}}}},185:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=[];function a(e){r.push(e)}function o(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}function i(e){r.forEach((function(t){return t(e)}))}},186:function(e,t,n){e.exports={container:"_1-scM",blue_button:"dDjIx",spinner:"_2iLUv"}},188:function(e,t,n){e.exports={btn_replies:"_2UHAN",btn_default:"_315ML",btn_large:"_255tr"}},189:function(e,t,n){e.exports={content:"_2i0DO",emoji:"_2sxEH"}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(3),a=n(146),o=n(13),i=n(167),c=n.n(i),l={isNotEmpty:function(e){return void 0!==e&&!c()(e)}},s=function(e,t,n){if("function"==typeof t)return t(e,n);var r=!1,a=Object.keys(t).reduce((function(a,o){var i=function(e,t,n){if("function"==typeof t)return t(e,n);var r=Object.keys(t).find((function(t){return!l[t](e)}));return!!r&&t[r]}(e[o],t[o],n);return null!==i&&!1!==i&&(a[o]=i,r=!0),a}),{});return r?a:null},u=n(17),p=function(e,t){return Object(u.b)(t,(function(t){return e+"/"+t}))},d=function(e,t){var n=regeneratorRuntime.mark(i);function i(i){var c,l,u=i.payload,p=i.meta;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p&&p.validation&&(c=s(u,p.validation))&&o.c.validationException(c),n.next=4,Object(r.b)(t,u);case 4:return l=n.sent,p&&p.schema&&(l=Object(a.a)(l,p.schema)),n.next=8,Object(r.e)({type:e+"_COMPLETE",payload:l,meta:p});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(r.e)({type:e+"_FAILED",payload:n.t0,meta:p});case 14:case"end":return n.stop()}}),n,this,[[0,10]])}return i},m=function(e,t){return(n=d,function(e,t){var a=regeneratorRuntime.mark(i),o=n(e,t);function i(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.i)(e,o);case 2:case"end":return t.stop()}}),a,this)}return i})(e,t);var n}},196:function(e,t,n){e.exports={container:"hxJ2B",info:"_2bTJa"}},197:function(e,t,n){e.exports={container:"_3QJlT",popover:"PTpAn"}},198:function(e,t,n){e.exports={container:"zhFEf",item:"_2BNCm"}},199:function(e,t,n){e.exports={tooltip:"_13rqy",hide:"_1xEOO"}},20:function(e,t,n){e.exports={icon_button_container:"_3j0jg",icon:"_2M_Sj",primary:"_2H2DP",disabled:"_1Vp6j",fit:"_3oxp5",secondary:"_3rWCL",link:"_3LpIv",big:"mYaxR",small:"_17uKU","big-narrow":"_3pTy2",orange:"_3JL3N",green:"UjL8h",white:"_138f0",primary_subscription:"_6NBT3"}},205:function(e,t,n){e.exports={input:"wQPhb"}},209:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(217),i=n.n(o),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){return a.a.createElement("textarea",c({className:i.a.input,"data-test-id":this.props.testId,type:"text"},this.props))}}]),t}(r.PureComponent);t.a=p},210:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(59),l=n(45),s=n.n(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation()},r.pickEmojis=function(e){e.preventDefault(),e.stopPropagation(),e.target.attributes.class.value===s.a.emoji&&r.props.onClick(e.target)},r.handleMouseEnter=function(){r.state.expanded||(r.showTimer=setTimeout((function(){return r.setState({expanded:!0})}),300)),r.hideTimer&&clearTimeout(r.hideTimer)},r.handleMouseLeave=function(){r.showTimer&&clearTimeout(r.showTimer),r.hideTimer=setTimeout((function(){return r.setState({expanded:!1})}),600)},r.handleOnClick=function(e){r.state.expanded||(r.showTimer=setTimeout((function(){return r.setState({expanded:!0})}),0))},r.state={expanded:!1},r.content=Object.keys(c.c).map((function(e,t){return a.a.createElement("div",{key:t,id:e,data:"emojis",className:s.a.emoji,style:{backgroundPosition:c.c[e].position}})})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidUpdate",value:function(e,t){t.expanded&&!this.state.expanded&&(clearTimeout(this.hideTimer),clearTimeout(this.showTimer))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.hideTimer),clearTimeout(this.showTimer)}},{key:"render",value:function(){var e=this.state.expanded,t=this.props,n=t.flexible,r=t.alignTop;return a.a.createElement("div",{data:"emojis",className:n?s.a.container:s.a.container_fixed,onClick:this.handleOnClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown},a.a.createElement("div",{data:"emojis",className:s.a.wrapper},a.a.createElement("div",{className:s.a.icon}),e&&a.a.createElement("div",{data:"emojis",className:r?s.a.arrow_wrapper_top:s.a.arrow_wrapper,onMouseLeave:this.handleMouseLeave},a.a.createElement("div",{data:"emojis",className:r?s.a.emojis_container_top:s.a.emojis_container},a.a.createElement("div",{data:"emojis",className:s.a.emojis_picker,onMouseDown:this.pickEmojis},this.content)))))}}]),t}(r.Component);p.propTypes={onClick:i.a.func.isRequired},t.a=p},211:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(24),l=n(5),s=n(127),u=n(31),p=n.n(u),d=n(43),m=n(26),f=n(118),h=n(78),v=n(8),b=n(33),g=n.n(b),y=n(128),w=n(145),E=n(77),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var x=0;function k(){return{id:x+=1,text:""}}var O=Object(r.memo)((function(e){var t=e.onClose,n=e.onCreateAttempt,o=e.onPollCreated,i=e.createButtonText,l=Object(r.useState)(!1),s=C(l,2),u=s[0],p=s[1],d=Object(r.useState)(""),m=C(d,2),f=m[0],b=m[1],x=Object(r.useState)([k(),k()]),O=C(x,2),P=O[0],T=O[1],A=Object(r.useState)(""),S=C(A,2),j=S[0],I=S[1],N=P.length<10,D=P.length>2;return a.a.createElement(h.a,{title:__("polls.create.title"),onClose:t,disableClose:u},a.a.createElement("div",{className:g.a.container},a.a.createElement("div",{className:g.a.pollData},a.a.createElement("div",{className:g.a.pollDescription},a.a.createElement("div",{className:g.a.pollInfo},a.a.createElement("div",{className:g.a.text},__("polls.create.question")),a.a.createElement("div",{className:g.a.option},a.a.createElement(y.a,{value:P.name,name:"text",onChange:function(e){return b(e.target.value)},maxLength:1e3,placeholder:__("polls.create.question.placeholder"),"data-test-id":"poll-question-field"}))),a.a.createElement("div",{className:g.a.pollInfo},a.a.createElement("div",{className:g.a.text},__("polls.create.options")),P.map((function(e,t){return a.a.createElement("div",{className:g.a.option,key:"option"+e.id},a.a.createElement(y.a,{name:"option"+e.id,value:e.text,onChange:function(t){return n=e.id,r=t.target.value,a=P.map((function(e){return e.id===n?_({},e,{text:r}):e})),void T(a);var n,r,a},maxLength:1e3,placeholder:__("polls.create.options.placeholder"),"data-test-id":"poll-answer-field-"+(t+1)}),D&&a.a.createElement("div",{className:g.a.deleteOption,"data-test-id":"delete_answer",onClick:function(){return t=e.id,void(P.length<=2||T(P.filter((function(e){return e.id!==t}))));var t}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#b6b6b6",d:"M12.41 0L7.527 4.883a1 1 0 0 1-1.414 0L1.23 0-.18 1.41l4.883 4.883a1 1 0 0 1 0 1.414L-.18 12.59 1.23 14l4.883-4.883a1 1 0 0 1 1.414 0L12.41 14l1.41-1.41-4.883-4.883a1 1 0 0 1 0-1.414L13.82 1.41z"}))))))})),N&&a.a.createElement("div",{className:g.a.addOption,onClick:function(){T([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(P),[k()]))},"data-test-id":"add-poll-answer-button"},__("polls.create.addoption")),j&&a.a.createElement(w.a,{error:j})))),u?a.a.createElement("div",null,a.a.createElement(c.a,null)):a.a.createElement("div",{className:g.a.buttons},a.a.createElement("div",{className:g.a.button_container},a.a.createElement(v.a,{onClick:function(){n&&n();var e=P.filter((function(e){return!!e.text}));if(!f||e.length<2)I(__("polls.create.error"));else if(I(""),!u){p(!0);var r={text:f,options:e.map((function(e){return{text:e.text}}))};E.a.createPoll(r).then((function(e){o(e),p(!1),t()}),(function(){return p(!1)}))}},testId:"create-poll-button"},a.a.createElement("span",null,i||__("polls.create.send")))))))})),P=n(117),T=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=window.__MEDIA_WIDGET__INITIAL__STATE__&&window.__MEDIA_WIDGET__INITIAL__STATE__.maxUploadFileSize||null;t.a=Object(r.memo)((function(e){var t=Object(r.useState)(null),n=T(t,2),o=n[0],u=n[1],h=Object(r.useState)(!1),v=T(h,2),b=v[0],g=v[1],y=Object(r.useState)(!1),w=T(y,2),E=w[0],_=w[1],C=Object(s.a)(!1),x=T(C,3),k=x[0],j=x[1],I=x[2],N=e.pollIsNotAvailable,D=e.postSurvey,R=e.attachmentsContainerId,M=Object(r.useState)(!1),L=T(M,2),U=L[0],F=L[1],z=Object(r.useState)(!1),H=T(z,2),K=H[0],B=H[1],V=Object(r.useRef)(),q=function(e){V.current&&!V.current.contains(e.target)&&B(!1)};Object(r.useEffect)((function(){return K&&Object(l.b)({click:q}),function(){Object(l.e)({click:q})}}),[K]),Object(r.useEffect)((function(){U&&e.sendCreationPostMetrika&&e.sendCreationPostMetrika("add_survey_error",e.popup?"popup":"inline",e.eventKey)}),[U]);var W=function(){j((function(e){return!e}))},G=a.a.createElement(f.a,{key:e.attachmentsKey,onClick:function(){e.sendCreationPostMetrika&&e.sendCreationPostMetrika("add_file",e.popup?"popup":"inline",e.eventKey)},onSuccess:function(t){e.handleSaveMedia(t),g(!1)},onError:function(t,n){"fileUploadFailed"===n?(e.attachmentsError&&e.attachmentsError(500),e.sendCreationPostMetrika&&e.sendCreationPostMetrika("add_file_error",e.popup?"popup":"inline",e.eventKey)):u(t)},maxFileSize:S,onAddFile:D?function(){j(!1),g(!0)}:void 0,testId:e.testId,attachmentsContainerId:R,availableFilesCountToUpload:10-e.attachmentsCount,disabled:e.attachmentsCount>=10,maxFileError:B,multipleFiles:e.multipleFiles},D?a.a.createElement("div",{className:p.a.attachments_option,"data-test-id":"file-button",onClick:e.attachmentsCount>=10?function(){return B(!0)}:void 0},Object(d.f)(),a.a.createElement("span",null,__("chat.attachments.file"))):a.a.createElement("div",{className:p.a.attachments_button,"data-test-id":"clip-button"})),J=o&&a.a.createElement("div",{className:p.a.popover},o,a.a.createElement("div",{className:p.a.close_button,onClick:function(){u(null)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M6.56 6.012l5.3 5.31c.187.187.187.374 0 .561a.382.382 0 0 1-.28.117.382.382 0 0 1-.28-.117L6 6.573l-5.3 5.31A.382.382 0 0 1 .42 12a.382.382 0 0 1-.28-.117c-.187-.187-.187-.374 0-.561l5.3-5.31L.14.702C-.047.515-.047.327.14.14c.187-.187.374-.187.56 0L6 5.45 11.3.14c.186-.187.373-.187.56 0 .187.187.187.375 0 .562z"}))))));return D?U?a.a.createElement(P.a,{onClose:function(){return F(!1)},error:404,title:__("label.post.survey.error.title"),text:__("label.post.survey.error.text")}):a.a.createElement("div",{className:i()(p.a.attachments_container,A({},p.a.postSurvey,D))},E&&a.a.createElement(O,{onClose:function(){return _(!1)},onCreateAttempt:function(){!D&&e.metrika&&Object(m.d)("surveysaveclick",e.metrika)},onPollCreated:e.onPollCreated}),a.a.createElement("div",{className:i()(p.a.attachments_popover,A({},p.a.hidden,!k)),ref:I},a.a.createElement("div",{onClick:function(){N?F(!0):(_(!0),e.sendCreationPostMetrika&&e.sendCreationPostMetrika("add_survey",e.popup?"popup":"inline",e.eventKey))},className:p.a.attachments_option,"data-test-id":"poll-button"},Object(d.o)(),a.a.createElement("span",null,__("chat.attachments.poll"))),G),K&&a.a.createElement("div",{ref:V,className:p.a.popover},__("label.editor.attach.error3"),a.a.createElement("div",{className:p.a.close_button,onClick:function(){return B(!1)}},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M6.56 6.012l5.3 5.31c.187.187.187.374 0 .561a.382.382 0 0 1-.28.117.382.382 0 0 1-.28-.117L6 6.573l-5.3 5.31A.382.382 0 0 1 .42 12a.382.382 0 0 1-.28-.117c-.187-.187-.187-.374 0-.561l5.3-5.31L.14.702C-.047.515-.047.327.14.14c.187-.187.374-.187.56 0L6 5.45 11.3.14c.186-.187.373-.187.56 0 .187.187.187.375 0 .562z"})))))),b?a.a.createElement(c.a,{margin:"0 5px"}):a.a.createElement("div",{className:p.a.attachments_button,onClick:W,"data-test-id":"clip-button"}),J,D&&a.a.createElement("div",{className:p.a.postSurveyAdd,onClick:W,"data-test-id":"add-attach-in-post"},__("label.post.survey.add"))):a.a.createElement("div",{className:p.a.attachments_container},G,J)}))},217:function(e,t,n){e.exports={input:"_2c5gS"}},218:function(e,t,n){e.exports={container:"_2wQx7"}},219:function(e,t,n){e.exports={container:"_20Ono",redesignedContainer:"_3OpWR"}},22:function(e,t,n){e.exports={overlay:"_3iyIK",overlay_content:"_3jsYA",container:"_3cnJY",container_restricted_width:"xceLR",header_empty:"_2S1Cm",header:"_2XmQI _2S1Cm",content:"_3A6xT",title:"P_1Af",close:"_2JaPo",adaptive_container:"_2dWDx"}},220:function(e,t,n){e.exports={container:"_2v736",info:"_2fM2k"}},231:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},a.a.createElement("path",{fillRule:"evenodd",d:"M198.000698,1041.78125 C198.000698,1042.3125 197.719451,1042.57812 197.156948,1042.57812 C196.938197,1042.57812 196.750699,1042.5 196.594448,1042.34375 C196.438198,1042.1875 196.360073,1042 196.360073,1041.78125 C196.360073,1041.5625 196.438198,1041.375 196.594448,1041.21875 C196.750699,1041.0625 196.938197,1040.98438 197.156948,1040.98438 C197.375699,1040.98438 197.57101,1041.0625 197.742886,1041.21875 C197.914762,1041.375 198.000698,1041.5625 198.000698,1041.78125 Z M197.156948,1027.39062 C199.813212,1027.39062 202.078814,1028.32812 203.953823,1030.20312 C205.828833,1032.07813 206.766323,1034.34374 206.766323,1037 C206.766323,1039.65626 205.828833,1041.92187 203.953823,1043.79688 C202.078814,1045.67188 199.813212,1046.60938 197.156948,1046.60938 C194.531935,1046.60938 192.281958,1045.67188 190.406948,1043.79688 C188.531939,1041.92187 187.594448,1039.65626 187.594448,1037 C187.594448,1034.34374 188.531939,1032.07813 190.406948,1030.20312 C192.281958,1028.32812 194.531935,1027.39062 197.156948,1027.39062 Z M197.156948,1045.8125 C199.594461,1045.8125 201.672565,1044.95313 203.391323,1043.23438 C205.110082,1041.51562 205.969448,1039.43751 205.969448,1037 C205.969448,1034.56249 205.110082,1032.48438 203.391323,1030.76562 C201.672565,1029.04687 199.594461,1028.1875 197.156948,1028.1875 C194.750686,1028.1875 192.688207,1029.04687 190.969448,1030.76562 C189.25069,1032.48438 188.391323,1034.56249 188.391323,1037 C188.391323,1039.43751 189.25069,1041.51562 190.969448,1043.23438 C192.688207,1044.95313 194.750686,1045.8125 197.156948,1045.8125 Z M197.156948,1032.21875 C197.938202,1032.21875 198.602258,1032.48437 199.149136,1033.01562 C199.696014,1033.54688 199.969448,1034.20312 199.969448,1034.98438 C199.969448,1035.67188 199.742888,1036.28125 199.289761,1036.8125 C198.836634,1037.34375 198.266327,1037.65625 197.578823,1037.75 L197.578823,1039.8125 C197.578823,1040.0625 197.4382,1040.1875 197.156948,1040.1875 C196.906947,1040.1875 196.781948,1040.0625 196.781948,1039.8125 L196.781948,1037.42188 C196.781948,1037.14062 196.906947,1037 197.156948,1037 C197.719451,1037 198.196009,1036.80469 198.586636,1036.41406 C198.977263,1036.02344 199.172573,1035.54688 199.172573,1034.98438 C199.172573,1034.45312 198.977263,1033.99219 198.586636,1033.60156 C198.196009,1033.21094 197.719451,1033.01562 197.156948,1033.01562 C196.625696,1033.01562 196.164763,1033.21094 195.774136,1033.60156 C195.383509,1033.99219 195.188198,1034.45312 195.188198,1034.98438 C195.188198,1035.26563 195.047575,1035.40625 194.766323,1035.40625 C194.516322,1035.40625 194.391323,1035.26563 194.391323,1034.98438 C194.391323,1034.20312 194.664758,1033.54688 195.211636,1033.01562 C195.758514,1032.48437 196.406945,1032.21875 197.156948,1032.21875 Z",transform:"translate(-187 -1027)"}))}},233:function(e,t,n){e.exports={container:"_3_Chy"}},234:function(e,t,n){e.exports={container:"_2beFf"}},235:function(e,t,n){e.exports={container:"ULEcp"}},236:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(65),l=n(188),s=n.n(l),u=function(e){var t=e.className,n=e.onClick,r=e.text,o=e.testId;return a.a.createElement("div",{className:s.a.container},a.a.createElement("button",{type:"button",onClick:n,className:s.a[t],"data-test-id":o},r))},p=n(5),d=n(16),m=n(51),f=n(87),h=n(37),v=n(119),b=n(189),g=n.n(b);var y=Object(r.memo)((function(e){var t=e.text,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=c.a.whiteList,r=c.a.moderateUrl,a=Object(h.a)(t,g.a.emoji);n.current.innerHTML=Object(v.a)(a,e,r)}),[t]),a.a.createElement("span",{"data-test-id":"comment_text",className:g.a.content,ref:n})})),w=n(101),E=n.n(w);var _=Object(r.memo)((function(e){var t=e.comment,n=e.currentUser,r=e.onCommentInteraction;if(!t)return null;var o,c,l,s=t.authorId,u=t.text,p=t.author,d=t.replyUser,m=t.isDeleted,f=p.name,h=p.redirectUrl,v=i()(E.a.comment_text,(o={},c=E.a.delete,l=m,c in o?Object.defineProperty(o,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[c]=l,o)),b=d&&d.id!==s&&!m;return a.a.createElement("div",{className:E.a.container},a.a.createElement("a",{href:h||"#",className:E.a.name,onClick:r},f),a.a.createElement("span",{className:v},b&&a.a.createElement("a",{href:d.redirectUrl||"#",className:E.a.reply_name},d.name+" "),m?__("label.discussions.moderation.placeholder")+" ":a.a.createElement(y,{userId:n.id,text:u})))})),C=n(120),x=n.n(C),k=n(14);function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new(n(9).a)(c.a.apiUrl,"include",{simple:!0}),S=new(function(e){function t(){var e,n,r;O(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.fetchThread=function(e){var t=e.eventKey,n=e.fromCommentId,a=e.toCommentId,o=e.limit;return r.get("/thread/"+t+"?fromCommentId="+n+"&toCommentId="+a+"&limit="+o)},r.fetchReplies=function(e){var t=e.eventKey,n=e.parentCommentId,a=e.fromCommentId,o=e.limit;return r.get("/thread/"+t+"/comment/"+n+"?fromCommentId="+a+"&limit="+o)},r.createComment=function(e){var t=e.eventKey,n=e.text,a=e.attachmentsContainerId,o=e.parentCommentId,i=e.replyCommentId,c=e.eventUrl,l=e.eventSign;return r.post("/thread/"+t+"/comments/create",{text:n,attachmentsContainerId:a,parentCommentId:o,replyCommentId:i,eventUrl:c,eventSign:l})},r.editComment=function(e){var t=e.commentId,n=e.eventKey,a=e.text,o=e.attachmentsContainerId;return r.post("/thread/"+n+"/comment/"+t+"/edit",{text:a,attachmentsContainerId:o})},r.deleteComment=function(e){var t=e.eventKey,n=e.commentId;return r.post("/thread/"+t+"/comment/"+n+"/delete",{})},r.like=function(e,t,n,a,o){return r.post("/thread/"+e+"/comment/"+t+"/like/"+n+"?eventUrl="+a+"&eventSign="+o,{})},r.threadDetails=function(e){return r.get("/thread/"+e+"/details")},P(r,n)}return T(t,e),t}(function(e){function t(){return O(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,A))}return T(t,e),t}(k.a))),j=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var I=a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#0087c0",d:"M9.37 2.7v2.1h3.52a2.128 2.128 0 0 1 1.463.555l.114.113a1.97 1.97 0 0 1 .508 1.66l-1.011 6.17c-.162 1-1.058 1.712-2.078 1.702H3.621A.632.632 0 0 1 3 14.357V6.814c0-.098.022-.195.064-.284L5.994.36C6.1.14 6.316 0 6.553 0 8.095 0 9.37 1.193 9.37 2.7zM1.56-1698c.034 0-.035 0 0 0zM2 6.643v7.714c0 .326-.226.595-.519.637l-.024.002c-.816-.066-1.402-.908-1.453-1.9L0 12.955v-4.91C0 7 .596 6.083 1.443 6.005h.026c.299.036.531.308.531.638zM1.4-1698c.023 0-.023 0 0 0z"})))),N=a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#7f7f7f",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M3 14H1.8c-.442 0-.8-.57-.8-1.273V8.273C1 7.57 1.358 7 1.8 7H3zm5.244-8.45v-2.6C8.244 1.873 7.238 1 5.997 1L3 6.85V14h8.45c.748.007 1.387-.464 1.5-1.105l1.033-5.85a1.185 1.185 0 0 0-.35-1.048 1.607 1.607 0 0 0-1.148-.447z"}))));var D=Object(r.memo)((function(e){var t,n,o,c=e.eventKey,l=e.commentId,s=e.externalId,u=e.eventUrl,p=e.eventSign,d=e.onClick,m=Object(r.useState)(e.userVote),f=j(m,2),h=f[0],v=f[1],b=Object(r.useState)(e.votes),g=j(b,2),y=g[0],w=g[1],E=h&&h.toUpperCase()==="like".toUpperCase();return s&&a.a.createElement("div",{className:x.a.container,onClick:function(){var e=E?"notset":"like";S.like(c,l,e,u,p).then((function(e){v(e.userVote),w(e.votes),d&&d(!E)})).catch((function(e){}))}},a.a.createElement("div",{className:i()(x.a.icon,(t={},n=x.a.hoverIcon,o=!E,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),"data-test-id":E?"comment-like-on":"comment-like-off"},E?I:N),!!y.like&&a.a.createElement("div",{"data-test-id":"comment-like-counter",className:x.a.counter},y.like))})),R=n(74),M=n(83),L=n.n(M),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var F=Object(r.memo)((function(e){var t=e.comment,n=e.onReplyClick,r=e.onCommentLike,o=e.eventKey,c=e.eventUrl,l=e.eventSign,s=e.parentCommentId,u=Object(R.a)(t.createdDateTime);return a.a.createElement("div",{className:L.a.controls},t.likes&&a.a.createElement("div",{className:i()(L.a.likes,L.a.with_separator)},a.a.createElement(D,U({},t.likes,{onClick:r,eventKey:o,eventUrl:c,eventSign:l,commentId:t.id}))),a.a.createElement("button",{id:"reply_button",type:"button",onClick:function(e){e.preventDefault(),n(t.authorId,t.id)},className:i()(L.a.reply_btn,L.a.with_separator),"data-test-id":"reply-comment","data-root-comment-id":s||t.id},__("button.discussions.reply")),a.a.createElement("span",{className:L.a.time},t.isEdited?__("label.discussions.edited").replace("{ $editDate }",u):u))})),z=n(76),H=n.n(z);var K=Object(r.memo)((function(e){var t,n,r,o=e.onDeleteComment,c=e.onEditComment,l=e.comment,s=e.expanded,u=e.editable,p=e.complaintEnabled,d=e.onComplaint,m=e.isAuthor,f=i()(H.a.dots,(t={},n=H.a.active,r=s,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return a.a.createElement("div",{className:H.a.container},s&&a.a.createElement("div",{className:H.a.popover},m&&a.a.createElement("div",{"data-test-id":"edit_comment",className:H.a.option,onClick:c},__("label.discussions.edit")),u&&a.a.createElement("div",{"data-test-id":"delete_comment",className:H.a.option,onClick:function(){return o(l.id)}},__("label.discussions.delete")),p&&a.a.createElement("div",{"data-test-id":"complaint_comment",className:H.a.option,onClick:function(){return l.id,void(d&&d(l.id))}},__("label.discussions.button.complaint"))),a.a.createElement("span",{className:f}))})),B=n(1),V=n.n(B),q=n(88),W=n(18),G=n(71),J=n.n(G),X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.focusEditor=function(){r.editorRef.current!==document.activeElement&&(Object(W.f)(r.editorRef.current),Promise.resolve().then((function(){r.editorRef.current.closest("form").scrollIntoView({behavior:"smooth",block:"nearest"})})))},r.handleClick=function(e){var t=r.state,n=t.commentLen,a=t.isCommentSending,o=r.props,i=o.onSelectContainer,c=o.parentCommentId,l=r.editorRef.current.parentElement.parentElement;r.editorRef.current&&"reply_button"===e.target.id&&!a?(e.target.dataset&&e.target.dataset.rootCommentId)===c&&Object(W.f)(r.editorRef.current):!l.contains(e.target)&&(n<1||r.editorRef.current!==document.activeElement)&&i(null)},r.handleSaveMedia=function(e){r.setState({attachmentsContainerId:e})},r.handleSaveContent=function(e,t){r.setState({commentText:e,commentLen:t})},r.handleSubmit=function(){var e=r.state,t=e.commentText,n=e.commentLen,a=e.attachmentsContainerId,o=r.props,i=o.parentCommentId,c=o.replyCommentId,l=o.onSubmit,s=o.replyLabel;n>0&&(l(Object(h.b)(t),a,i,s.length>0&&c?c:null),r.setState({isCommentSending:!0}))},r.scrollIntoEditor=function(){r.editorRef.current&&r.editorRef.current.closest("form").scrollIntoView({behavior:"smooth",block:"center"})},r.state={commentText:e.commentText||"",commentLen:0,attachmentsContainerId:e.attachmentsContainerId||null,isCommentSending:!1},r.editorRef=a.a.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),X(t,[{key:"componentWillReceiveProps",value:function(e){!e.isCreating&&this.state.isCommentSending&&(this.editorRef.current.innerHTML="",this.setState({commentText:"",commentLen:0,attachmentsContainerId:null,isCommentSending:!1}),this.props.replyLabel.length>0&&this.props.onReplyHide(),Object(W.f)(this.editorRef.current))}},{key:"componentDidUpdate",value:function(e){if(!e.isReplySelected&&this.props.isReplySelected){var t=this.props,n=t.parentCommentId,r=t.onSelectContainer;this.editorRef.current.onclick=function(){return r(n)},this.focusEditor(),Object(p.b)({click:this.handleClick})}e.isReplySelected&&!this.props.isReplySelected&&Object(p.e)({click:this.handleClick}),this.props.focus&&e.focus!==this.props.focus&&this.focusEditor()}},{key:"render",value:function(){var e,t=this.state,n=t.commentText,r=t.commentLen,o=t.attachmentsContainerId,c=t.isCommentSending,l=this.props,s=l.currentUser,u=l.replyLabel,p=l.isReplySelected,d=l.parentCommentId,m=l.placeholder,f=l.shortWidget,h=l.isReversed,v=l.scrollOnClick,b=l.isOpen,g=l.onCancel,y=l.replyEdit,w=l.submitText,E=l.mobileFeed,_=i()(J.a.container,(Y(e={},J.a.short,!!f&&!y),Y(e,J.a.reversed,!!h),Y(e,J.a.replyEdit,y),e));return d?p||r>0||o?a.a.createElement("div",{className:i()(J.a.container,J.a.reply)},a.a.createElement("form",{className:J.a.form},a.a.createElement(q.a,{testId:"reply",text:n,attachmentsContainerId:o,currentUser:s,placeholder:m,maxLength:1e3,isFetching:c,editorRef:this.editorRef,replyLabel:u,hotSubmit:!0,onSubmit:this.handleSubmit,onSaveText:this.handleSaveContent,onSaveMedia:this.handleSaveMedia,shrinkToolbar:!0,isDnevnikExpert:s.isDnevnikExpert,mobileFeed:E,onTextAreaClick:v?this.scrollIntoEditor:void 0,paragraphOnEnter:!0}))):null:a.a.createElement("div",{className:_},a.a.createElement("form",{className:J.a.form},a.a.createElement(q.a,{testId:"comment",text:n,attachmentsContainerId:o,attachmentsContainer:this.props.attachmentsContainer,currentUser:s,placeholder:m,isOpen:b||!1,maxLength:1e3,isFetching:c,editorRef:this.editorRef,hotSubmit:!0,onSubmit:this.handleSubmit,onSaveText:this.handleSaveContent,onSaveMedia:this.handleSaveMedia,onCancel:g,allowBottomward:!0,mobileFeed:E,onTextAreaClick:v?this.scrollIntoEditor:void 0,submitText:w,shrinkToolbar:y||!!g,paragraphOnEnter:!0})))}}]),t}(r.Component);Q.propTypes={currentUser:V.a.object.isRequired,placeholder:V.a.string,parentCommentId:V.a.string,replyCommentId:V.a.string,isReplySelected:V.a.bool,replyLabel:V.a.string,shortWidget:V.a.bool.isRequired,isReversed:V.a.bool,onReplyHide:V.a.func,onSubmit:V.a.func.isRequired,onSelectContainer:V.a.func},Q.defaultProps={replyCommentId:null,placeholder:null,parentCommentId:null,isReplySelected:!1,replyLabel:"",isReversed:!1,onReplyHide:null,onSelectContainer:null};var Z=Q,$=n(57),ee=n.n($),te=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=Object(r.memo)((function(e){var t,n=Object(r.useState)(!1),o=te(n,2),c=o[0],l=o[1],s=Object(r.useState)(!1),u=te(s,2),h=u[0],v=u[1],b=Object(r.useState)(!1),g=te(b,2),y=g[0],w=g[1],E=Object(r.useRef)(null),C=Object(r.useRef)(null);function x(e){e.keyCode===d.a.ESC&&c&&l(!1)}function k(e){c&&E&&E.current&&!E.current.contains(e.target)&&l(!1)}Object(r.useEffect)((function(){if(C.current.id===e.focusedCommentId){var t=C.current.getBoundingClientRect();window.scrollBy(0,t.top-100)}}),[]),Object(r.useEffect)((function(){c?Object(p.b)({click:k,keydown:x}):Object(p.e)({click:k,keydown:x})}),[c]);var O=e.comment,P=e.onReplyClick,T=e.currentUser,A=e.onDeleteComment,S=e.onEditComment,j=e.focusedCommentId,I=e.onCommentInteraction,N=e.complaintEnabled,D=e.onComplaint,R=e.shortWidget,M=e.parentCommentId,L=e.testId,U=O.id,z=O.author,H=O.editable,B=O.isDeleted,V=O.attachmentsContainer,q=O.text,W=O.updatedDate,G=O.authorId===T.id,J=N&&!G;Object(r.useEffect)((function(){y&&(w(!1),v(!1))}),[W]);var X=i()(ee.a.container,(ne(t={},ee.a.empty,B),ne(t,ee.a.focused,U.toString()===j),ne(t,ee.a.container_short,R),t)),Y=i()(ee.a.dots,ne({},ee.a.active,!!c));return a.a.createElement("div",null,h?a.a.createElement(Z,{currentUser:T,isCreating:y,commentText:q,attachmentsContainerId:V&&V.containerId,attachmentsContainer:V,isOpen:!0,placeholder:__("label.discussions.input.placeholder"),shortWidget:R,onSubmit:function(e,t){w(!0),S(U,e,t)},onCancel:function(){return v(!1)},replyEdit:!!M,submitText:__("button.discussions.save")}):a.a.createElement("div",{id:U,"data-test-id":"comment",className:X,ref:C,onKeyDown:x},a.a.createElement("div",{className:ee.a.avatarContainer},a.a.createElement(m.a,{author:z,style:{width:30,height:30,fontSize:14,borderRadius:3},onClick:I}),z.isDnevnikExpert&&a.a.createElement("div",{className:ee.a.dnevnikExpert},a.a.createElement("img",{alt:"dnevnik_expert",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABkklEQVR4AY3SA4xcYQBF4TJm7bC2bTdObceN69hqo9q2bXdt27a9e/YO/sX4Jt/4jN7r4WrASPkq5fJBBvfwZUBvSab7/HyNtwq59c3sD86mtLEF+9Z6+rSFclDihbPxRaz4nsKVlFITB8kmmSQ9TThbMumyMn3amq/JLPmUwIbvydS2tOKwBJmumGAhs6aRTzmVXEks4vC/dBa+izM44p/Bg9RS/hVWU1TfjH2BiikVNn1JZO6LKKt5L821EW2u2fYt2cSlirktJFXUs+p1DLOfRjDrSbi5tpptv177Job0qgYTX1fMYPMnxZXVsvhpONMfhHR3P4SlzyJIrqgzYaT0N3/aMMkRjv1JYcrtwG4m3w7g9L9UE6bJQMfDFStsehXJxOt+Tna9izZxsGPYV5ragKnX/Bh76Q8r7gdzJjCdJXcDrfdn3/QzcY307BoPsT7a1MLSOwFcCcuisaUNjfrmVs4HZ7LqbhDNrdbHmqVP17inxNF9bRKE8367OkXHyHepl48y0/74PPvjzfJJRpmmHSDJV12tuw96AAAAAElFTkSuQmCC"}))),a.a.createElement("div",{className:ee.a.comment},a.a.createElement(_,{comment:O,currentUser:T,onCommentInteraction:I}),!B&&V&&a.a.createElement("div",{className:ee.a.attachments},a.a.createElement(f.a,{viewOnly:!0,previewHeight:200,container:V,onFileClick:I})),!B&&a.a.createElement(F,{comment:O,onReplyClick:P,onCommentLike:e.onCommentLike,eventKey:e.eventKey,eventUrl:e.eventUrl,eventSign:e.eventSign,parentCommentId:M})),!B&&(H||J)&&a.a.createElement("div",{"data-test-id":L,className:Y,ref:E,onClick:function(){l(!c)}},a.a.createElement(K,{onDeleteComment:A,onEditComment:function(){e.onCommentEditStart&&e.onCommentEditStart(),v(!0)},comment:O,expanded:c,editable:H,complaintEnabled:J,onComplaint:D,isAuthor:G}))))})),ae=n(234),oe=n.n(ae);var ie=Object(r.memo)((function(e){var t=e.comments,n=e.currentUser,r=e.focusedCommentId,o=e.hasPrevious,i=e.onDeleteComment,c=e.onEditComment,l=e.onReplyClick,s=e.complaintEnabled,p=e.onComplaint,d=e.shortWidget,m=__("label.discussions.loadmore.replies");return a.a.createElement("div",{className:oe.a.container},o&&a.a.createElement(u,{onClick:function(){var t=e.onFetchReplies,n=e.comments;t(e.parentCommentId,n[0].id)},className:"btn_replies",text:m,testId:"more-answers"}),t.map((function(t){return a.a.createElement(re,{key:t.id,comment:t,focusedCommentId:r,currentUser:n,onReplyClick:l,onDeleteComment:i,onEditComment:c,complaintEnabled:s,onComplaint:p,shortWidget:d,onCommentLike:e.onCommentLike,eventKey:e.eventKey,eventUrl:e.eventUrl,eventSign:e.eventSign,parentCommentId:e.parentCommentId,onCommentEditStart:e.onCommentEditStart,testId:"manage-answer"})})))})),ce=n(235),le=n.n(ce),se=n(17),ue=Object(se.b)({Member:null,Moderator:null,Author:null}),pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function de(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var me="fetch_comments",fe="fetch_comments_complete",he="create_comment",ve="create_comment_complete",be="edit_comment_complete",ge="delete_comment",ye="delete_comment_complete";function we(e,t){return!!t&&(e===t.id||t.roles&&Array.isArray(t.roles)&&t.roles.some((function(e){return e===ue.Moderator})))}function Ee(e,t,n){return e?e.map((function(e){return pe({},e,{author:t[e.authorId]||null,replyUser:t[e.replyUserId]||null,comments:Ee(e.comments,t,n),editable:we(e.authorId,n)})})):[]}function _e(e,t){return t?t.reduce((function(e,t){return e[t.id]||(e[t.id]=t),e}),e||{}):e}function Ce(e,t){switch(t.type){case me:return pe({},e,{isFetching:!0});case fe:var n=t.payload,r=n.thread,a=n.error;if(a)return pe({},e,{isFetching:!1,error:a});var o=r.currentUser||e.currentUser,i=_e(e.participants,r.participants),c=Ee(r.comments,i,o);return{currentUser:o,comments:e.comments?[].concat(de(c),de(e.comments)):c,participants:i,hasPrevious:r.hasPrevious,isFetching:!1,error:a};case he:return pe({},e,{isCreating:!0});case ve:var l=t.payload,s=l.result,u=l.error;if(u||e.comments&&e.comments.some((function(e){return e.id===s.comment.id})))return pe({},e,{isCreating:!1,error:u});var p=_e(e.participants,s.participants),d=Ee([s.comment],p,e.currentUser),m=e.comments?[].concat(de(e.comments),de(d)):d;return pe({},e,{comments:m,participants:p,isCreating:!1,error:u});case be:var f=t.payload,h=f.result,v=f.error;if(v||!e.comments||!h||!h.comment)return pe({},e,{error:v});var b=_e(e.participants,h.participants),g=Ee([h.comment],b,e.currentUser)[0],y=e.comments.map((function(e){return e.id===g.id?pe({},g,{updatedDate:Date.now()}):e}));return pe({},e,{comments:y,participants:b,error:v});case ge:return pe({},e,{isDeleting:!0});case ye:var w=t.payload,E=w.commentId,_=w.error;if(_)return pe({},e,{isDeleting:!1,error:_});if(E)return pe({},e,{isDeleting:!1,comments:e.comments.filter((function(e){return e.id!==E})),error:_})}return e}var xe=function(){return{type:me}},ke=function(e,t){return{type:fe,payload:{thread:e,error:t}}},Oe=function(e,t){return{type:ve,payload:{result:e,error:t}}},Pe=function(e,t){return{type:be,payload:{result:e,error:t}}},Te=function(e,t){return{type:ye,payload:{commentId:e,error:t}}};function Ae(e,t,n,r,a){e.isFetching||(t(xe()),S.fetchThread({eventKey:n,fromCommentId:r,limit:a}).then((function(e){return t(ke(e.thread))})).catch((function(e){t(ke(null,e))})))}function Se(e,t,n){e.isCreating||(t({type:he}),S.createComment(n).then((function(e){return t(Oe(e))})).catch((function(e){t(Oe(null,e))})))}function je(e,t,n){S.editComment(n).then((function(e){return t(Pe(e))})).catch((function(e){t(Pe(null,e))}))}function Ie(e,t,n,r){return e.isDeleting?Promise.resolve():(t(function(e,t){return{type:ge,payload:{eventKey:e,commentId:t}}}()),S.deleteComment({eventKey:n,commentId:r}).then((function(){return t(Te(r))})).catch((function(e){t(Te(r,e))})))}var Ne=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var De=Object(r.memo)((function(e){var t=e.comment,n=e.selectedContainerId,o=e.onSelectContainer,i=e.currentUser,c=e.eventKey,l=e.onCommentCreate,s=e.onCommentDelete,u=(e.onCommentEdit,e.complaintEnabled),p=e.onComplaint,d=Object(r.useReducer)(Ce,{comments:t.comments,hasPrevious:t.hasPrevious||!1,currentUser:i}),m=Ne(d,2),f=m[0],h=m[1],v=Object(r.useState)(!1),b=Ne(v,2),g=b[0],y=b[1],w=Object(r.useState)(""),E=Ne(w,2),_=E[0],C=E[1],x=Object(r.useState)(null),k=Ne(x,2),O=k[0],P=k[1];function T(n,r){g||o(t.id),P(r),C(n!==e.currentUser.id?e.participants[n].name:"")}Object(r.useEffect)((function(){var e=!(!n||n!==t.id);y(e)}),[n]);var A=e.onDeleteComment,j=e.onEditComment,I=e.focusedCommentId,N=e.shortWidget,D=e.eventUrl,R=e.eventSign,M=e.onCommentInteraction,L=f.isCreating,U=f.comments,F=f.hasPrevious;return a.a.createElement("div",{"data-test-id":"comment_container",className:le.a.container},a.a.createElement(re,{currentUser:i,comment:t,onDeleteComment:A,onEditComment:j,focusedCommentId:I,onReplyClick:T,onCommentInteraction:M,onCommentLike:e.onCommentLike,complaintEnabled:u,onComplaint:p,shortWidget:N,eventKey:c,eventUrl:D,eventSign:R,onCommentEditStart:e.onCommentEditStart,testId:"manage_comment"}),!t.isDeleted&&a.a.createElement(ie,{onReplyClick:T,currentUser:i,comments:U,parentCommentId:t.id,hasPrevious:F,focusedCommentId:I,onDeleteComment:function(e){Ie(f,h,c,e).then((function(){S.threadDetails(c).then((function(e){s&&s({eventKey:c},e.commentsCount)}))}))},onEditComment:function(t,n,r){je(0,h,{commentId:t,eventKey:c,text:n,attachmentsContainerId:r}),e.onCommentEditDone&&e.onCommentEditDone()},onFetchReplies:function(e,t){!function(e,t,n,r,a,o){e.isFetching||(t(xe()),S.fetchReplies({eventKey:n,parentCommentId:r,fromCommentId:a,limit:o}).then((function(e){return t(ke(e))})).catch((function(e){t(ke(null,e))})))}(f,h,c,e,t)},complaintEnabled:u,onComplaint:p,shortWidget:N,onCommentLike:e.onCommentLike,eventKey:c,eventUrl:D,eventSign:R,onCommentEditStart:e.onCommentEditStart}),t&&!t.isDeleted&&a.a.createElement(Z,{currentUser:i,isCreating:L,placeholder:__("label.discussions.input.placeholder"),parentCommentId:t.id,isReplySelected:g,replyCommentId:O,replyLabel:_,shortWidget:N,onReplyHide:function(){return C("")},onSubmit:function(e,t,n,r){Se(f,h,{eventKey:c,text:e,attachmentsContainerId:t,parentCommentId:n,replyCommentId:r,eventUrl:D,eventSign:R}),l&&l({eventKey:c})},onSelectContainer:o}))})),Re=n(84),Me=n.n(Re),Le=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=__("label.discussions.loadmore.comments"),ze="btn_default",He="btn_large";var Ke=Object(r.memo)((function(e){var t,n=Object(r.useState)(null),o=Le(n,2),c=o[0],l=o[1],s=e.focusedCommentId,p=e.onDeleteComment,d=e.onEditComment,m=e.onFetchComments,f=e.shortWidget,h=e.currentUser,v=e.comments,b=e.participants,g=e.isReversed,y=e.hasPrevious,w=e.eventKey,E=e.onCommentCreate,_=e.onCommentDelete,C=e.onCommentInteraction,x=e.complaintEnabled,k=e.onComplaint;return!v.length?g?null:f?a.a.createElement("div",{className:Me.a.empty_short}):a.a.createElement("div",{className:Me.a.empty},a.a.createElement("div",null,__("label.discussions.empty"))):a.a.createElement("div",{className:i()(Me.a.container,(t={},Ue(t,Me.a.short,f),Ue(t,Me.a.reversed,g),t))},y&&a.a.createElement(u,{onClick:function(){return m(v[0].id)},className:g?He:ze,text:Fe,testId:"more-comment"}),a.a.createElement("div",{className:g?Me.a.reversed:void 0},v&&v.map((function(t){return a.a.createElement(De,{currentUser:h,key:t.id,comment:t,participants:b,selectedContainerId:c,focusedCommentId:s,onSelectContainer:l,onDeleteComment:p,onEditComment:d,shortWidget:f,eventKey:w,eventUrl:e.eventUrl,eventSign:e.eventSign,onCommentCreate:E,onCommentDelete:_,onCommentInteraction:C,onCommentLike:e.onCommentLike,complaintEnabled:x,onComplaint:k,onCommentEditStart:e.onCommentEditStart,onCommentEditDone:e.onCommentEditDone})}))))})),Be=n(103),Ve=n.n(Be),qe=n(151),We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n+=1){var r=t[n].split("=");if(decodeURIComponent(r[0])===e)return decodeURIComponent(r[1])}return null}("commentId");t.a=function(e){var t,n=Object(r.useReducer)(Ce,{}),o=Ge(n,2),l=o[0],s=o[1],u=l.error,p=l.comments,d=l.isFetching,m=l.currentUser,f=l.hasPrevious,h=l.participants,v=l.isCreating,b=e.eventKey,g=e.eventUrl,y=e.eventSign,w=e.shortWidget,E=e.standalone,_=e.commentLimit,C=e.onCommentCreate,x=e.onCommentDelete,k=e.onCommentInteraction,O=e.onCommentsView,P=e.complaintEnabled,T=e.thread,A=e.forceUpdate,j=e.mobileFeed,I=Object(r.useState)(!1),N=Ge(I,2),D=N[0],R=N[1],M=Object(r.useState)(null),L=Ge(M,2),U=L[0],F=L[1],z=Object(r.useRef)(null),H=p&&!!p.length;if(Object(r.useEffect)((function(){T&&!A?s(ke(T)):p||u||d||Ae(l,s,b)}),[]),Object(r.useEffect)((function(){var e;H&&O&&z.current&&(e=O,new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&t.intersectionRatio>0&&(e(),n.unobserve(t.target))}))}),{threshold:.5})).observe(z.current)}),[H]),!m||!Object.keys(m).length)return null;if(!m.roles||!m.roles.length)return a.a.createElement("div",{className:i()(Ve.a.restricted,Je({},Ve.a.short,w))},__("label.discussions.restricted"));var K=i()(Ve.a.container,(Je(t={},Ve.a.reversed,c.a.isReversed),Je(t,Ve.a.standalone,E),t));return a.a.createElement("div",{className:K,ref:z},a.a.createElement(Ke,{hasPrevious:f,currentUser:m,comments:p,participants:h,focusedCommentId:Xe,isReversed:c.a.isReversed,onFetchComments:function(e){Ae(l,s,b,e,_)},onDeleteComment:function(e){Ie(l,s,b,e).then((function(){S.threadDetails(b).then((function(e){x&&x({eventKey:b},e.commentsCount)}))}))},onEditComment:function(t,n,r){je(0,s,{commentId:t,eventKey:b,text:n,attachmentsContainerId:r}),e.onCommentEditDone&&e.onCommentEditDone()},shortWidget:w,eventKey:b,eventUrl:g,eventSign:y,onCommentCreate:C,onCommentDelete:x,onCommentLike:e.onCommentLike,onCommentInteraction:k,complaintEnabled:P,onComplaint:function(e){F({id:e,eventKey:b}),R(!0)},onCommentEditStart:e.onCommentEditStart,onCommentEditDone:e.onCommentEditDone}),a.a.createElement(Z,{currentUser:m,isCreating:v,placeholder:__("label.discussions.input.placeholder"),shortWidget:w,isReversed:c.a.isReversed,onSubmit:function(e,t,n,r){Se(l,s,{eventKey:b,text:e,attachmentsContainerId:t,parentCommentId:n,replyCommentId:r,eventUrl:g,eventSign:y}),C&&C({eventKey:b})},mobileFeed:j,scrollOnClick:e.scrollOnEditorClick,focus:e.addComment}),D&&a.a.createElement(qe.a,We({},U,{type:"comment",onClose:function(){return R(!1)}})))}},24:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(63),u=n.n(s),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){return d(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"render",value:function(){for(var e,t,n,r=this.props,o=r.text,i=r.fontSize,c=r.small,s=r.margin,p=r.testId,d={fontSize:i},m=[],f=0;f<12;f+=1)m.push(a.a.createElement("div",{key:f,className:l()(c?u.a.bar_small:u.a.bar,(e={},t=u.a.white,n=this.props.white,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))}));return a.a.createElement("div",{className:u.a.container,style:d,"data-test-id":p},o&&a.a.createElement("span",null,o),a.a.createElement("div",{className:c?u.a.spinner_small:u.a.spinner,style:{margin:s}},m))}}]),t}(r.Component);f.propTypes={text:i.a.string,fontSize:i.a.number},f.defaultProps={text:null,fontSize:12},t.a=f},25:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(5),u=n(16),p=n(176),d=n(218),m=n.n(d),f=function(e){var t=e.onClick;return a.a.createElement("div",{className:m.a.container,onClick:t,"data-test-id":"plus-topic"},"+")},h=n(32),v=n.n(h),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;y(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleScroll=function(){var e=r.props,t=e.isFetching,n=e.onScroll;!t&&Math.floor(r.overlay_content.scrollHeight-r.overlay_content.scrollTop)<=r.overlay_content.clientHeight&&n()},r.handleKeyDown=function(e){e.keyCode===u.a.ESC&&r.props.onClose()},r.handleClick=function(e){r.props.disableClickOutside||r.popup.contains(e.target)||document.activeElement.getAttribute("contenteditable")||r.props.onClose()},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"componentDidMount",value:function(){document.body.style.overflow="hidden",document.body.scrollHeight>window.innerHeight&&(document.body.style.paddingRight="17px",document.body.style.boxSizing="border-box"),this.props.disableKeyDown||Object(s.b)({keydown:this.handleKeyDown})}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto",document.body.style.paddingRight="0px",Object(s.e)({keydown:this.handleKeyDown})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isShort,o=t.title,i=t.icon,c=t.showPlusButton,s=t.disableClose,u=t.onClose,d=t.onPlusClick,m=t.children,h=t.onPrev,b=t.onNext,y=t.insideParent,w=t.isUserInNewTeachersExperiment,E=l()(w?v.a.redesignedContainer:v.a.container,g({},v.a.short,n)),_=l()(v.a.title,g({},v.a.title_left,d));return a.a.createElement("div",{className:l()(v.a.overlay,g({},v.a.insideParent,y))},a.a.createElement("div",{className:v.a.overlay_content,onClick:this.handleClick,onScroll:this.handleScroll,ref:function(t){return e.overlay_content=t}},a.a.createElement("div",{"data-test-id":"post_popup",ref:function(t){e.popup=t},className:E},h&&a.a.createElement("div",{className:v.a.prevButton,onClick:h}),b&&a.a.createElement("div",{className:v.a.nextButton,onClick:b}),n?a.a.createElement(r.Fragment,null,!s&&a.a.createElement("div",{"data-test-id":"close_post",className:l()(v.a.close,v.a.short_close),onClick:u})):a.a.createElement("div",{className:v.a.header},i&&Object(p.a)()[i+"Icon"],a.a.createElement("div",{className:_},o,c&&a.a.createElement(f,{onClick:d})),a.a.createElement("div",{"data-test-id":"close_creation_popup",className:v.a.close,onClick:u})),m.length?m.map((function(e,t){return a.a.createElement(r.Fragment,{key:t},e)})):m||null)))}}]),t}(r.Component);E.propTypes={isShort:i.a.bool,title:i.a.string,icon:i.a.string,showPlusButton:i.a.bool,onClose:i.a.func,onScroll:i.a.func,onPlusClick:i.a.func,isFetching:i.a.bool,disableKeyDown:i.a.bool,disableClickOutside:i.a.bool,disableClose:i.a.bool,insideParent:i.a.bool},E.defaultProps={isShort:!1,title:"",icon:null,showPlusButton:!1,onPlusClick:null,onClose:function(){return null},onScroll:function(){return null},isFetching:!1,disableKeyDown:!1,disableClickOutside:!1,disableClose:!1,insideParent:!1};t.a=E},251:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(111),u=n.n(s),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){return m(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"render",value:function(){var e,t=this.props,n=t.active,r=t.text,o=t.clickHandler,i=t.disabled,c=t.style,s=l()(u.a.radio,(d(e={},u.a.radioActive,n&&!i),d(e,u.a.radioDisabled,!!i),e));return a.a.createElement("div",{className:u.a.container,style:c,onClick:i?void 0:o},a.a.createElement("div",{"data-test-id":(this.props.testId||"")+"-radio",className:s},n&&a.a.createElement("div",{"data-test-id":"radio_selected_value",className:u.a.subRadio})),a.a.createElement("div",{className:u.a.text},r))}}]),t}(r.Component);h.propTypes={active:i.a.bool,text:i.a.string,clickHandler:i.a.func,disabled:i.a.bool};var v=h,b=n(150),g=n.n(b),y=n(100),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=function(e){function t(){var e,n,r,a=this;_(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={expanded:!1},r.handleMouseEnter=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.state.expanded||r.setState({expanded:!0}),r.hideTimer&&clearTimeout(r.hideTimer);case 3:case"end":return e.stop()}}),e,a)}))),r.handleMouseLeave=function(){r.hideTimer=setTimeout((function(){return r.setState({expanded:!1})}),300)},r.handleOnClick=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.state.expanded||r.setState({expanded:!0});case 2:case"end":return e.stop()}}),e,a)}))),r.notSetHandler=function(){r.props.onChange(y.a.notSet),r.props.sendCreationPostMetrika("set_all",r.props.popup?"popup":"inline",r.props.eventKey)},r.disabledHandler=function(){r.props.onChange(y.a.disabled),r.props.sendCreationPostMetrika("set_nobody",r.props.popup?"popup":"inline",r.props.eventKey)},r.restrictedHandler=function(){r.props.onChange(y.a.restricted),r.props.sendCreationPostMetrika("set_limit",r.props.popup?"popup":"inline",r.props.eventKey)},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),w(t,[{key:"componentDidUpdate",value:function(e,t){t.expanded&&!this.state.expanded&&clearTimeout(this.hideTimer)}},{key:"render",value:function(){var e=this,t=this.state.expanded,n=this.props,r=n.commentsRestrictionIsAvailable,o=n.commentsRestrictionMode,i={fontSize:"12px",lineHeight:"14px"},c=o===y.a.notSet,l=o===y.a.disabled,s=o===y.a.restricted;return a.a.createElement("div",{"data-test-id":"post_settings",ref:function(t){e.container=t},className:g.a.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleOnClick},c&&a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#0087c0",d:"M6.934 10.505l.566-.567 2 2.003 5-5.006.566.566L9.5 13.073l-.566-.566zm13.992 10.682a.703.703 0 0 0-.172-.043l-6.102-2.879c-1.432.43-2.65.645-3.652.645-3.352 0-6.116-1.046-8.293-3.137C.931 14.054.029 12.078 0 9.843c0-2.606 1.174-4.812 3.523-6.617C5.643 1.622 8.135.82 11 .82c3.352 0 6.116 1.046 8.293 3.137 1.776 1.69 2.678 3.652 2.707 5.886-.029 2.407-1.089 4.512-3.18 6.317l2.407 4.512c.057.171.043.3-.043.386-.086.086-.172.13-.258.13zm-.86-1.16l-2.02-3.78c-.056-.201-.028-.359.087-.474 2.062-1.69 3.108-3.666 3.137-5.93 0-2.435-1.118-4.483-3.352-6.144C15.941 2.266 13.635 1.55 11 1.55c-3.18 0-5.8.988-7.863 2.965C1.56 6.091.759 7.867.73 9.843c0 2.464 1.118 4.527 3.352 6.188C6.059 17.464 8.365 18.18 11 18.18c1.031 0 2.22-.215 3.566-.645.115 0 .2.015.258.043z"}))))),l&&a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#0087c0",d:"M21.29-.06L1.776 19.455l.425.425L21.715.364zm-6.056 2.324l.575-.576c-1.44-.58-3.043-.87-4.809-.87-2.865 0-5.357.802-7.477 2.406C1.174 5.029 0 7.234 0 9.84c.026 2.022.767 3.833 2.224 5.432l.475-.475C1.387 13.381.73 11.73.73 9.841c.03-1.977.831-3.753 2.407-5.328C5.199 2.536 7.82 1.548 11 1.548c1.52 0 2.932.239 4.234.716zm-.41 15.311a.599.599 0 0 0-.258-.043c-1.346.43-2.535.645-3.566.645a12.82 12.82 0 0 1-2.88-.314l-.612.612c1.083.288 2.247.432 3.492.432 1.003 0 2.22-.214 3.652-.644l6.102 2.879c.029 0 .086.014.172.043.086 0 .172-.043.258-.13.086-.085.1-.214.043-.386l-2.407-4.512c2.091-1.804 3.151-3.91 3.18-6.316a7.7 7.7 0 0 0-1.435-4.423l-.484.484c.792 1.176 1.189 2.489 1.189 3.939-.03 2.263-1.075 4.24-3.137 5.93-.115.114-.143.272-.086.472l2.02 3.782z"}))))),s&&r&&a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"22",viewBox:"0 0 23 22"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#0087c0",d:"M.404 22.01c-.21-.03-.344-.165-.404-.405v-6.11c.03-.209.165-.344.404-.404h.36v-.763c.06-.54.224-1.048.494-1.528.689-1.197 1.662-1.796 2.92-1.796.629 0 1.228.164 1.797.494 1.138.689 1.707 1.632 1.707 2.83v.763h.359c.21.03.344.165.404.405v6.11c-.03.209-.164.344-.404.403zm6.514-7.682c0-.39-.12-.779-.36-1.168-.538-.899-1.332-1.348-2.38-1.348-.36 0-.704.075-1.033.225-.989.449-1.528 1.228-1.618 2.336v.718h5.391zm.764 1.527H.764v5.39h6.918zm13.384 4.172l-2.02-3.781c-.056-.2-.028-.358.087-.473 2.062-1.69 3.108-3.667 3.137-5.93 0-2.434-1.118-4.483-3.352-6.144C16.941 2.267 14.635 1.55 12 1.55c-3.18 0-5.8.989-7.863 2.965-1.35 1.35-2.131 2.845-2.346 4.489h-.749c.229-2.244 1.39-4.17 3.481-5.778C6.643 1.622 9.135.82 12 .82c3.352 0 6.116 1.046 8.293 3.137 1.776 1.69 2.678 3.652 2.707 5.886-.029 2.407-1.089 4.512-3.18 6.317l2.407 4.512c.057.171.043.3-.043.386-.086.086-.172.13-.258.13a.703.703 0 0 0-.172-.044l-6.102-2.879c-1.432.43-2.65.645-3.652.645-.34 0-.673-.01-1-.032v-.734c.328.024.661.035 1 .035 1.031 0 2.22-.214 3.566-.644.115 0 .2.014.258.043z"}))))),t&&a.a.createElement("div",{className:g.a.popover},a.a.createElement("div",{className:g.a.title},__("label.post.commentsrestrictionmode.title")),a.a.createElement("div",{className:g.a.radioButtonContainer},a.a.createElement(v,{testId:"allowComments",clickHandler:this.notSetHandler,text:__("label.post.commentsrestrictionmode.notset"),active:c,style:i}),a.a.createElement(v,{testId:"disableComments",clickHandler:function(){return e.disabledHandler()},text:__("label.post.commentsrestrictionmode.disabled"),active:l,style:i}),r&&a.a.createElement(v,{testId:"restrictComments",clickHandler:function(){return e.restrictedHandler()},text:__("label.post.commentsrestrictionmode.restricted"),active:s,style:i}))))}}]),t}(r.Component);x.propTypes={commentsRestrictionIsAvailable:i.a.bool.isRequired,commentsRestrictionMode:i.a.number.isRequired,onChange:i.a.func.isRequired};t.a=x},257:function(e,t,n){e.exports={container:"_3xd4v",icons:"_2WT-_",counter:"_3v1dQ"}},258:function(e,t,n){e.exports={container:"_3jRbJ"}},259:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(6),i=n(11),c=n(5),l=n(37),s=n(12),u=n(52),p=n(90),d=n(93),m=("undefined"==typeof window||window.document,function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.bottom,a=window.innerHeight||document.documentElement.clientHeight;return(n>0||r>0)&&n<a}),f=n(38),h={},v=void 0;function b(e,t){var n=document.querySelectorAll("[data-post-event-viewed=false]");if(n.length>0)for(var r=0;r<n.length;r+=1){var a=n[r];(null===a.offsetParent?m(a.parentElement):m(a))&&function(){var t=a.getAttribute("data-post-event-id"),n=a.getAttribute("data-post-event-eventkey");h[t+"delay"]||(h[t+"delay"]=setTimeout((function(){var e=!1;document.querySelectorAll('[data-post-event-id="'+t+'"]').forEach((function(r){(e||null!==r.offsetParent?m(r):m(r.parentElement))&&(e=!0,f.a.setPostViewed({eventKey:n,postId:t}).then((function(e){if(e.success){var n=r.querySelector('[id="'+t+'viewcount"'),a=r.querySelector('[id="'+t+'viewtext"');r.setAttribute("data-post-event-viewed","true"),n&&(n.innerText=parseInt(n.innerText,10)+1),a&&(a.innerText=Object(d.a)(parseInt(n.innerText,10),[__("label.post.statistic.views1"),__("label.post.statistic.views2"),__("label.post.statistic.views3")]));var o=document.createEvent("Event");o.initEvent("postViewed",!0,!0),o.args={postId:t},document.dispatchEvent(o)}})))})),e||(clearTimeout(h[t+"delay"]),h[t+"delay"]=null)}),e||3e3))}()}}var g=function(e){if(v)return null;v=!0,e&&e.isViewPostPopup?b(1):b(),setTimeout((function(){v=!1}),100)};var y=n(1),w=n.n(y),E=n(25),_=n(149),C=n.n(_),x=function(e){var t=e.eventKey,n=e.targetName,r=e.onToggleTopic,o=e.sendCreationPostMetrika;return a.a.createElement("div",{key:t,className:C.a.topic},n,a.a.createElement("div",{className:C.a.delete,onClick:function(){r({eventKey:t,targetName:n}),o("del_topic","popup",t)}}))},k=function(e){var t=e.selectedTopics,n=e.onToggleTopic,r=e.onSearch,o=e.sendCreationPostMetrika;return a.a.createElement("div",{id:"topic_list_input",className:C.a.container},t.length>0&&t.map((function(e){return a.a.createElement(x,{key:e.eventKey,eventKey:e.eventKey,targetName:e.targetName,onToggleTopic:n,sendCreationPostMetrika:o})})),a.a.createElement("input",{type:"text",className:C.a.input,placeholder:__("label.post.placeholder.topiclist"),onChange:r}))},O=n(2),P=n.n(O),T=n(108),A=n.n(T);var S=function(e){var t,n,r,o=e.index,i=e.schoolName,c=e.topic,l=e.isSelected,s=e.onHover,u=e.onToggleTopic,p=e.sendCreationPostMetrika,d=e.isUserInNewTeachersExperiment,m=P()(d?A.a.redesignedContainer:A.a.container,(t={},n=A.a.selected,r=l,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return a.a.createElement("div",{className:m,onClick:function(){var e=c.eventKey,t=c.targetName,n=c.topicUrl;u({eventKey:e,targetName:t,topicUrl:n}),p("choose_topic","popup",e)},onMouseEnter:function(){s(o)},onMouseLeave:function(){s(-1)},"data-test-id":"select-auditory"},a.a.createElement("span",null,c.targetName),a.a.createElement("span",null,i))},j=n(109),I=n.n(j),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=function(e){function t(){var e,n,r;D(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={selectedIndex:-1},r.handleItemHover=function(e){r.setState({selectedIndex:e})},r.handleScrollAndSelectItem=function(e){r.list.childNodes[e].scrollIntoView(),r.setState({selectedIndex:e})},r.handleKeyDown=function(e){var t=r.state.selectedIndex,n=r.props,a=n.topics,o=n.selectedTopics,i=n.hidedTopics,c=t,l=a.filter((function(e){return!i.includes(e.eventKey)&&!o.find((function(t){return t.eventKey===e.eventKey}))})),s=l.length-1;38===e.keyCode&&t>0?(c-=1,r.handleScrollAndSelectItem(c)):40===e.keyCode&&t<s&&(c+=1,r.handleScrollAndSelectItem(c)),13===e.keyCode&&t>-1&&(r.props.onToggleTopic(l[t]),t===s&&r.setState({selectedIndex:s-1}))},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),N(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillReceiveProps",value:function(e){var t=e.hidedTopics;this.props.hidedTopics.length!==t.length&&this.setState({selectedIndex:0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.state.selectedIndex,n=this.props,r=n.schoolName,o=n.topics,i=n.selectedTopics,c=n.hidedTopics,l=n.isUserInNewTeachersExperiment,s=o.filter((function(e){return!c.includes(e.eventKey)&&!i.find((function(t){return t.eventKey===e.eventKey}))}));return a.a.createElement("div",{className:l?I.a.redesignedContainer:I.a.container,ref:function(t){e.list=t}},s.length>0?s.map((function(n,o){return a.a.createElement(S,{key:n.eventKey,index:o,selectedIndex:t,schoolName:r,topic:n,isSelected:o===t,onHover:e.handleItemHover,onToggleTopic:e.props.onToggleTopic,sendCreationPostMetrika:e.props.sendCreationPostMetrika,isUserInNewTeachersExperiment:l})})):a.a.createElement("div",{className:I.a.empty},__("label.post.topiclist.empty")))}}]),t}(r.Component);M.propTypes={topics:w.a.array.isRequired,selectedTopics:w.a.array.isRequired,hidedTopics:w.a.array.isRequired,onToggleTopic:w.a.func.isRequired};var L=M,U=n(219),F=n.n(U),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function H(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var V=function(e){function t(){var e,n,r;K(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hidedTopics:[]},r.handleSearchTopics=function(e){var t=r.state.hidedTopics,n=r.props.topics,a=[].concat(H(t));a=e.target.value?n.reduce((function(t,n){return-1===n.targetName.toLowerCase().indexOf(e.target.value.toLowerCase())&&t.push(n.eventKey),t}),[]):[],r.setState({hidedTopics:a})},B(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),z(t,[{key:"render",value:function(){var e=this.state.hidedTopics,t=this.props,n=t.schoolName,r=t.topics,o=t.selectedTopics,i=t.isUserInNewTeachersExperiment;return a.a.createElement("div",{className:i?F.a.redesignedContainer:F.a.container},a.a.createElement(k,{selectedTopics:o,onToggleTopic:this.props.onToggleTopic,onSearch:this.handleSearchTopics,sendCreationPostMetrika:this.props.sendCreationPostMetrika}),a.a.createElement(L,{schoolName:n,topics:r,selectedTopics:o,hidedTopics:e,onToggleTopic:this.props.onToggleTopic,sendCreationPostMetrika:this.props.sendCreationPostMetrika,isUserInNewTeachersExperiment:i}))}}]),t}(r.Component);V.propTypes={topics:w.a.array.isRequired,selectedTopics:w.a.array.isRequired,onToggleTopic:w.a.func.isRequired};var q=V,W=n(88),G=n(107),J=n(251),X=n(18),Y=n(60),Q=n.n(Y),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $=[{href:__("url.posts.help.creation"),link:__("label.post.tooltip.link2")}],ee=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleSaveText=function(e,t){r.setState({postText:e,postLen:t})},r.handleSaveMedia=function(e){r.setState({attachmentsContainerId:e})},r.handleSubmit=function(){var e=r.state,t=e.postText,n=e.postLen,a=e.attachmentsContainerId,o=e.commentsRestrictionMode,i=e.pollsId,c=e.pollUrl,l=r.props,s=l.onSubmit,u=l.onSaveDraft;n>0&&(u(t,a),s(t,a,o,i,c))},r.handleClose=function(){var e=r.state.postLen,t=r.props,n=t.onTogglePopup,a=t.content,o=a.selectedTopics.length>0?a.selectedTopics[0].eventKey:null;e>0?n({popupName:"exitPopup"}):(n({popupName:null}),r.props.sendCreationPostMetrika("close_popup","popup",a.eventKey?a.eventKey:o))},r.handleShowTopicList=function(){var e=r.props.content,t=e.eventKey,n=e.targetName,a=e.topics[e.targetTopics].find((function(e){return e.eventKey===t})),o=a?a.topicUrl:"";r.props.onToggleTopic({eventKey:t,targetName:n,topicUrl:o}),r.props.sendCreationPostMetrika("add_topic","popup",t)},r.handleSaveSettings=function(e){r.setState({commentsRestrictionMode:e})},r.handleSavePolls=function(e,t){r.setState({pollsId:e,pollUrl:t})},r.state={postText:e.content.text,postLen:0,attachmentsContainerId:e.content.attachmentsContainerId,commentsRestrictionMode:0,pollsId:e.poll||null,pollUrl:null},r.editorRef=a.a.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Z(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onSaveDraft;Object(X.f)(this.editorRef.current),this.editorRef.current.onblur=function(){return t(e.state.postText,e.state.attachmentsContainerId)},this.props.sendCreationPostMetrika("view_form","popup",this.props.content.eventKey?this.props.content.eventKey:null)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isFetching,n=e.isError;!this.props.isFetching||t||n||this.props.onTogglePopup({popupName:"successPopup"})}},{key:"render",value:function(){var e=this.state,t=e.postText,n=e.attachmentsContainerId,r=e.commentsRestrictionMode,o=this.props,i=o.content,c=o.user,l=o.isFetching,s=o.isUserInNewTeachersExperiment,u=window.matchMedia("(max-width: 620px)").matches,p=!i.eventKey,d=!!i.eventKey&&!i.singleTarget&&i.targetTopics&&i.topics[i.targetTopics].length>0,m=__("label.post.create.title")+": "+(p?"":i.targetName);m.length>50&&(m=m.slice(0,50)+"...");var f=__("label.post.button.send"),h=i.selectedTopics.length>0?i.selectedTopics[0].eventKey:null,v=a.a.createElement(J.a,{commentsRestrictionIsAvailable:i.commentsRestrictionIsAvailable,commentsRestrictionMode:r,onChange:this.handleSaveSettings,sendCreationPostMetrika:this.props.sendCreationPostMetrika,eventKey:i.eventKey?i.eventKey:h,popup:!0});return a.a.createElement(E.a,{title:m,showPlusButton:d,onPlusClick:this.handleShowTopicList,onClose:this.handleClose,isUserInNewTeachersExperiment:s},!(u&&s)&&a.a.createElement(G.a,{content:$,style:{position:"absolute",top:15,right:29,marginRight:15}}),p&&a.a.createElement(q,{schoolName:i.schoolName,topics:i.topics[i.targetTopics],selectedTopics:i.selectedTopics,onToggleTopic:this.props.onToggleTopic,sendCreationPostMetrika:this.props.sendCreationPostMetrika,isUserInNewTeachersExperiment:s}),a.a.createElement("div",{className:s?Q.a.redesignedCreateEditor:Q.a.create_editor},a.a.createElement(W.a,{testId:"popupPost",text:t,attachmentsContainerId:n,onSavePolls:this.handleSavePolls,currentUser:c,submitText:f,maxLength:1e4,minInputHeight:142,isFetching:l,editorRef:this.editorRef,onSubmit:this.handleSubmit,onSaveText:this.handleSaveText,onSaveMedia:this.handleSaveMedia,onCancel:this.handleClose,customButtons:v,multiplePreviews:!0,postSurvey:i.postSurvey,postLen:this.state.postLen,paragraphOnEnter:!0,sendCreationPostMetrika:this.props.sendCreationPostMetrika,eventKey:i.eventKey?i.eventKey:h,popup:!0})))}}]),t}(r.Component);ee.propTypes={content:w.a.object.isRequired,user:w.a.object.isRequired,isFetching:w.a.bool.isRequired,isError:w.a.bool,prevPopup:w.a.string,onSaveDraft:w.a.func.isRequired,onSubmit:w.a.func.isRequired,onTogglePopup:w.a.func.isRequired,onToggleTopic:w.a.func.isRequired},ee.defaultProps={isError:!1,prevPopup:null};var te=ee,ne=n(8),re=n(24),ae=n(186),oe=n.n(ae),ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var se=function(e){function t(){var e,n,r;ce(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=le(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={showSpinner:!1},r.handleSubmit=function(){r.props.isFetching||r.props.onSubmit()},le(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ie(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.isFetching;!n&&this.props.isFetching&&this.loaderTimer&&clearTimeout(this.loaderTimer),!n||this.props.isFetching||this.loaderTimer||(this.loaderTimer=setTimeout((function(){return t.setState({showSpinner:!0})}),1500))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loaderTimer)}},{key:"render",value:function(){var e,t,n,r=this.state.showSpinner,o=this.props,i=o.buttonsText,c=o.onClose,l=P()(oe.a.blue_button,(e={},t=oe.a.spinner,n=r,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return a.a.createElement("div",{className:oe.a.container},i.greyText&&a.a.createElement(ne.a,{appearance:"secondary",onClick:c,testId:"close-create-post"},i.greyText),i.blueText&&a.a.createElement("div",{className:l},a.a.createElement(ne.a,{onClick:this.handleSubmit,testId:"restart-create-post"},a.a.createElement("div",null,i.blueText),r&&a.a.createElement(re.a,null))))}}]),t}(r.Component);se.propTypes={isFetching:w.a.bool,buttonsText:w.a.object.isRequired,onSubmit:w.a.func,onClose:w.a.func.isRequired},se.defaultProps={isFetching:!1,onSubmit:function(){return null}};var ue=se,pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var fe=function(e){function t(){var e,n,r;de(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=me(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClose=function(){var e=r.props,t=e.prevPopup,n=e.onTogglePopup;n("viewPopup"===t?{popupName:"viewPopup"}:{popupName:null})},me(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pe(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isFetching,n=e.isError;!this.props.isFetching||t||n||this.props.onTogglePopup({popupName:null})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.onSubmit,r={blueText:__("label.post.button.cancel"),greyText:__("label.post.button.delete2")};return a.a.createElement(E.a,{title:__("label.post.delete.title"),icon:"delete",onClose:this.handleClose},a.a.createElement("div",{className:Q.a.text},__("label.post.text.delete.ask")),a.a.createElement(ue,{isFetching:t,buttonsText:r,onSubmit:this.handleClose,onClose:n}))}}]),t}(r.Component);fe.propTypes={isFetching:w.a.bool.isRequired,isError:w.a.bool.isRequired,prevPopup:w.a.string.isRequired,onSubmit:w.a.func.isRequired,onTogglePopup:w.a.func.isRequired};var he=fe,ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ye=function(e){function t(){var e,n,r;be(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ge(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClose=function(){r.props.onTogglePopup({popupName:r.props.prevPopup})},r.handleSubmit=function(){r.props.content&&r.props.content.captcha?r.props.onTogglePopup({popupName:"captchaPopup"}):r.props.onTogglePopup({popupName:"createPopup"})},r.handleSubmitClose=function(){if(r.props.onTogglePopup({popupName:null}),r.props.content&&r.props.sendCreationPostMetrika){var e=r.props.content.selectedTopics[0]?r.props.content.selectedTopics[0].eventKey:null;r.props.sendCreationPostMetrika("close_popup","popup",r.props.content.eventKey?r.props.content.eventKey:e)}},ge(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ve(t,[{key:"render",value:function(){var e={blueText:__("label.post.button.continue.create"),greyText:__("label.post.button.exit")};return a.a.createElement(E.a,{title:__("label.post.exit.title"),icon:"delete",onClose:this.handleClose,disableKeyDown:!0,disableClickOutside:!0},a.a.createElement("div",{className:Q.a.text},__("label.post.text.exit.ask")),a.a.createElement(ue,{isFetching:!1,buttonsText:e,onSubmit:this.handleSubmit,onClose:this.handleSubmitClose}))}}]),t}(r.Component);ye.propTypes={prevPopup:w.a.string.isRequired,onTogglePopup:w.a.func.isRequired};var we=ye,Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var xe=function(e){function t(){var e,n,r;_e(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=Ce(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClose=function(){r.props.onTogglePopup({popupName:r.props.prevPopup})},Ce(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ee(t,[{key:"render",value:function(){var e=this.props.errorInfo.content,t={greyText:__("label.post.button.exit")};return a.a.createElement(E.a,{title:e.title,icon:e.icon,onClose:this.handleClose},a.a.createElement("div",{className:Q.a.text},a.a.createElement("div",null,e.text)),a.a.createElement(ue,{buttonsText:t,onClose:this.handleClose}))}}]),t}(r.Component);xe.propTypes={errorInfo:w.a.object.isRequired,prevPopup:w.a.string.isRequired,onTogglePopup:w.a.func.isRequired};var ke=xe,Oe=n(68),Pe=n(95),Te=n.n(Pe),Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie=function(e){function t(){return Se(this,t),je(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ae(t,[{key:"render",value:function(){var e=this.props,t=e.selectedTopics,n=e.createdTopics,r=e.environmentPrefix,o=e.isUserInNewTeachersExperiment;return a.a.createElement(E.a,{isShort:!0,disableClickOutside:!0,disableKeyDown:!0,disableClose:!0,isUserInNewTeachersExperiment:o},a.a.createElement(Oe.a,{style:{display:"block",margin:"40px auto 0 auto"},environmentPrefix:r}),a.a.createElement("div",{className:Te.a.title},__("label.post.topiclist.progress")),a.a.createElement("div",{className:o?Te.a.redesignedProgress:Te.a.progress},a.a.createElement("div",{className:Te.a.line,style:{width:n.length/t.length*100+"%"}})),a.a.createElement("div",{className:Te.a.info},__("label.post.topiclist.progress.text").replace("{0}",n.length).replace("{1}",t.length)))}}]),t}(r.Component);Ie.propTypes={selectedTopics:w.a.array,createdTopics:w.a.array,environmentPrefix:w.a.string,isUserInNewTeachersExperiment:w.a.bool},Ie.defaultProps={selectedTopics:[],createdTopics:[],environmentPrefix:"",isUserInNewTeachersExperiment:!1};var Ne=Ie,De=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Le=function(e){function t(){return Re(this,t),Me(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),De(t,[{key:"render",value:function(){var e=this.props,t=e.schoolName,n=e.topics,o=e.isUserInNewTeachersExperiment,i=n.filter((function(e){return!e.isError}));return n.sort((function(e,t){return e.targetName>t.targetName?1:t.targetName>e.targetName?-1:0})),a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:Te.a.info,style:{margin:"0 0 14px"}},__("label.post.topiclist.progress.text").replace("{0}",i.length).replace("{1}",n.length)),a.a.createElement("div",{className:o?I.a.redesignedContainer:I.a.container,style:{border:"1px solid #dcdcdc",borderRadius:"5px",height:"auto",maxHeight:"193px"}},n.map((function(e){return a.a.createElement("div",{key:e.eventKey,className:o?A.a.redesignedResultContainer:A.a.resultContainer},a.a.createElement("span",{style:{color:e.isError?"#ff2929":"#2291be"}},a.a.createElement("a",{href:e.topicUrl,target:"_blank",style:{color:e.isError?"#ff2929":"#2291be",textDecoration:"none"}},e.targetName,e.isError?__("label.post.topiclist.cant.add"):"")),a.a.createElement("span",null,t))}))))}}]),t}(r.Component);Le.propTypes={topics:w.a.array.isRequired};var Ue=Le,Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ke=function(e){function t(){var e,n,r;ze(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=He(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClose=function(){r.props.onTogglePopup({popupName:null})},He(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fe(t,[{key:"render",value:function(){var e=this.props,t=e.topicUrl,n=e.schoolName,r=e.createdTopics,o=e.isUserInNewTeachersExperiment,i={greyText:__("label.post.button.exit")},c=t?__("label.post.success.title"):__("label.post.success.multiply.title");return a.a.createElement(E.a,{title:c,icon:"check",onClose:this.handleClose,isUserInNewTeachersExperiment:o},t&&0===r.length?a.a.createElement("div",{className:Q.a.text},a.a.createElement("a",{className:Q.a.link,href:t,target:"_blank",onClick:this.handleClose},__("label.post.text.success"))):a.a.createElement(Ue,{schoolName:n,topics:r,isUserInNewTeachersExperiment:o}),a.a.createElement(ue,{buttonsText:i,onClose:this.handleClose,testId:this.props.testId}))}}]),t}(r.Component);Ke.propTypes={topicUrl:w.a.string,createdTopics:w.a.array,onTogglePopup:w.a.func.isRequired},Ke.defaultProps={topicUrl:"",createdTopics:[]};var Be=Ke,Ve=n(169),qe=n(166),We=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Xe=function(e){function t(){var e,n,r;Ge(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=Je(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.dispatchScroll=function(){var e=document.createEvent("Event");e.initEvent("scroll",!0,!0),e.isViewPostPopup=!0,document.dispatchEvent(e)},r.handleClose=function(){r.props.onClose()},Je(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),We(t,[{key:"componentDidMount",value:function(){this.dispatchScroll()}},{key:"componentDidUpdate",value:function(){this.dispatchScroll()}},{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.post,r=e.getPost,o=n.experiments||{},i=null,c=null;if(n.posts){var l=n.posts.findIndex((function(e){return e.id==n.postId}));i=l>0&&n.posts[l-1],c=l>-1&&l+1<n.posts.length&&n.posts[l+1]}return a.a.createElement(Ve.a,{isShort:!0,onClose:this.handleClose,onPrev:i&&function(){return r(i.eventKey,i.id)},onNext:c&&function(){return r(c.eventKey,c.id)}},a.a.createElement(qe.a,{key:n.id,post:n,editPost:this.props.onEdit,deletePost:this.props.onDelete,currentUser:t,shareEnabled:o.share,postReactionsClick:o.postReactionsClick,onShare:this.handleClose,favoritesUrl:n.favoritesUrl,inPopup:!0,mobileFeed:this.props.mobileFeed}))}}]),t}(r.Component);Xe.propTypes={currentUser:w.a.object.isRequired,post:w.a.object.isRequired,onClose:w.a.func.isRequired};var Ye=Xe,Qe=n(51),Ze=n(74),$e=n(220),et=n.n($e),tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var at=function(e){function t(){return nt(this,t),rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tt(t,[{key:"render",value:function(){var e=this.props.subscriber;return a.a.createElement("div",{className:et.a.container},a.a.createElement(Qe.a,{author:e,style:{width:40,height:40,fontSize:14,marginRight:17},showName:!0}),a.a.createElement("div",{className:et.a.info},e.isViewed?a.a.createElement("div",null,Object(Ze.a)(e.viewedDate)):a.a.createElement("div",null,__("label.post.statistic.unviewed"))))}}]),t}(r.Component);at.propTypes={subscriber:w.a.object.isRequired};var ot=at,it=n(158),ct=n(61),lt=n.n(ct),st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function pt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function dt(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}var mt=[{href:__("url.posts.help.views"),link:__("label.post.tooltip.link3"),text:__("label.post.tooltip.text3")}],ft=function(e){function t(e,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.fetchStatistic=(a=dt(regeneratorRuntime.mark((function e(){var t,n,a,i,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.page;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props,n=t.eventKey,a=t.postId,o.setState({isFetching:!0}),i=void 0,"viewed"!==c){e.next=9;break}return e.next=6,f.a.getViewedStatistic({eventKey:n,postId:a,startDate:null,limit:25});case 6:i=e.sent,e.next=13;break;case 9:if("unviewed"!==c){e.next=13;break}return e.next=12,f.a.getUnviewedStatistic({eventKey:n,postId:a,startUser:null,limit:25});case 12:i=e.sent;case 13:o.setState({page:c,statistic:i,isFetching:!1});case 14:case"end":return e.stop()}}),e,r)}))),function(){return a.apply(this,arguments)}),o.handleClose=function(){var e=o.props,t=e.prevPopup;(0,e.onTogglePopup)({popupName:t})},o.handleTabClick=function(e){o.state.page!==e&&o.fetchStatistic(e)},o.handleScroll=dt(regeneratorRuntime.mark((function e(){var t,n,a,i,c,l,s,u,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.state,n=t.page,a=t.statistic,i=o.props,c=i.eventKey,l=i.postId,!(a.subscribersCount>25&&a.subscribers.length!==a.subscribersCount)){e.next=18;break}if(s=void 0,o.setState({isFetching:!0}),"viewed"!==n){e.next=12;break}return u=a.subscribers[a.subscribers.length-1].viewedDate,e.next=9,f.a.getViewedStatistic({eventKey:c,postId:l,startDate:u,limit:25});case 9:s=e.sent,e.next=17;break;case 12:if("unviewed"!==n){e.next=17;break}return p=a.subscribers[a.subscribers.length-1].id,e.next=16,f.a.getUnviewedStatistic({eventKey:c,postId:l,startUser:p,limit:25});case 16:s=e.sent;case 17:o.setState({statistic:st({},a,{subscribers:[].concat(pt(a.subscribers),pt(s.subscribers))}),isFetching:!1});case 18:case"end":return e.stop()}}),e,r)})));var i=Object(it.a)("statistic");return"unviewed"!==i&&"viewed"!==i&&(i=null),o.state={page:i||"viewed",statistic:{viewsCount:0,subscribersCount:0},isFetching:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ut(t,[{key:"componentWillMount",value:function(){this.fetchStatistic()}},{key:"render",value:function(){var e=this,t=this.state,n=t.page,o=t.statistic,i=t.isFetching,c=__("label.post.statistic.views.info").replace("{0}",o.viewsCount),l=__("label.post.statistic.unviews.info").replace("{0}",o.subscribersCount-o.viewsCount),s=__("label.post.statistic.empty.views").replace("{0}","<img class="+lt.a.emoji+' src="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAP///yH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==" style="background-position:-58px -76px" />'),u=__("label.post.statistic.empty.unviews").replace("{0}","<img class="+lt.a.emoji+' src="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAP///yH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==" style="background-position:-153px -114px" />');return a.a.createElement(E.a,{isFetching:i,onScroll:this.handleScroll,onClose:this.handleClose},a.a.createElement(G.a,{content:mt,style:{position:"absolute",top:15,right:29,marginRight:15}}),a.a.createElement("div",{className:lt.a.content},a.a.createElement("div",{className:lt.a.header},a.a.createElement("div",{"data-test-id":"viewed",className:"viewed"===n?lt.a.selected:lt.a.unselected,onClick:function(){return e.handleTabClick("viewed")}},c),a.a.createElement("div",{"data-test-id":"unviewed",className:"unviewed"===n?lt.a.selected:lt.a.unselected,onClick:function(){return e.handleTabClick("unviewed")}},l)),o.subscribers&&a.a.createElement("div",{className:lt.a.wrapper},o.subscribers.length>0&&a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:lt.a.info},a.a.createElement("div",null,__("label.post.statistic.tab.user")),a.a.createElement("div",null,__("label.post.statistic.tab.date"))),o.subscribers.map((function(e){return a.a.createElement(ot,{key:e.id,subscriber:e})}))),o.subscribers.length<1&&"viewed"===n&&a.a.createElement("div",{className:lt.a.empty,dangerouslySetInnerHTML:{__html:s}}),o.subscribers.length<1&&"unviewed"===n&&a.a.createElement("div",{className:lt.a.empty,dangerouslySetInnerHTML:{__html:u}}))))}}]),t}(r.Component);ft.propTypes={eventKey:w.a.string.isRequired,postId:w.a.number.isRequired,prevPopup:w.a.string.isRequired,onTogglePopup:w.a.func.isRequired};var ht=ft,vt=n(80),bt=n(82),gt=n.n(bt),yt=n(157),wt=n(16),Et=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var _t=Object(r.memo)((function(e){var t,n=e.content,o=e.closeCaptcha,i=e.sendCaptcha,c=e.isUserInNewTeachersExperiment,l=Object(r.useState)(""),s=Et(l,2),u=s[0],p=s[1],d=n.captcha;return Object(r.useEffect)((function(){return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)};function e(e){e.keyCode===wt.a.ENTER&&i({input:u,id:d.id,captchaBase64:d.input})}}),[d,u]),a.a.createElement(E.a,{onClose:function(){return o()},isUserInNewTeachersExperiment:c},a.a.createElement("div",{className:c?gt.a.redesignedContent:gt.a.content},a.a.createElement("div",{className:gt.a.title},__("label.post.captcha.label")),a.a.createElement("div",{className:gt.a.body},a.a.createElement("img",{src:"data:image/jpg;base64, "+d.input,alt:"capthca"})),a.a.createElement("div",{className:gt.a.inputContainer},a.a.createElement("input",{type:"number",className:gt.a.captchaInput,name:"captcha",onChange:function(e){return p(e.target.value)}}),null===(t=d.isValid)||t?null:a.a.createElement("div",{className:gt.a.isinvalid},__("label.post.captcha.isinvalid"))),a.a.createElement("div",{className:gt.a.buttonContainer},d.isFetching?a.a.createElement(Oe.a,{environmentPrefix:n.environmentPrefix}):a.a.createElement(yt.a,{submitText:__("label.post.captcha.send"),isFetching:!1,onSubmit:function(){i({input:u,id:d.id,captchaBase64:d.input})}}))))})),Ct=n(40),xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Pt=function(e){function t(){var e,n,r;kt(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=Ot(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleDocumentClick=function(e){if(!e.which||1===e.which){var t=e.target.getAttribute("data-post-key");if("string"==typeof t){var n=e.target.getAttribute("data-post-type"),a=e.target.getAttribute("data-post-id");if("create"===n){var o=e.target.getAttribute("data-post-target"),i=e.target.getAttribute("data-post-topics"),c=e.target.getAttribute("data-post-singletarget"),l=e.target.getAttribute("data-post-comments-restriction-available");r.props.togglePopup({popupName:"createPopup",eventKey:t,targetName:o,singleTarget:c,targetTopics:i,commentsRestrictionIsAvailable:l})}else if("delete"===n)r.props.togglePopup({popupName:"deletePopup",eventKey:t,postId:a});else if("statistic"===n)r.props.togglePopup({popupName:"statisticPopup",eventKey:t,postId:a});else if("view"===n){var u=e.target.getAttribute("data-posts"),p=u&&JSON.parse(u);p&&r.props.setPosts(p),r.props.getPost(t,a)}var d=e.target.getAttribute("ya-metrika-goal");d&&Object(s.b)(d)}}},r.handleSubmitCreatePopup=function(e,t,n,a,o){var i=r.props.postWidgetContent,c=i.eventKey,u=i.selectedTopics;Object(Ct.a)("send_post","popup",c||u[0].eventKey);var p=Object(vt.a)(e,[o]),d=Object(l.b)(p);if(c)r.props.createPost(c,d,t,n,a);else if(1===u.length)r.props.createPost(u[0].eventKey,d,t,n,a);else if(u.length>1)r.props.multiplyCreatePost(u,d,t,n),Object(s.b)("bulkCreatePosts");else if(u.length<1){var m=document.getElementById("topic_list_input");m.style.boxShadow="inset 0px 0px 0px 1px rgba(255,0,0,1)",setTimeout((function(){return m.style.boxShadow="initial"}),2e3)}},r.handleSubmitDeletePopup=function(){var e=r.props.postWidgetContent,t=e.eventKey,n=e.postId;r.props.deletePost(t,n)},r.handleCloseViewPopup=function(){var e=r.props.postWidgetContent;r.props.updatePostEvent(e.eventKey,e.postId),r.props.togglePopup({popupName:null});var t=document.createEvent("CustomEvent");t.initCustomEvent("viewPopupClosed",!0,!0,{postsView:!!e.posts}),document.dispatchEvent(t)},Ot(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xt(t,[{key:"componentDidMount",value:function(){Object(c.b)({click:this.handleDocumentClick}),this.props.viewUnviwed&&(Object(c.b)({scroll:g}),b()),this.props.postWall||Object(Ct.a)("view_button",null,null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.popupsVisibility,o=t.postWidgetContent,i=t.currentUser,c=t.postWidgetError,l=t.postWidgetUiState,s=t.isUserInNewTeachersExperiment,u=n.createPopup,p=n.deletePopup,d=n.captchaPopup,m=n.errorPopup,f=n.exitPopup,h=n.progressPopup,v=n.successPopup,b=n.viewPopup,g=n.statisticPopup,y=n.prevPopup;return a.a.createElement(r.Fragment,null,u&&a.a.createElement(te,{content:o,user:i,isFetching:l.isFetching,isError:c.httpStatus,prevPopup:y,onSaveDraft:this.props.saveDraft,onSubmit:this.handleSubmitCreatePopup,onTogglePopup:this.props.togglePopup,onToggleTopic:this.props.toggleTopic,sendCreationPostMetrika:Ct.a,isUserInNewTeachersExperiment:s}),p&&a.a.createElement(he,{isFetching:l.isFetching,isError:c.httpStatus,prevPopup:y,onSubmit:this.handleSubmitDeletePopup,onTogglePopup:this.props.togglePopup}),f&&a.a.createElement(we,{content:o,prevPopup:y,onTogglePopup:this.props.togglePopup,sendCreationPostMetrika:Ct.a}),h&&a.a.createElement(Ne,{selectedTopics:o.selectedTopics,createdTopics:l.createdTopics,environmentPrefix:o.environmentPrefix,isUserInNewTeachersExperiment:s}),d&&a.a.createElement(_t,{content:o,sendCaptcha:this.props.sendCaptcha,closeCaptcha:this.props.closeCaptcha,isUserInNewTeachersExperiment:s}),v&&a.a.createElement(Be,{topicUrl:o.topicUrl,schoolName:o.schoolName,createdTopics:l.createdTopics,onTogglePopup:this.props.togglePopup,isUserInNewTeachersExperiment:s,testId:"close-success-post"}),m&&a.a.createElement(ke,{errorInfo:c,prevPopup:y,onTogglePopup:this.props.togglePopup}),b&&a.a.createElement(Ye,{currentUser:i,post:o,onClose:this.handleCloseViewPopup,getPost:this.props.getPost,onEdit:this.props.editPost,onDelete:function(t,n){return e.props.togglePopup({popupName:"deletePopup",eventKey:t,postId:n})},mobileFeed:this.props.mobileFeed}),g&&a.a.createElement(ht,{eventKey:o.eventKey,postId:o.postId,prevPopup:y,onTogglePopup:this.props.togglePopup}))}}]),t}(r.PureComponent);t.a=Object(o.b)((function(e){var t=e.post?e.post:e;return{popupsVisibility:Object(p.b)(t),postWidgetContent:Object(p.c)(t),currentUser:Object(p.a)(t),postWidgetError:Object(p.d)(t),postWidgetUiState:Object(p.e)(t)}}),(function(e){return Object(i.b)({setPosts:u.i,getPost:u.e,createPost:u.b,multiplyCreatePost:u.f,deletePost:u.c,updatePostEvent:u.l,togglePopup:u.j,toggleTopic:u.k,saveDraft:u.g,editPost:u.d,sendCaptcha:u.h,closeCaptcha:u.a},e)}))(Pt)},26:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m}));var r=n(29),a=n.n(r),o=n(12),i=n(138);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=t.userId,r=t.role,a=t.source,l=t.chats,s=t.unreadChats,u=t.innerContext,p=l&&s&&i.a.map((function(e){return e.contentName+" "+(s[e.name]||0)+"/"+(l[e.name]||0)})).join(";"),d={Messenger2020:c({},Date.now(),c({},n,c({},r||"notset",c({},e,c({},a||"notset",c({},window.location.pathname,c({},u||"not_set",c({},p||"notset",null))))))))};Object(o.a)(d)}var s=["bot","student","parent","staff"];function u(e,t,n,r,o,c){var l="read_all";if(t){var u=o&&c&&c[o.authorJid],p=u&&(u.isSystem?["bot"]:u.roles)||[];l=(p=a.a.orderBy(p,[function(e){return s.indexOf(e)}],["desc"])).length?"unread_"+p[0]:"unread"}return Object(i.b)(e,r)+" "+l+" "+(n||"unknown")}function p(e,t){var n=t.userId,r=t.role,i=t.notifystatus,l=t.roles,u=l&&l.length&&a.a.orderBy(l,[function(e){return s.indexOf(e)}],["desc"])[0],p=window.location.pathname,d={msgButton:c({},Date.now(),c({},n,c({},r||"notset",c({},p,c({},e,c({},u||"none",c({},i,null)))))))};Object(o.a)(d)}function d(e,t,n,r){var a=r.userId,i=r.role,l=window.location.pathname,s={MangooseConnects:c({},Date.now(),c({},a,c({},i||"notset",c({},e,c({},t,c({},l,c({},n,null)))))))};Object(o.a)(s)}function m(e,t,n){var r=n.urls,a=n.metrika.userId,i=window.location.pathname,l={MongooseReply:c({},Date.now(),c({},a,c({},r.mongooseWSHost,c({},e,c({},t||"none",c({},i,null))))))};Object(o.a)(l)}},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={createPopup:!1,deletePopup:!1,errorPopup:!1,captchaPopup:!1,exitPopup:!1,progressPopup:!1,successPopup:!1,viewPopup:!1,statisticPopup:!1,prevPopup:null},c=function(e){var t=a({},e);return Object.keys(e).find((function(e){return!0===t[e]}))||null};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.a.TOGGLE_POPUP:var n,l=t.payload,s=l.popupName,u=(l.post,c(e));return a({},i,s?(o(n={},s,!0),o(n,"prevPopup",u),n):{prevPopup:u});case r.a.MULTIPLY_CREATE_POST:var p=c(e);return a({},i,{progressPopup:!0,prevPopup:p});case r.a.CLOSE_CAPTCHA:var d=c(e);return a({},i,{captchaPopup:!1,exitPopup:!0,prevPopup:d});case r.a.MULTIPLY_CREATE_POST_COMPLETE:var m=c(e);return a({},i,{successPopup:!0,prevPopup:m});case r.a.GET_POST_COMPLETE:var f=c(e);return a({},i,{viewPopup:!0,prevPopup:f});case r.a.GET_POST_FAILED:case r.a.EDIT_POST_FAILED:case r.a.CREATE_POST_FAILED:var h=c(e);return a({},i,{errorPopup:!0,prevPopup:h})}return e}},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=n(183),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=Object(a.a)().postWidgetContent;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case r.a.SAVE_DRAFT:var n=t.payload,a=n.text,l=n.attachmentsContainerId;return o({},e,{text:a,attachmentsContainerId:l});case r.a.TOGGLE_POPUP:var s=t.payload,u=s.popupName,p=s.eventKey,d=s.postId,m=s.targetName,f=s.singleTarget,h=s.targetTopics,v=s.commentsRestrictionIsAvailable;return null===u?c:!u||"string"==typeof p||p||d?o({},e,{eventKey:p,postId:d,targetName:m,singleTarget:f,targetTopics:h,commentsRestrictionIsAvailable:v}):e;case r.a.TOGGLE_TOPIC:var b=t.payload.topic,g=[].concat(i(e.selectedTopics)),y=g.findIndex((function(e){return e.eventKey===b.eventKey}));return-1!==y?g.splice(y,1):g.push(b),o({},e,{targetName:"",eventKey:"",selectedTopics:g});case r.a.SET_POSTS:return o({},e,{posts:t.payload});case r.a.SHOW_CAPTCHA:var w=t.payload.post;return w.captcha.isFetching=!1,o({},e,w);case r.a.SEND_CAPTCHA:var E=t.payload.input,_={captcha:{input:E.captchaBase64,isFetching:!0,isValid:!0}};return o({},e,_);case r.a.GET_POST_COMPLETE:var C=t.payload.post,x=C.eventKey,k=C.id;return o({eventKey:x,postId:k,topics:e.topics},t.payload.post,{experiments:t.payload.experiments,posts:e.posts,favoritesUrl:e.favoritesUrl});case r.a.CREATE_POST_COMPLETE:var O=t.payload.post.topicUrl;return o({},e,{topicUrl:O});case r.a.EDIT_POST_COMPLETE:var P=t.payload.post;return e.postId===P.id?o({},e,P,{updatedDate:Date.now()}):e;case r.a.DELETE_POST_COMPLETE:return c}return e}},28:function(e,t,n){e.exports={container:"_3ZQex",container_borderless:"_1CDPc",editor_wrapper:"_25DbF",editor_wrapper_expanded:"fIjir",input:"QEkIc",active:"_17Bz3",block:"_38tpE",emojis_input:"_2m8ug",footer:"_2GK1F",attachments:"_1x-hl",multiple_attachments:"_15_Rn",toolbar:"_1pXMM",avatarContainer:"bjykZ",dnevnikExpert:"a-4aK",polls:"_1IFtW",pollsText:"_3yapq",pollsCross:"_2XdVS"}},280:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return t.type,e}n.d(t,"a",(function(){return r}))},281:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a={};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.a.EDIT_POST_FAILED:var n=t.payload.httpStatus,o={icon:"lock",title:__("label.post.error.title2"),text:__("label.post.error.text2")};return{httpStatus:n,content:o};case r.a.CREATE_POST_FAILED:var i=t.payload.httpStatus,c=403===i&&{icon:"arrows",title:__("label.post.error.title3"),text:__("label.post.error.text3")}||{icon:"arrows",title:__("label.post.error.title3"),text:__("label.post.error.text4")};return{httpStatus:i,content:c};case r.a.GET_POST_FAILED:var l=t.payload.httpStatus,s=(403===l||408===l)&&{icon:"lock",title:__("label.post.error.title1"),text:__("label.post.error.text1")}||500===l&&{icon:"docx",title:__("label.post.error.title4"),text:__("label.post.error.text5")}||404===l&&{icon:"search",title:__("label.post.error.title5"),text:__("label.post.error.text6")};return{httpStatus:l,content:s};case r.a.GET_POST_COMPLETE:case r.a.CREATE_POST_COMPLETE:case r.a.EDIT_POST_COMPLETE:return a;case r.a.TOGGLE_POPUP:var u=t.payload.popupName;return null===u?a:e}return e}},282:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i={};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.a.CREATE_POST:case r.a.EDIT_POST:case r.a.DELETE_POST:case r.a.MULTIPLY_CREATE_POST:return{isFetching:!0};case r.a.CREATE_POST_COMPLETE:case r.a.CREATE_POST_FAILED:case r.a.EDIT_POST_COMPLETE:case r.a.EDIT_POST_FAILED:case r.a.DELETE_POST_COMPLETE:case r.a.MULTIPLY_CREATE_POST_COMPLETE:return a({},e,{isFetching:!1});case r.a.MULTIPLY_CREATE_POST_STEP:var n=t.payload.topic;return a({},e,{createdTopics:[].concat(o(e.createdTopics||[]),[n])});case r.a.TOGGLE_POPUP:var c=t.payload.popupName;return null===c?i:e}return e}},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),a=n(19),o=n(4),i=n(38),c=n(185),l=n(40),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=regeneratorRuntime.mark(w),p=regeneratorRuntime.mark(E),d=regeneratorRuntime.mark(_),m=regeneratorRuntime.mark(C),f=regeneratorRuntime.mark(x),h=regeneratorRuntime.mark(k),v=regeneratorRuntime.mark(O),b=regeneratorRuntime.mark(P),g=regeneratorRuntime.mark(T),y=regeneratorRuntime.mark(j);function w(e){var t,n=e.type,a=e.payload;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r.b)(i.a.getPost,a);case 3:return t=e.sent,e.next=6,Object(r.e)({type:n+"_COMPLETE",payload:{post:t.post,experiments:t.experiments}});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(r.e)({type:n+"_FAILED",payload:{httpStatus:500}});case 12:case"end":return e.stop()}}),u,this,[[0,8]])}function E(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.i)(o.a.GET_POST,w);case 2:case"end":return e.stop()}}),p,this)}function _(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.i)(o.a.UPDATE_POST_EVENT,w);case 2:case"end":return e.stop()}}),d,this)}function C(e){var t,n,a,s,u=e.payload;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=u.inline,e.next=4,Object(r.b)(i.a.createPost,u);case 4:if(n=e.sent,a=void 0,!n.captcha){e.next=34;break}case 7:if(!a){e.next=14;break}return Object(l.a)("captcha_fail ",t?"inline":"popup",n.eventKey),e.next=12,Object(r.e)({type:o.a.SHOW_CAPTCHA,payload:{post:a.post}});case 12:e.next=17;break;case 14:return Object(l.a)("view_captcha",t?"inline":"popup",n.eventKey),e.next=17,Object(r.e)({type:o.a.SHOW_CAPTCHA,payload:{post:n}});case 17:return e.next=19,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"captchaPopup"}});case 19:return e.next=21,Object(r.h)(o.a.SEND_CAPTCHA_SUCCESS);case 21:return s=e.sent,e.next=24,Object(r.b)(i.a.publishPostWithCaptcha,{id:n.id,eventKey:n.eventKey,captcha:s.payload.input});case 24:if(!((a=e.sent).post&&a.post.captcha&&a.post.captcha.isValid)){e.next=32;break}return Object(l.a)("captcha_success",t?"inline":"popup",n.eventKey),e.next=29,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"captchaPopup"}});case 29:return e.next=31,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"successPopup"}});case 31:return e.abrupt("break",34);case 32:e.next=7;break;case 34:if(!n.id){e.next=45;break}if(a||n.captcha){e.next=39;break}return e.next=38,Object(r.b)(i.a.publishPost,{id:n.id,eventKey:n.eventKey});case 38:a=e.sent;case 39:return Object(l.a)("send_post_success",t?"inline":"popup",u.eventKey),e.next=42,Object(r.e)({type:o.a.CREATE_POST_COMPLETE,payload:{post:a.post}});case 42:Object(c.a)([a.post]),e.next=48;break;case 45:return Object(l.a)("error",t?"inline":"popup",u.eventKey),e.next=48,Object(r.e)({type:o.a.CREATE_POST_FAILED,payload:{httpStatus:500}});case 48:e.next=55;break;case 50:return e.prev=50,e.t0=e.catch(0),Object(l.a)("error",u.inline?"inline":"popup",u.eventKey),e.next=55,Object(r.e)({type:o.a.MULTIPLY_CREATE_POST_FAILED,payload:{httpStatus:500}});case 55:case"end":return e.stop()}}),m,this,[[0,50]])}function x(e){var t=e.payload;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.e)({type:o.a.SEND_CAPTCHA_SUCCESS,payload:t});case 2:case"end":return e.stop()}}),f,this)}function k(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.i)(o.a.SEND_CAPTCHA,x);case 2:case"end":return e.stop()}}),h,this)}function O(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.i)(o.a.CREATE_POST,C);case 2:case"end":return e.stop()}}),v,this)}function P(e){var t,n,a,u,p,d,m,f,h,v=e.payload;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=v.selectedTopics,n=v.text,a=v.attachmentsContainerId,u=v.commentsRestrictionMode,p=[],d=void 0,m=void 0,f=void 0,h=0;case 7:if(!(h<t.length)){e.next=63;break}return e.prev=8,e.next=11,Object(r.b)(i.a.createPost,{eventKey:t[h].eventKey,text:n,attachmentsContainerId:a,commentsRestrictionMode:u});case 11:if(!(m=e.sent).captcha||d){e.next=42;break}case 13:if(!d){e.next=20;break}return Object(l.a)("captcha_fail","popup",m.eventKey),e.next=18,Object(r.e)({type:o.a.SHOW_CAPTCHA,payload:{post:d.post}});case 18:e.next=23;break;case 20:return Object(l.a)("view_captcha","popup",m.eventKey),e.next=23,Object(r.e)({type:o.a.SHOW_CAPTCHA,payload:{post:m}});case 23:return e.next=25,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"captchaPopup"}});case 25:return e.next=27,Object(r.h)(o.a.SEND_CAPTCHA_SUCCESS);case 27:return f=e.sent,e.next=30,Object(r.b)(i.a.publishPostWithCaptcha,{id:m.id,eventKey:m.eventKey,captcha:f.payload.input});case 30:if(!((d=e.sent).post&&d.post.captcha&&d.post.captcha.isValid)){e.next=38;break}return Object(l.a)("captcha_success","popup",m.eventKey),e.next=35,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"captchaPopup"}});case 35:return e.next=37,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"progressPopup"}});case 37:return e.abrupt("break",40);case 38:e.next=13;break;case 40:e.next=51;break;case 42:if(!m.captcha){e.next=48;break}return e.next=45,Object(r.b)(i.a.publishPostWithCaptcha,{id:m.id,eventKey:m.eventKey,captcha:f.payload.input});case 45:d=e.sent,e.next=51;break;case 48:return e.next=50,Object(r.b)(i.a.publishPost,{id:m.id,eventKey:m.eventKey});case 50:d=e.sent;case 51:return e.next=53,Object(r.e)({type:o.a.MULTIPLY_CREATE_POST_STEP,payload:{topic:s({},t[h],{isError:!1})}});case 53:p.push(d.post),e.next=60;break;case 56:return e.prev=56,e.t0=e.catch(8),e.next=60,Object(r.e)({type:o.a.MULTIPLY_CREATE_POST_STEP,payload:{topic:s({},t[h],{isError:!0})}});case 60:h+=1,e.next=7;break;case 63:if(!m||!m.captcha){e.next=68;break}return e.next=66,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"progressPopup"}});case 66:return e.next=68,Object(r.e)({type:o.a.TOGGLE_POPUP,payload:{popupName:"successPopup"}});case 68:return Object(l.a)("send_post_success","popup",t[0].eventKey),e.next=71,Object(r.e)({type:o.a.MULTIPLY_CREATE_POST_COMPLETE,payload:p});case 71:Object(c.a)(p),e.next=79;break;case 74:return e.prev=74,e.t1=e.catch(0),Object(l.a)("error","popup",v.selectedTopics[0].eventKey),e.next=79,Object(r.e)({type:o.a.MULTIPLY_CREATE_POST_FAILED,payload:{httpStatus:500}});case 79:case"end":return e.stop()}}),b,this,[[0,74],[8,56]])}function T(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.i)(o.a.MULTIPLY_CREATE_POST,P);case 2:case"end":return e.stop()}}),g,this)}var A=Object(a.b)(o.a.EDIT_POST,i.a.editPost),S=Object(a.b)(o.a.DELETE_POST,i.a.deletePost);function j(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.d)(E);case 2:return e.next=4,Object(r.d)(O);case 4:return e.next=6,Object(r.d)(T);case 6:return e.next=8,Object(r.d)(A);case 8:return e.next=10,Object(r.d)(S);case 10:return e.next=12,Object(r.d)(_);case 12:return e.next=14,Object(r.d)(k);case 14:case"end":return e.stop()}}),y,this)}},30:function(e,t,n){e.exports={container:"_1KdJO",scrollableContainer:"_2oATC",toolbar:"voe4g",popover:"_2UIv5",close_button:"_2vyzt",addfile:"BAXRQ",previews:"Q94jn",previewsWithAspectRatio:"GWV1S",addDescriptions:"_2qWl8",moreImages:"_2yOW-",moreImagesGrid:"_2QpZi",fileDescription:"_2oaWh",adaptiveTextAdd:"_24IGs",adaptiveTextFile:"MnnwS"}},31:function(e,t,n){e.exports={attachments_container:"_2KvEV",attachments_button:"_37907",attachment:"_3788W",popover:"_2ZvN2",close_button:"_3Itmv",attachments_popover:"_2mwDM",attachments_option:"ug8Ya",hidden:"_1Aodn",postSurvey:"LuxVG",postSurveyAdd:"Uwbxj"}},32:function(e,t,n){e.exports={overlay:"_1aEpT",insideParent:"H5blj",overlay_content:"_24-bN",container:"_1x1-2",redesignedContainer:"_2xwbx",header:"_2gGGb",title:"_1adtl",title_left:"vstW9",close:"_24gIu",short:"_1z7sU",short_close:"_3UzYb",prevButton:"_3T4rs",nextButton:"FIoKT"}},33:function(e,t,n){e.exports={container:"_1XQXY",buttons:"_3JYki",button_container:"_3E-ap",pollData:"_2KXhq",pollDescription:"_1Pe7C",pollInfo:"_5q7I0",text:"_3iIAQ",option:"_3pFT4",error:"_37oQd",deleteOption:"_18C8y",addOption:"_3zX-6"}},36:function(e,t,n){e.exports={container:"_3RGRi",title:"_24HNO",text:"_2xTP_",icon:"_1ipKU",buttonContainer:"_3TZyB"}},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var r=n(59);var a=n(18);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=function(e,t){e.removeAttribute("style");var n=document.createElement(t);n.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(n)},c=function(e,t,n,r){var a=document.createElement("div");return a.innerHTML=e,a.innerText.length>t&&(a.innerHTML=function(e,t,n){var r,a=t<10?t:10,o=["img","br"],i=[],c=0,l="",s=new RegExp("<s*([^s>]+)([^>]*)/s*>"),u=new RegExp('<\\/?\\w+\\s*([\\w|-]+\\s*(=\\s*"[^"]*")?\\s*)*\\s*\\/?\\s*>'),p=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w\-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g,d=new RegExp('<img\\s*([\\w|-]+\\s*(=\\s*"[^"]*")?\\s*)*\\s*\\/?\\s*>'),m=new RegExp("\\W+","g"),f=!0,h=void 0,v=void 0,b=void 0,g=void 0;function y(e){var t=e.indexOf(" ");if(-1===t&&-1===(t=e.indexOf(">")))throw new Error("HTML tag is not well-formed : "+e);return e.substring(1,t)}function w(e,r){var a=t-c,o=a,i=a<n.slop,l=i?a:n.slop-1,s=void 0,u=i?0:a-n.slop,p=r||a+n.slop,d=void 0;if(!n.truncateLastWord){if(s=e.slice(u,p),r&&s.length<=r)o=s.length;else for(;null!==(d=m.exec(s));){if(!(d.index<l)){if(d.index===l){o=a;break}o=a+(d.index-l);break}if(o=a-(l-d.index),0===d.index&&a<=1)break}e.charAt(o-1).match(/\s$/)&&o--}return o}for((n=n||{}).ellipsis=void 0!==n.ellipsis?n.ellipsis:"...",n.truncateLastWord=void 0===n.truncateLastWord||n.truncateLastWord,n.slop=void 0!==n.slop?n.slop:a;f;){if(!(f=u.exec(e))){if(c>=t)break;if(!(f=p.exec(e))||f.index>=t){l+=e.substring(0,w(e));break}for(;f;)h=f[0],v=f.index,l+=e.substring(0,v+h.length-c),e=e.substring(v+h.length),f=p.exec(e);break}if(h=f[0],v=f.index,c+v>t){l+=e.substring(0,w(e,v));break}c+=v,l+=e.substring(0,v),"/"===h[1]?(i.pop(),g=null):(g=s.exec(h))||(b=y(h),i.push(b)),l+=g?g[0]:h,e=e.substring(v+h.length)}return e.length>t-c&&n.ellipsis&&(l+=n.ellipsis),l+=(r="",i.reverse().forEach((function(e,t){-1===o.indexOf(e)&&(r+="</"+e+">")})),r),n.keepImageTag||(l=function(e){var t,n,r=d.exec(e);return r?(t=r.index,n=r[0].length,e.substring(0,t)+e.substring(t+n)):e}(l)),l}(a.innerHTML,t,{ellipsis:r}),a.innerHTML+=n),a.innerHTML},l=function(e){return e&&(""===e.textContent.trim()||1===e.childElementCount&&"BR"===e.firstChild.tagName)},s=function(e){for(var t=e.firstChild;l(t);){var n=t.nextSibling;e.removeChild(t),t=n}for(t=e.lastChild;l(t);){var r=t.previousSibling;e.removeChild(t),t=r}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(a.d)()?e.split("<br>").join("\n"):e,r=e.match(/<img .*?>/g);r&&[].concat(o(new Set(r))).forEach((function(e){var t=/id="([^"]+)"/.exec(e);if(t&&t[1]){var r=new RegExp(e,"g");n=n.replace(r,t[1])}}));var c=document.createElement("div");c.innerHTML=n;var l=function e(t){if(1===t.nodeType){"italic"===t.style.fontStyle?i(t,"i"):"bold"===t.style.fontWeight&&i(t,"b");for(var n=t.firstChild;n;)e(n),n=n.nextSibling}};return l(c),s(c),t?c.textContent||c.innerText:c.innerHTML},p=function(e,t,n,a,i,l){var s=e;n&&(s=c(s,n,a,l));var u=e.match(r.b);return u&&[].concat(o(new Set(u))).forEach((function(e){var n="<img id="+e+" src="+r.a+" class="+t+' style="background-position:'+r.c[e].position+'"/>',a=new RegExp(e,"g");s=s.replace(a,n)})),i?s:s.split("\n").join("<br>")}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(9);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=window.__POST__INITIAL__STATE__?window.__POST__INITIAL__STATE__.apiUrl:"",s=new a.a(l,"include",{simple:!0}),u=new(function(e){function t(){var e,n,r;o(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.getPost=function(e){var t=e.eventKey,n=e.postId,a=e.commentsLimit;return r.get("/topic/"+t+"/post/"+n+"/?commentsLimit="+a)},r.getViewedStatistic=function(e){var t=e.eventKey,n=e.postId,a=e.startDate,o=e.limit;return r.get("/topic/"+t+"/post/"+n+"/views/subscribers/viewed?startDate="+a+"&limit="+o)},r.getUnviewedStatistic=function(e){var t=e.eventKey,n=e.postId,a=e.startUser,o=e.limit;return r.get("/topic/"+t+"/post/"+n+"/views/subscribers/notviewed?startUser="+a+"&limit="+o)},r.setPostViewed=function(e){var t=e.eventKey,n=e.postId;return r.post("/topic/"+t+"/post/"+n+"/markasviewed",{})},r.createPost=function(e){var t=e.eventKey,n=e.text,a=e.attachmentsContainerId,o=e.commentsRestrictionMode,i=e.pollsId;return r.post("/topic/"+t+"/post/create",{text:n,attachmentsContainerId:a,commentsRestrictionMode:o,pollsId:i})},r.createPosts=function(e){var t=e.eventKeys,n=e.text,a=e.attachmentsContainerId,o=e.commentsRestrictionMode,i=e.pollsId;return r.post("/topics/posts/create",{eventKeys:t,text:n,attachmentsContainerId:a,commentsRestrictionMode:o,pollsId:i})},r.publishPostWithCaptcha=function(e){var t=e.eventKey,n=e.id,a=e.captcha;return r.post("/topic/"+t+"/post/"+n+"/publish",{input:a.input,id:a.id})},r.publishPost=function(e){var t=e.eventKey,n=e.id;e.captcha;return r.post("/topic/"+t+"/post/"+n+"/publish",{})},r.editPost=function(e){var t=e.eventKey,n=e.postId,a=e.text,o=e.attachmentsContainerId,i=e.pollsId;return r.post("/topic/"+t+"/post/"+n,{text:a,attachmentsContainerId:o,pollsId:i})},r.deletePost=function(e){var t=e.eventKey,n=e.postId;return r.post("/topic/"+t+"/post/"+n+"/delete",{})},i(r,n)}return c(t,e),t}(function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s))}return c(t,e),t}(r.a)))},39:function(e,t,n){"use strict";n(192);var r=n(17),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"same-origin",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{simple:!1};i(this,e),this.get=function(n,a){return fetch(n+(a?"?"+Object(r.a)(a):""),{method:"GET",cache:"no-cache",headers:e.getRequestHeaders(t.headers),credentials:t.credentials})},this.post=function(n,r){return fetch(n,{method:"POST",cache:"no-cache",headers:e.getRequestHeaders(t.headers),body:e.getRequestBody(t.headers,r),credentials:t.credentials})},this.credentials=n,this.headers=a}return o(e,null,[{key:"getRequestHeaders",value:function(e){return!!e.simple?new Headers({"Content-Type":"application/x-www-form-urlencoded"}):new Headers({Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",pragma:"no-cache"})}},{key:"getRequestBody",value:function(e,t){if(!!e.simple){var n=[];return Object.keys(t).forEach((function(e){Array.isArray(t[e])?t[e].forEach((function(t,r){t&&"object"===(void 0===t?"undefined":a(t))?Object.keys(t).forEach((function(a){n.push(e+"["+r+"]."+a+"="+encodeURIComponent(t[a]))})):n.push(e+"="+encodeURIComponent(t))})):null===t[e]?n.push(e+"="):n.push(e+"="+encodeURIComponent(t[e]))})),n.join("&")}return JSON.stringify(t)}}]),e}();t.a=c},393:function(e,t,n){"use strict";var r=n(11),a=n(278),o=n(279),i=n(280),c=n(281),l=n(282),s=Object(r.c)({popupsVisibility:a.a,postWidgetContent:o.a,currentUser:i.a,postWidgetError:c.a,postWidgetUiState:l.a});t.a=s},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),a=Object(r.a)("post_widget",{SET_POSTS:null,GET_POST:null,GET_POST_COMPLETE:null,GET_POST_FAILED:null,CREATE_POST:null,PUBLISH_POST:null,CREATE_POST_COMPLETE:null,CREATE_POST_FAILED:null,MULTIPLY_CREATE_POST:null,MULTIPLY_PUBLISH_POST:null,MULTIPLY_CREATE_POST_STEP:null,MULTIPLY_CREATE_POST_COMPLETE:null,MULTIPLY_CREATE_POST_FAILED:null,SEND_CAPTCHA:null,CLOSE_CAPTCHA:null,SHOW_CAPTCHA:null,SEND_CAPTCHA_SUCCESS:null,EDIT_POST:null,EDIT_POST_COMPLETE:null,EDIT_POST_FAILED:null,DELETE_POST:null,DELETE_POST_COMPLETE:null,DELETE_POST_FAILED:null,UPDATE_POST_EVENT:null,UPDATE_POST_EVENT_COMPLETE:null,UPDATE_POST_EVENT_FAILED:null,TOGGLE_POPUP:null,TOGGLE_TOPIC:null,SAVE_DRAFT:null})},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){var o=window.dnevnik&&window.dnevnik.user&&window.dnevnik.user.id,i=window.dnevnik&&window.dnevnik.user&&window.dnevnik.user.commonRole,c=t||null,l={PostCreation:a({},Date.now(),a({},o||"notset",a({},i||"notset",a({},e||"notset",a({},c,a({},window.location.pathname||"notset",a({},n||"notset",null)))))))};Object(r.a)(l)}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(9);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=window.apiUrls&&window.apiUrls.posts||window.__POST__INITIAL__STATE__&&window.__POST__INITIAL__STATE__.apiUrl,s=new a.a(l,"include",{simple:!0}),u=new(function(e){function t(){var e,n,r;o(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.getPost=function(e){var t=e.eventKey,n=e.postId,a=e.commentsLimit;return r.get("/topic/"+t+"/post/"+n+"/?commentsLimit="+a)},r.getViewedStatistic=function(e){var t=e.eventKey,n=e.postId,a=e.startDate,o=e.limit;return r.get("/topic/"+t+"/post/"+n+"/views/subscribers/viewed?startDate="+a+"&limit="+o)},r.getUnviewedStatistic=function(e){var t=e.eventKey,n=e.postId,a=e.startUser,o=e.limit;return r.get("/topic/"+t+"/post/"+n+"/views/subscribers/notviewed?startUser="+a+"&limit="+o)},r.setPostViewed=function(e){var t=e.eventKey,n=e.postId,a=e.context;return r.post("/topic/"+t+"/post/"+n+"/markasviewed?operationContext="+a,{})},r.setPostRendered=function(e){var t=e.posts,n=e.context;return r.post("/markasrendered?operationContext="+n,{posts:t})},r.createPost=function(e){var t=e.eventKey,n=e.text,a=e.attachmentsContainerId,o=e.commentsRestrictionMode,i=e.pollId;return r.post("/topic/"+t+"/post/create",{text:n,attachmentsContainerId:a,commentsRestrictionMode:o,pollId:i})},r.publishPost=function(e){var t=e.eventKey,n=e.id;return r.post("/topic/"+t+"/post/"+n+"/publish",{})},r.editPost=function(e){var t=e.eventKey,n=e.postId,a=e.text,o=e.attachmentsContainerId,i=e.pollsId;return r.post("/topic/"+t+"/post/"+n,{text:a,attachmentsContainerId:o,pollsId:i})},r.deletePost=function(e){var t=e.eventKey,n=e.postId;return r.post("/topic/"+t+"/post/"+n+"/delete",{})},r.like=function(e){var t=e.externalId,n=e.vote;return r.post("/likes/"+t+"/"+n,{})},r.setFavorite=function(e){return r.post("/postfavorite/set?postId="+e,{})},r.unsetFavorite=function(e){return r.post("/postfavorite/unset?postId="+e,{})},i(r,n)}return c(t,e),t}(function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s))}return c(t,e),t}(r.a)))},43:function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"s",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"t",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"m",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"r",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"u",(function(){return b})),n.d(t,"v",(function(){return g})),n.d(t,"w",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return _})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return x})),n.d(t,"o",(function(){return k})),n.d(t,"n",(function(){return O})),n.d(t,"p",(function(){return P}));var r=n(0),a=n.n(r),o=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"9",height:"12",viewBox:"0 0 9 12"},a.a.createElement("defs",null,a.a.createElement("path",{id:"trpna",d:"M157.513 138.936v-1.424c0-.642-.214-1.221-.64-1.737-.428-.517-.955-.775-1.582-.775-.627 0-1.154.258-1.58.775a2.657 2.657 0 0 0-.641 1.737v1.424zm.752-.131h1.196V146h-8.391v-7.195h1.195v-1.594c0-.813.285-1.55.856-2.215.57-.664 1.285-.996 2.144-.996.86 0 1.575.332 2.145.996.57.664.855 1.402.855 2.215z"})),a.a.createElement("g",null,a.a.createElement("g",{opacity:".8",transform:"translate(-151 -134)"},a.a.createElement("use",{fill:"#777878",xlinkHref:"#trpna"}))))},i=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"21",viewBox:"0 0 23 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#fff",strokeLinejoin:"round",strokeMiterlimit:"50",strokeWidth:"1.5",d:"M21 2v0L5 13.024V20z"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#fff",strokeLinejoin:"round",strokeMiterlimit:"50",strokeWidth:"1.5",d:"M5.777 12.885v0S3.864 11.7 1.893 10.157c-1.971-1.543-.189-2.083.686-2.536a247.88 247.88 0 0 1 17.368-6.359c2.218-.717 2.156.18 1.97.975-1.291 5.507-3.04 10.696-5.246 15.568-.466 1.03-1.65 1.568-2.603.9-1.964-1.374-4.496-3.16-4.496-3.16v0"}))))},c=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"15",viewBox:"0 0 15 15"},a.a.createElement("g",null,a.a.createElement("g",{transform:"rotate(-45 9.5 7.5)"},a.a.createElement("path",{fill:"#fff",d:"M1 1h2.289v6.463h14.878v2.154H1z"}))))},l=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"21",viewBox:"0 0 25 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#999",strokeLinejoin:"round",strokeMiterlimit:"50",strokeWidth:"1.3",d:"M22.85.955v0L5.75 12.647v7.398z"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#999",strokeLinejoin:"round",strokeMiterlimit:"50",strokeWidth:"1.3",d:"M6.186 12.93v0S4.11 11.736 1.97 10.18c-2.14-1.554-.205-2.1.745-2.556A282.882 282.882 0 0 1 21.57 1.22c2.409-.723 2.341.181 2.139.982-1.402 5.548-3.3 10.777-5.695 15.685-.507 1.039-1.792 1.58-2.827.908a2026.954 2026.954 0 0 1-4.882-3.184v0"}))))},s=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#2291be",d:"M.2 10.316C.2 4.666 4.837 0 10.46 0c5.622 0 10.274 4.667 10.274 10.316 0 5.65-4.644 10.317-10.267 10.317C4.845 20.633.2 15.966.2 10.316zm19.068 0c-.008-4.896-3.935-8.842-8.809-8.842-4.88 0-8.784 3.946-8.784 8.842 0 4.897 3.911 8.843 8.792 8.843 4.874 0 8.809-3.946 8.8-8.843zM9.198 5.34c0-.673.536-1.204 1.198-1.204.67 0 1.191.53 1.191 1.204 0 .666-.52 1.197-1.19 1.197-.663 0-1.2-.531-1.2-1.197zM8.66 15.91c-.362 0-.646-.27-.646-.626 0-.348.284-.618.646-.618h1.388V9.587H8.803a.624.624 0 0 1-.638-.626c0-.34.283-.618.638-.618h1.948c.442 0 .678.317.678.777v5.546h1.388c.363 0 .639.27.639.618a.62.62 0 0 1-.639.626z"}))))},u=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#999",d:"M.2 10.316C.2 4.666 4.837 0 10.46 0c5.622 0 10.274 4.667 10.274 10.316 0 5.65-4.644 10.317-10.267 10.317C4.845 20.633.2 15.966.2 10.316zm19.068 0c-.008-4.896-3.935-8.842-8.809-8.842-4.88 0-8.784 3.946-8.784 8.842 0 4.897 3.911 8.843 8.792 8.843 4.874 0 8.809-3.946 8.8-8.843zM9.198 5.34c0-.673.536-1.204 1.198-1.204.67 0 1.191.53 1.191 1.204 0 .666-.52 1.197-1.19 1.197-.663 0-1.2-.531-1.2-1.197zM8.66 15.91c-.362 0-.646-.27-.646-.626 0-.348.284-.618.646-.618h1.388V9.587H8.803a.624.624 0 0 1-.638-.626c0-.34.283-.618.638-.618h1.948c.442 0 .678.317.678.777v5.546h1.388c.363 0 .639.27.639.618a.62.62 0 0 1-.639.626z"}))))},p=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",{transform:"matrix(1 0 0 -1 0 13)"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#d0021b",d:"M6.5 13a6.5 6.5 0 1 0 0-13 6.5 6.5 0 0 0 0 13z"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M5.71 5.645h1.666v5H5.71zm0-3.035h1.666v2H5.71z"}))))))},d=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"26",height:"29",viewBox:"0 0 26 29"},a.a.createElement("defs",null,a.a.createElement("path",{id:"hlbja",d:"M121.605 43.63c-.876 2.59-3.082 4.537-6.112 5.095-2.95.56-5.713.233-7.346-.693-1.263-.716-1.759-1.451-1.75-2.855-.106-1.999.213-6.34 1.264-8.092.252-.422.639-.75 1.31-.964 1.071-.34 2.047-.334 1.93.042-.535 1.735-1.798 7.015-1.116 8.522.481 1.065 2.434 1.408 4.214 1.28 2.21-.16 3.775-.939 4.578-3.054.603-1.59.456-3.522-.508-5.13-1.852-3.095-7.13-3.54-10.222-2.557-.504.16-.627.379-.777.03-.413-.961.277-1.66 1.479-2.129 2.714-1.057 6.758-.528 9.36.867 3.93 2.107 4.868 6.17 3.696 9.638"}),a.a.createElement("path",{id:"hlbjb",d:"M105.059 40.656a4.626 4.626 0 0 1-.645-.654c-.6-.761-1.2-1.52-1.81-2.276-.13-.162-.32-.256-.47-.396-.232-.22-.702-.413-1.029-.413a1.052 1.052 0 0 0-.734.296 1.266 1.266 0 0 0-.368.967c.035.469.248.843.485 1.244.168.284.35.56.524.84.483.789.955 1.597 1.51 2.342.159.214 1.044 1.448 1.727 2.112.616.6 1.079.57 1.037-.223-.042-.805-.08-1.86-.035-2.253.077-.68.37-1.126-.192-1.586"}),a.a.createElement("path",{id:"hlbjc",d:"M107.99 31.741c.076.141.114.23.291.304.19.08.373.02.553-.034.212-.063.398-.089.609-.143.225-.058.443-.048.677-.069.193-.017.392-.003.529-.15.264-.283.094-1.14.036-1.517-.117-.758-.66-4.364-.78-5.438-.098-.882-.143-1.94-.995-2.546-.574-.41-1.553-.22-1.806.455-.282.75-.26 1.476-.195 2.256.112 1.356.351 2.725.55 4.072.09.616.172 1.221.265 1.836.046.302.17.797.266.974"}),a.a.createElement("path",{id:"hlbjd",d:"M116.426 20.238c.242.327.318.577.317.957-.003 1.117-.96 9.904-1.02 10.12-.056.2-.07.404-.325.46-.215.049-.406-.05-.609-.09-.208-.039-.44-.083-.653-.103-.438-.042-.847-.038-1.287-.077-.451-.041-.55-.18-.514-.555.018-.185.02-.373.032-.56.123-1.836.339-3.672.605-5.497.133-.913.28-1.826.48-2.73.116-.523.207-1.146.525-1.613.383-.563 1.02-.916 1.611-.833.31.044.605.208.838.521z"}),a.a.createElement("path",{id:"hlbje",d:"M121.118 22.42c.232.02.442.125.637.28.423.332.342 1.416.235 1.967-.263 1.357-2.114 7.669-2.22 7.924-.104.25-.283.855-.53.925-.307.085-.62-.155-.842-.309a5.367 5.367 0 0 0-.73-.432 3.778 3.778 0 0 0-.539-.223c-.163-.052-.403-.12-.445-.31-.036-.166.13-.653.205-.872.126-.372.222-.651.328-1.03.265-.948.578-1.89.886-2.826.28-.848.57-1.694.872-2.535.145-.405.266-.843.461-1.228.24-.473.439-.842.91-1.116.235-.136.5-.238.772-.215"}),a.a.createElement("path",{id:"hlbjf",d:"M125.785 29.047c-.491-.635-1.204-.29-1.645.173-.49.515-2.86 4.11-3.217 4.617-.181.258-.382.5-.3.835.084.349.353.673.552.968.1.15.202.29.285.45.069.135.153.25.302.313.154.067.34.03.582-.19.294-.267.478-.626.708-.945a30.84 30.84 0 0 0 1.48-2.3c.313-.526.613-1.06.914-1.593.343-.606.846-1.673.339-2.328"})),a.a.createElement("g",null,a.a.createElement("g",{transform:"translate(-100 -20)"},a.a.createElement("g",null,a.a.createElement("use",{fill:"#0273b2",xlinkHref:"#hlbja"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#bc75b0",xlinkHref:"#hlbjb"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#f6921e",xlinkHref:"#hlbjc"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#ffd10e",xlinkHref:"#hlbjd"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#bed63a",xlinkHref:"#hlbje"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#44c2ea",xlinkHref:"#hlbjf"})))))},m=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"16",viewBox:"0 0 18 16"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#7b7b7b",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"20",d:"M5.951 10.193v0l6.03-5.822a1.454 1.454 0 0 1 2.005 0 1.337 1.337 0 0 1 0 1.937l-8.143 7.889a2.91 2.91 0 0 1-4.013.001 2.676 2.676 0 0 1 0-3.875l8.511-8.219c1.524-1.472 3.993-1.472 5.516 0a3.674 3.674 0 0 1 0 5.326L9.83 13.253v0"}))))},f=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#8da5b1",d:"M16 8a7.969 7.969 0 0 1-1.922 5.202L18 17.126l-.875.875-3.922-3.922A8 8 0 1 1 16 8zM1.371 8A6.629 6.629 0 1 0 14.63 8 6.629 6.629 0 0 0 1.37 8z"}))))},h=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"22",viewBox:"0 0 23 22"},a.a.createElement("g",null,a.a.createElement("g",{opacity:".5"},a.a.createElement("path",{fill:"#7f7f7f",d:"M22.75 11c0 6.075-4.925 11-11 11s-11-4.925-11-11 4.925-11 11-11 11 4.925 11 11zM2.663 11a9.087 9.087 0 1 0 18.174 0 9.087 9.087 0 0 0-18.174 0z"})),a.a.createElement("g",{opacity:".5",transform:"rotate(-315 11.5 11)"},a.a.createElement("path",{fill:"#7f7f7f",d:"M10.75 6a1 1 0 0 1 2 0v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4h-4a1 1 0 0 1 0-2h4z"}))))},v=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",{xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{stroke:"#7b7c7c",d:"M12 14H4V6h8zM6 3c0-.552.448-1 1-1h2c.552 0 1 .448 1 1v1H6zm9 1h-3V3a3.003 3.003 0 0 0-3-3H7a3.003 3.003 0 0 0-3 3v1H1a1 1 0 0 0 0 2h1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V6h1a1 1 0 0 0 0-2z"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#7b7c7c",strokeLinecap:"square",strokeMiterlimit:"20",d:"M9.5 7.5v5"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#7b7c7c",strokeLinecap:"square",strokeMiterlimit:"20",d:"M6.5 7.5v5"})))))},b=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"39",viewBox:"0 0 39 39"},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"82tra",x1:"19.5",x2:"19.5",y1:"0",y2:"39",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#47c4e0"}),a.a.createElement("stop",{offset:"1",stopColor:"#2291be"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"url(#82tra)",d:"M18.804 31.84c0-.406-.202-.61-.608-.61h-2.587V18.814c0-.253-.126-.431-.38-.533-.254-.101-.507-.076-.76.076l-3.196 3.276c-.406.305-.406.61 0 .914.254.355.558.355.913 0l2.13-2.133V31.23H11.73c-.457 0-.685.204-.685.61 0 .457.228.685.685.685h6.466c.406 0 .608-.228.608-.685zm4.58.228l2.438-6.093h1.067c.406 0 .61-.204.61-.61 0-.457-.204-.685-.61-.685h-.61l2.285-5.56c.102-.255.077-.458-.076-.61-.152-.203-.33-.305-.533-.305h-7.77c-.456 0-.685.203-.685.61v1.523c0 .406.229.61.686.61.406 0 .609-.204.609-.61V19.5h6.17l-2.057 5.18h-2.97c-.407 0-.61.228-.61.685 0 .406.203.61.61.61h2.437l-2.209 5.56c-.203.457-.076.736.38.838.052.05.128.076.23.076.304 0 .507-.127.609-.38zM.687 39C.229 39 0 38.771 0 38.314V13.025h39v25.29c0 .456-.229.685-.686.685zM11.73 1.295H7.77v5.18h3.96zm19.5 0h-3.96v5.18h3.96zM0 11.73V4.57c0-.457.229-.685.686-.685h5.789v-3.2C6.475.23 6.703 0 7.16 0h5.18c.457 0 .685.229.685.686v3.199h12.95v-3.2c0-.456.228-.685.685-.685h5.18c.457 0 .685.229.685.686v3.199h5.79c.456 0 .685.228.685.685v7.16z"}))))},g=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"39",viewBox:"0 0 39 39"},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"zd0ba",x1:"19.5",x2:"19.5",y1:"0",y2:"39",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#b4ec51"}),a.a.createElement("stop",{offset:"1",stopColor:"#429321"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"url(#zd0ba)",d:"M28.564 37.715h-2.59V36.41h2.59zm-15.539 0h-2.59V36.41h2.59zm14.93-6.485H24.07c-.457 0-.685-.228-.685-.685 0-.406.228-.61.685-.61h3.885c.406 0 .61.204.61.61 0 .457-.204.685-.61.685zm-13.025 0h-3.885c-.406 0-.61-.228-.61-.685 0-.406.204-.61.61-.61h3.885c.457 0 .685.204.685.61 0 .457-.228.685-.685.685zm15.615-5.255H8.455c-.457 0-.685-.204-.685-.61V9.75c0-.457.228-.686.685-.686h22.09c.457 0 .685.229.685.686v15.615c0 .406-.228.61-.685.61zM25.355 7.77h-11.72c-.407 0-.61-.204-.61-.61V3.275c0-.457.203-.685.61-.685h11.72c.407 0 .61.228.61.685V7.16c0 .406-.203.61-.61.61zM13.636 39c.457 0 .685-.229.685-.686V36.41h10.36v1.904c0 .457.228.686.685.686h3.885c.457 0 .686-.229.686-.686V36.41c.609 0 1.193-.28 1.751-.838.56-.558.838-1.142.838-1.752V11.73h1.295v11.045c0 .407.203.61.61.61h3.884c.457 0 .686-.203.686-.61v-11.73c0-.406-.229-.61-.686-.61h-5.789v-3.96c0-1.778-.647-3.301-1.942-4.57C29.288.634 27.752 0 25.975 0h-12.95c-1.777 0-3.313.635-4.608 1.904-1.295 1.27-1.942 2.793-1.942 4.57v3.962H.685c-.456 0-.685.203-.685.609v11.73c0 .407.229.61.686.61H4.57c.407 0 .61-.203.61-.61V11.73h1.295v22.09c0 .61.279 1.194.838 1.752.558.559 1.142.838 1.751.838v1.904c0 .457.229.686.686.686z"}))))},y=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"37",viewBox:"0 0 39 37"},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"54t4a",x1:"19.5",x2:"19.5",y1:"0",y2:"36.41",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#fad961"}),a.a.createElement("stop",{offset:"1",stopColor:"#f76b1c"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"url(#54t4a)",d:"M20.186 24.68c-.915 0-1.372-.432-1.372-1.295 0-.356.14-.66.42-.914.279-.254.596-.381.952-.381.355 0 .66.127.914.38.254.255.38.56.38.915s-.126.66-.38.914-.559.38-.914.38zm0-3.885c-.457 0-.686-.203-.686-.61V17.52c0-.407.229-.61.686-.61 1.27 0 2.323-.368 3.16-1.104.839-.737 1.258-1.663 1.258-2.78 0-1.169-.42-2.172-1.257-3.01-.838-.837-1.841-1.256-3.01-1.256-1.167 0-2.17.444-3.008 1.333-.838.888-1.257 1.917-1.257 3.085 0 .406-.228.61-.685.61-.407 0-.61-.204-.61-.61 0-1.574.534-2.92 1.6-4.037 1.066-1.118 2.387-1.676 3.96-1.676 1.524 0 2.832.546 3.924 1.638 1.092 1.091 1.637 2.399 1.637 3.922 0 1.32-.482 2.476-1.447 3.466-.965.99-2.183 1.562-3.656 1.714v1.98c0 .407-.203.61-.61.61zM1.98 36.41c.102 0 .178-.025.229-.076l10.74-5.18a23.73 23.73 0 0 0 6.551.914c5.383 0 9.979-1.574 13.787-4.722C37.096 24.197 39 20.414 39 15.996c0-4.418-1.904-8.176-5.713-11.273C29.48 1.574 24.883 0 19.5 0 14.117 0 9.521 1.562 5.713 4.685 1.904 7.808 0 11.578 0 15.996c0 4.266 1.828 7.998 5.484 11.197l-4.113 8.303c-.203.254-.152.483.152.686a.513.513 0 0 0 .457.228z"}))))},w=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"39",viewBox:"0 0 33 39"},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"n6h9a",x1:"16.5",x2:"16.5",y1:"0",y2:"39",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#47c4e0"}),a.a.createElement("stop",{offset:"1",stopColor:"#2291be"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{d:"M12.01 39l-1.678-11.73h12.28L21.01 39zM.89 25.975c-.407 0-.61-.204-.61-.61 0-.457.203-.685.61-.685h31.23c.406 0 .61.228.61.685 0 .406-.204.61-.61.61zm16.38-9.75h-1.606l-.535 5.723h2.675zm-8.613 7.16c-1.27-3.809-1.904-6.627-1.904-8.455 0-.407.228-.61.685-.61h18.133c.457 0 .686.203.686.61 0 1.828-.635 4.646-1.905 8.455zm3.275-12.264c-1.27-1.32-1.905-2.869-1.905-4.646 0-1.778.635-3.301 1.905-4.57C13.202.634 14.726 0 16.505 0c1.778 0 3.302.635 4.572 1.904 1.27 1.27 1.905 2.793 1.905 4.57 0 1.778-.635 3.314-1.905 4.609s-2.794 1.942-4.572 1.942c-1.779 0-3.303-.634-4.573-1.904z"}),a.a.createElement("path",{fill:"url(#n6h9a)",d:"M12.01 39l-1.678-11.73h12.28L21.01 39zM.89 25.975c-.407 0-.61-.204-.61-.61 0-.457.203-.685.61-.685h31.23c.406 0 .61.228.61.685 0 .406-.204.61-.61.61zm16.38-9.75h-1.606l-.535 5.723h2.675zm-8.613 7.16c-1.27-3.809-1.904-6.627-1.904-8.455 0-.407.228-.61.685-.61h18.133c.457 0 .686.203.686.61 0 1.828-.635 4.646-1.905 8.455zm3.275-12.264c-1.27-1.32-1.905-2.869-1.905-4.646 0-1.778.635-3.301 1.905-4.57C13.202.634 14.726 0 16.505 0c1.778 0 3.302.635 4.572 1.904 1.27 1.27 1.905 2.793 1.905 4.57 0 1.778-.635 3.314-1.905 4.609s-2.794 1.942-4.572 1.942c-1.779 0-3.303-.634-4.573-1.904z"}))))},E=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"39",viewBox:"0 0 39 39"},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"g5zpa",x1:"19.5",x2:"19.5",y1:"0",y2:"39",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#b4ec51"}),a.a.createElement("stop",{offset:"1",stopColor:"#429321"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"url(#g5zpa)",d:"M37.03 37.705c.456 0 .685-.228.685-.685 0-.813-.38-1.6-1.143-2.362-1.067-1.066-2.68-1.917-4.838-2.552-2.16-.634-4.483-.926-6.973-.876H21.79l-.077-.076c-.05-.05-.076-.101-.076-.152-2.082-2.082-4.292-3.326-6.629-3.732H9.141c-.407 0-.61.228-.61.685v9.065c0 .457.203.685.61.685zM7.235 39c.407 0 .61-.229.61-.686V26.66c0-.457-.203-.685-.61-.685H.686c-.457 0-.686.228-.686.685v11.654c0 .457.229.686.686.686zM38.314 8.455h-7.77V.685zm0 20.11c.457 0 .686-.204.686-.61v-19.5c0-.152-.076-.305-.229-.457L31.002.228C30.85.077 30.697 0 30.545 0H17.52c-.407 0-.61.229-.61.686v22.927c0 .203.076.356.229.457l5.18 4.342c.1.102.253.152.456.152z"}))))},_=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"39",viewBox:"0 0 39 39"},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"khita",x1:"19.5",x2:"19.5",y1:"0",y2:"39",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#fad961"}),a.a.createElement("stop",{offset:"1",stopColor:"#f76b1c"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"url(#khita)",d:"M3.885 39v-6.627C1.295 31.459 0 28.26 0 22.775v-.685h12.797v1.058a40.822 40.822 0 0 1-.076 2.598c-.051.711-.178 1.6-.381 2.666-.203 1.067-.584 1.917-1.143 2.552-.558.635-1.27 1.104-2.133 1.409V39zm26.05 0v-6.78c-1.523-.507-2.526-1.574-3.008-3.199-.483-1.625-.724-3.707-.724-6.246v-.685H39v.685c0 2.54-.241 4.621-.724 6.246-.482 1.625-1.536 2.692-3.16 3.2V39zM3.733 19.644c-.761-.76-1.142-1.674-1.142-2.739s.38-1.978 1.142-2.738c.762-.761 1.676-1.142 2.743-1.142 1.117 0 2.056.38 2.818 1.142.762.76 1.143 1.673 1.143 2.738s-.381 1.978-1.143 2.739c-.762.76-1.701 1.14-2.818 1.14-1.067 0-1.98-.38-2.743-1.14zm25.975 0c-.762-.76-1.143-1.674-1.143-2.739s.381-1.978 1.143-2.738c.762-.761 1.701-1.142 2.818-1.142 1.067 0 1.98.38 2.743 1.142.761.76 1.142 1.673 1.142 2.738s-.38 1.978-1.142 2.739c-.762.76-1.676 1.14-2.743 1.14-1.117 0-2.056-.38-2.818-1.14zm-12.797 6.33v-6.626c-2.437-.813-3.656-4.012-3.656-9.598v-.686h12.72v.686c0 2.59-.24 4.71-.723 6.36-.482 1.65-1.536 2.73-3.161 3.238v6.627zm-.154-19.347c-.76-.762-1.14-1.676-1.14-2.742 0-1.067.38-1.98 1.14-2.742C17.517.38 18.43 0 19.495 0s1.978.38 2.739 1.143c.76.761 1.14 1.675 1.14 2.742 0 1.066-.38 1.98-1.14 2.742-.761.762-1.674 1.143-2.739 1.143s-1.978-.381-2.739-1.143z"}))))},C=function(e){return"mosreg"===e.toLowerCase()?a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"93",height:"88",viewBox:"0 0 93 88"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#f0f0f0",d:"M31.06-.07c12.772 0 23.836 8.672 27.322 21.018l.11.4-4.83 1.291C50.88 12.237 41.672 4.93 31.06 4.93 18.108 4.93 7.6 15.723 7.6 29.097c0 4.898 1.397 9.555 3.979 13.488a2.5 2.5 0 0 1 .378 1.768 16.688 16.688 0 0 1-4.106 8.582l-.217.233.254.035c.227.027.456.045.687.054l.347.006c2.569 0 4.952-1.129 6.621-3.078a2.5 2.5 0 0 1 3.237-.485 22.945 22.945 0 0 0 5.384 2.493l.577.174-1.382 4.805a28.25 28.25 0 0 1-5.137-2.035l-.377-.2-.086.076a13.625 13.625 0 0 1-8.458 3.245l-.379.005a13.54 13.54 0 0 1-7.576-2.29c-1.533-1.03-1.46-3.308.135-4.237 2.642-1.538 4.563-4.113 5.328-7.147l.033-.143-.028-.046c-2.647-4.386-4.112-9.445-4.21-14.736l-.005-.567C2.6 12.99 15.315-.07 31.06-.07zm59.175 56.736c0 5.84-1.645 11.44-4.69 16.268l-.016.023.028.113a12.473 12.473 0 0 0 5.693 7.587l.306.177c1.65.924 1.717 3.273.123 4.29a15.162 15.162 0 0 1-8.165 2.375c-3.592 0-6.98-1.242-9.644-3.437l-.195-.165-.285.15a31.315 31.315 0 0 1-13.772 3.447l-.584.005c-17.228 0-31.202-13.795-31.202-30.833 0-17.038 13.974-30.834 31.202-30.834 17.226 0 31.201 13.796 31.201 30.834zm-57.403 0c0 14.262 11.72 25.833 26.202 25.833 4.932 0 9.648-1.34 13.74-3.835a2.5 2.5 0 0 1 3.171.474c1.887 2.122 4.615 3.361 7.57 3.361.492 0 .98-.035 1.46-.103l.348-.058-.144-.143a17.398 17.398 0 0 1-4.703-8.951l-.068-.382a2.5 2.5 0 0 1 .4-1.821 25.403 25.403 0 0 0 4.428-14.375c0-14.262-11.723-25.834-26.202-25.834-14.481 0-26.202 11.571-26.202 25.834z"})))):a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"88",height:"104",viewBox:"0 0 88 104"},a.a.createElement("defs",null,a.a.createElement("path",{id:"q66ua",d:"M892.317 385.337c-2.918 9.106-10.276 15.95-20.379 17.91-9.84 1.97-19.05.819-24.496-2.436-4.213-2.518-5.866-5.101-5.838-10.036-.352-7.026.712-22.283 4.215-28.443.841-1.482 2.132-2.64 4.368-3.387 3.573-1.198 6.826-1.175 6.44.145-1.786 6.098-5.997 24.658-3.724 29.956 1.605 3.744 8.116 4.949 14.052 4.498 7.37-.56 12.587-3.298 15.265-10.734 2.012-5.588 1.521-12.379-1.692-18.035-6.177-10.877-23.774-12.442-34.088-8.984-1.681.563-2.091 1.331-2.591.106-1.377-3.38.926-5.839 4.932-7.483 9.05-3.716 22.535-1.857 31.21 3.047 13.105 7.405 16.235 21.685 12.326 33.876"}),a.a.createElement("path",{id:"q66ub",d:"M837.927 372.085a16.357 16.357 0 0 1-2.158-2.4 885.607 885.607 0 0 0-6.056-8.355c-.438-.596-1.068-.938-1.569-1.454-.779-.803-2.354-1.513-3.446-1.516a3.363 3.363 0 0 0-2.455 1.09 4.907 4.907 0 0 0-1.233 3.547c.118 1.72.83 3.092 1.624 4.564.56 1.042 1.173 2.054 1.752 3.084 1.618 2.894 3.195 5.862 5.052 8.597.532.785 3.495 5.313 5.778 7.75 2.062 2.203 3.61 2.092 3.472-.821-.141-2.951-.27-6.827-.12-8.267.26-2.497 1.24-4.13-.64-5.819"}),a.a.createElement("path",{id:"q66uc",d:"M908.282 334.211c-1.638-2.217-4.016-1.013-5.487.604-1.634 1.797-9.542 14.349-10.73 16.12-.605.9-1.274 1.748-1.003 2.917.281 1.217 1.18 2.348 1.843 3.378.336.524.675 1.015.95 1.574.231.466.514.868 1.009 1.092.513.231 1.135.105 1.94-.664.983-.935 1.596-2.188 2.361-3.3 1.781-2.583 3.387-5.295 4.939-8.028 1.043-1.84 2.043-3.703 3.048-5.564 1.144-2.117 2.82-5.84 1.13-8.129"}),a.a.createElement("path",{id:"q66ud",d:"M847.002 342.787c.27.5.406.812 1.041 1.077.673.282 1.327.068 1.972-.123.753-.223 1.418-.312 2.169-.504.806-.206 1.583-.173 2.416-.245.69-.06 1.4-.01 1.887-.53.942-1.007.338-4.047.13-5.382-.42-2.691-2.356-15.48-2.783-19.288-.352-3.128-.51-6.878-3.548-9.03-2.05-1.454-5.541-.779-6.444 1.611-1.006 2.663-.925 5.237-.696 8.005.4 4.81 1.254 9.665 1.963 14.442.323 2.183.612 4.33.944 6.512.164 1.07.61 2.827.95 3.455"}),a.a.createElement("path",{id:"q66ue",d:"M873.567 301.562c.982.153 1.917.717 2.653 1.801.769 1.13 1.01 1.991 1.005 3.307-.011 3.86-3.038 34.23-3.23 34.976-.178.693-.225 1.397-1.03 1.592-.681.165-1.287-.177-1.928-.31-.66-.137-1.396-.29-2.07-.36-1.386-.144-2.682-.13-4.075-.267-1.43-.142-1.746-.62-1.63-1.916.058-.64.06-1.29.101-1.933.391-6.349 1.075-12.694 1.918-19.003.42-3.155.884-6.31 1.518-9.433.368-1.808.658-3.96 1.665-5.577 1.213-1.944 3.23-3.166 5.103-2.877"}),a.a.createElement("path",{id:"q66uf",d:"M893.628 311.011c.818.069 1.556.429 2.243.954 1.489 1.14 1.204 4.846.829 6.727-.926 4.64-7.443 26.216-7.817 27.087-.364.852-.997 2.923-1.87 3.16-1.075.292-2.18-.53-2.96-1.053-.84-.562-1.67-1.057-2.572-1.477-.692-.322-1.16-.534-1.896-.762-.575-.178-1.42-.41-1.567-1.058-.129-.57.46-2.235.72-2.984.446-1.272.782-2.225 1.156-3.52.935-3.24 2.034-6.463 3.12-9.66.987-2.901 2.01-5.79 3.07-8.668.511-1.382.935-2.879 1.623-4.196.841-1.615 1.545-2.879 3.206-3.813.824-.465 1.758-.816 2.715-.737"})),a.a.createElement("g",null,a.a.createElement("g",{transform:"translate(-821 -301)"},a.a.createElement("g",null,a.a.createElement("use",{fill:"#f0f0f0",xlinkHref:"#q66ua"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#f0f0f0",xlinkHref:"#q66ub"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#f0f0f0",xlinkHref:"#q66uc"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#f0f0f0",xlinkHref:"#q66ud"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#f0f0f0",xlinkHref:"#q66ue"})),a.a.createElement("g",null,a.a.createElement("use",{fill:"#f0f0f0",xlinkHref:"#q66uf"})))))},x=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 18 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#99b0bb",d:"M11 5.667c0 .698.496 1.259 1.115 1.326L12.24 7h2.753L11 3.249zm.058-5.108l6.284 5.905c.42.395.658.948.658 1.526v9.839C18 19.576 16.601 21 14.867 21H3.133C1.4 21 0 19.576 0 17.829V3.17C0 1.424 1.399 0 3.133 0H9.65c.523 0 1.025.2 1.408.559zM2 3.17V17.83C2 18.479 2.511 19 3.133 19h11.734c.622 0 1.133-.52 1.133-1.171V9h-3.76C10.503 9 9.1 7.6 9.005 5.855L9 5.667V2H3.133C2.511 2 2 2.52 2 3.171z"}))))},k=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"18",viewBox:"0 0 20 18"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#99b0bb",d:"M17 4a3 3 0 0 1 3 3v8a3 3 0 0 1-6 0V7a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-.993.883L16 7v8a1 1 0 0 0 1.993.117L18 15V7a1 1 0 0 0-1-1zm-7-6a3 3 0 0 1 3 3v12a3 3 0 0 1-6 0V3a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-.993.883L9 3v12a1 1 0 0 0 1.993.117L11 15V3a1 1 0 0 0-1-1zM3 9a3 3 0 0 1 3 3v3a3 3 0 0 1-6 0v-3a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-.993.883L2 12v3a1 1 0 0 0 1.993.117L4 15v-3a1 1 0 0 0-1-1z"}))))},O=function(){return a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M10.7541 9.62674L10.0189 12.9069C9.98833 13.0544 9.99491 13.2072 10.0381 13.3516C10.0812 13.496 10.1596 13.6273 10.2662 13.7339C10.3727 13.8404 10.5041 13.9188 10.6485 13.9619C10.7929 14.0051 10.9457 14.0117 11.0933 13.9811L14.374 13.2461C14.5403 13.2089 14.6925 13.1253 14.8131 13.005L22.1745 5.64396C22.6911 5.13406 22.9873 4.44206 22.9996 3.71635C23.0119 2.99064 22.7393 2.28902 22.2402 1.76194C21.7135 1.2616 21.0113 0.988113 20.2849 1.0004C19.5585 1.01268 18.866 1.30975 18.3566 1.82761L10.9961 9.18591C10.8752 9.30686 10.7912 9.45978 10.7541 9.62674ZM12.4529 10.2754L19.6298 3.09973C19.816 2.90899 20.0688 2.79775 20.3353 2.78935C20.5692 2.78514 20.7954 2.87302 20.9651 3.03405C21.0464 3.11699 21.1099 3.2156 21.1518 3.32386C21.1938 3.43213 21.2132 3.54779 21.209 3.66381C21.2004 3.92997 21.0895 4.18258 20.8995 4.36915L13.7226 11.5448L12.0831 11.9128L12.4529 10.2754Z",fill:"#0087C0"}),a.a.createElement("path",{d:"M5.5 23H14.5C15.693 22.9986 16.8368 22.5215 17.6804 21.6734C18.524 20.8254 18.9986 19.6755 19 18.4762V13.4819C19 13.2419 18.9052 13.0118 18.7364 12.8421C18.5676 12.6725 18.3387 12.5771 18.1 12.5771C17.8613 12.5771 17.6324 12.6725 17.4636 12.8421C17.2948 13.0118 17.2 13.2419 17.2 13.4819V18.4762C17.2 19.1961 16.9155 19.8865 16.4092 20.3955C15.9028 20.9045 15.2161 21.1905 14.5 21.1905H5.5C4.78392 21.1905 4.09716 20.9045 3.59081 20.3955C3.08446 19.8865 2.8 19.1961 2.8 18.4762V8.52381C2.8 7.80394 3.08446 7.11355 3.59081 6.60452C4.09716 6.09549 4.78392 5.80952 5.5 5.80952H11.368C11.6067 5.80952 11.8356 5.7142 12.0044 5.54453C12.1732 5.37485 12.268 5.14472 12.268 4.90476C12.268 4.6648 12.1732 4.43467 12.0044 4.265C11.8356 4.09532 11.6067 4 11.368 4H5.5C4.30696 4.00144 3.1632 4.47851 2.3196 5.32658C1.47599 6.17465 1.00143 7.32446 1 8.52381L1 18.4762C1.00143 19.6755 1.47599 20.8254 2.3196 21.6734C3.1632 22.5215 4.30696 22.9986 5.5 23V23Z",fill:"#0087C0"}))},P=function(){return a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 22 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0.312752 6.19519L4.62356 10.6687C4.72569 10.7731 4.84749 10.8561 4.98189 10.9129C5.1163 10.9698 5.26063 10.9994 5.40654 11H5.41867C5.70782 10.9991 5.98504 10.8845 6.19062 10.6809L15.1133 1.84645C15.3027 1.63742 15.4051 1.36369 15.3992 1.08148C15.3934 0.799263 15.2799 0.529998 15.082 0.328992C14.8841 0.127987 14.6168 0.0105019 14.3351 0.000670634C14.0534 -0.00916068 13.7786 0.0894083 13.5672 0.27613L5.43411 8.32538L1.89856 4.66021C1.79806 4.55531 1.67787 4.47131 1.54488 4.41304C1.41188 4.35477 1.26871 4.32336 1.12357 4.32062C0.978426 4.31788 0.834172 4.34386 0.699082 4.39708C0.563991 4.4503 0.440722 4.5297 0.336346 4.63073C0.231969 4.73176 0.14854 4.85243 0.0908432 4.98582C0.0331465 5.11921 0.00231779 5.2627 0.000125742 5.40805C-0.0020663 5.5534 0.0244213 5.69775 0.0780693 5.83283C0.131717 5.96791 0.21147 6.09104 0.312752 6.19519ZM20.1839 0.27613L12.0542 8.32538L11.7641 8.02391C11.6636 7.91901 11.5434 7.83502 11.4104 7.77674C11.2774 7.71847 11.1343 7.68706 10.9891 7.68432C10.844 7.68158 10.6997 7.70757 10.5646 7.76078C10.4296 7.814 10.3063 7.8934 10.2019 7.99443C10.0975 8.09546 10.0141 8.21613 9.9564 8.34952C9.89871 8.48292 9.86788 8.6264 9.86569 8.77175C9.86349 8.9171 9.88998 9.06145 9.94363 9.19653C9.99728 9.33161 10.077 9.45475 10.1783 9.55889L11.2436 10.6632C11.3455 10.7673 11.4669 10.8501 11.6009 10.907C11.7349 10.9638 11.8788 10.9936 12.0244 10.9945H12.0365C12.3257 10.9936 12.6029 10.8789 12.8085 10.6753L21.7311 1.84093C21.9129 1.63058 22.0087 1.35929 21.9994 1.08128C21.9901 0.803274 21.8763 0.539029 21.6809 0.341364C21.4854 0.143698 21.2227 0.0271731 20.9452 0.0150792C20.6676 0.00298534 20.3958 0.0962137 20.1839 0.27613Z",fill:"#0087C0"}))}},44:function(e,t,n){e.exports={container:"f4x61",disabled:"_10uWl",addfile:"_14fTD",hidden:"_2P95s",active:"_1lJVR",spinner:"_1ld_R",message_container:"_23uP1",message_icon:"_3_jnH",message_label:"L1A4H",adaptive_message:"_2_q1A"}},45:function(e,t,n){e.exports={container:"_1ooGB",container_fixed:"_1SPfm",wrapper:"_2-Tb7",icon:"_3u-M-",arrow_wrapper:"_3zOAj",arrow_wrapper_top:"_2s8I-",emojis_container:"_3PrQG",emojis_container_top:"_14UnX",emojis_picker:"_2uw0E",emoji:"_3EIGJ"}},46:function(e,t,n){"use strict";var r=n(14),a=n(9);var o=window.__MEDIA_WIDGET__INITIAL__STATE__&&window.__MEDIA_WIDGET__INITIAL__STATE__.apiUrl||"",i=new a.a(o,"include"),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return e.getContainer=function(t){return e.get("/containers/"+t)},e.uploadContentImage=function(t,n){var r=t?"/containers/"+t+"/contentimage/add":"/containers/add/contentimage/add";return e.post(r,{sourceFileUrl:n})},e.uploadFile=function(e,t){var n=e?"/containers/"+e+"/files/add":"/containers/add/files/add",r=new FormData;return r.append("file",t),fetch(""+o+n,{method:"POST",credentials:"include",body:r}).then((function(e){return e.json()})).catch((function(e){return null}))},e.deleteContentImage=function(t){return e.post("/containers/"+t+"/contentimage/delete",{})},e.checkUploadState=function(t){return e.get("/containers/tasks/"+t+"/state")},e.deleteFile=function(t,n){return e.post("/containers/"+t+"/files/"+n+"/delete",{})},e.addDescriptions=function(t,n){return e.post("/containers/"+t+"/contentimage/descriptions",{descriptions:n})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.a);t.a=new c},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,o){var i=window.dnevnik.user,c=i.id,l=i.commonRole,s=n;if(!s){var u=window.__PUBLIC__CLUBS__INITIAL__STATE__&&window.__PUBLIC__CLUBS__INITIAL__STATE__.metrika;s=u&&u.page||"notset"}var p=new URL(window.location).searchParams.get("source")||"notset",d={community:a({},Date.now(),a({},c,a({},l||"notset",a({},e,a({},t||"notset",a({},s,a({},p,a({},o,null))))))))};Object(r.a)(d)}},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)e.addEventListener(r,t[r],n)},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)e.removeEventListener(r,t[r],n)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(document,e,t)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(document,e,t)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(window,e,t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(window,e,t)}},51:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(55),l=n.n(c),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;u(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isAvatarFetching:!0,isAvatarValid:!0},p(r,n)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentWillMount",value:(n=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.author.avatarUrl,n=void 0,!(t&&t.length>0)){e.next=9;break}return r=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}))},e.next=6,r(t);case 6:n=e.sent,e.next=10;break;case 9:n=!1;case 10:this.setState({isAvatarFetching:!1,isAvatarValid:n});case 11:case"end":return e.stop()}}),e,this)})),r=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(c)}("next")}))},function(){return r.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return t.isAvatarValid!==this.state.isAvatarValid||e.author.avatarUrl!==this.props.author.avatarUrl}},{key:"render",value:function(){var e=this.state,t=e.isAvatarFetching,n=e.isAvatarValid,r=this.props,o=r.author,i=r.style,c=r.showName,s=r.target,u=r.onClick,p=r.rounded,d=o.avatarUrl,m=o.redirectUrl,f=o.name,h=f?f.split(" ").map((function(e){return e[0]})).join("").slice(0,2):"";return a.a.createElement("div",{className:l.a.container,onClick:u},n?a.a.createElement("a",{title:f,href:m,target:s},a.a.createElement("img",{src:d,className:p?l.a.avatar_rounded:l.a.avatar,alt:t?"":f,style:i})):a.a.createElement("a",{title:f,className:p?l.a.avatar_empty_rounded:l.a.avatar_empty,href:m,target:s,style:i},a.a.createElement("span",{className:l.a.avatar_letter,style:{fontSize:i.fontSize}},h)),c&&a.a.createElement("a",{className:l.a.link,href:m,style:{fontSize:i.fontSize},target:s},f))}}]),t}(r.Component);d.propTypes={author:i.a.object.isRequired,style:i.a.object.isRequired,showName:i.a.bool,target:i.a.string,rounded:i.a.bool},d.defaultProps={showName:!1,target:"_self",rounded:!1},t.a=d},52:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"l",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(4),a=function(e){var t=e.popupName,n=e.eventKey,a=e.postId,o=e.targetName,i=e.singleTarget,c=e.targetTopics,l=e.commentsRestrictionIsAvailable;return{type:r.a.TOGGLE_POPUP,payload:{popupName:t,eventKey:n,postId:a,targetName:o,singleTarget:i,targetTopics:c,commentsRestrictionIsAvailable:l}}},o=function(e){return{type:r.a.TOGGLE_TOPIC,payload:{topic:e}}},i=function(e,t){return{type:r.a.SAVE_DRAFT,payload:{text:e,attachmentsContainerId:t}}},c=function(e){return{type:r.a.SET_POSTS,payload:e}},l=function(e,t){return{type:r.a.GET_POST,payload:{eventKey:e,postId:t,commentsLimit:25}}},s=function(e,t){return{type:r.a.UPDATE_POST_EVENT,payload:{eventKey:e,postId:t,commentsLimit:2}}},u=function(e,t,n,a,o,i){return{type:r.a.CREATE_POST,payload:{eventKey:e,text:t,attachmentsContainerId:n,commentsRestrictionMode:a,pollsId:o,inline:i}}},p=function(e){return{type:r.a.SEND_CAPTCHA,payload:{input:e}}},d=function(){return{type:r.a.CLOSE_CAPTCHA,payload:{}}},m=function(e,t,n,a){return{type:r.a.MULTIPLY_CREATE_POST,payload:{selectedTopics:e,text:t,attachmentsContainerId:n,commentsRestrictionMode:a}}},f=function(e,t,n,a,o){return{type:r.a.EDIT_POST,payload:{eventKey:e,postId:t,text:n,attachmentsContainerId:a,pollsId:o}}},h=function(e,t){return{type:r.a.DELETE_POST,payload:{eventKey:e,postId:t},meta:{params:{postId:t}}}}},53:function(e,t,n){"use strict";var r=window.settings||{apiUrl:"/api"};t.a=r},54:function(e,t,n){e.exports={content:"_1ooMN",header:"_3x7oK",tab:"_1KBJd",selected:"_2f5b5 _1KBJd",unselected:"_2Toy3 _1KBJd",info:"_3aLJi",empty:"MPjZC",emoji:"vbjdL"}},55:function(e,t,n){e.exports={container:"_3poVc",avatar:"_3XNsu",avatar_rounded:"gBr9P",avatar_empty:"_5Stl6 _3XNsu",avatar_empty_rounded:"_1HVyd _3XNsu",avatar_letter:"eFLL6",link:"_1X5__"}},57:function(e,t,n){e.exports={container:"_1SeXt",container_short:"_2F3w3",dots:"_3JyEO",active:"_2-zip",empty:"_12QXL",focused:"cDzga","animate-background":"_1nzxw",link:"rteAl",comment:"_2mdOI",attachments:"pWb-q",avatarContainer:"_26Mvp",dnevnikExpert:"_1az2m"}},59:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r={"🙂":{position:"-153px -114px",name:"small_smile"},"😃":{position:"-1px -133px",name:"smile_open_mouth"},"😛":{position:"-20px -133px",name:"smile_tounge"},"😄":{position:"-39px -133px",name:"smile"},"😌":{position:"-58px -133px",name:"smiling_at_peace"},"😏":{position:"-77px -133px",name:"smirk"},"😯":{position:"-96px -133px",name:"surprised_eyebrows"},"😦":{position:"-115px -133px",name:"surprised_frown"},"😮":{position:"-134px -133px",name:"surprised"},"😅":{position:"-153px -133px",name:"sweat_grin"},"😁":{position:"-1px -152px",name:"teeth_smile"},"😆":{position:"-77px -57px",name:"grin_eyes"},"😬":{position:"-96px -57px",name:"grinn"},"😀":{position:"-115px -57px",name:"grinning_face"},"🤗":{position:"-134px -57px",name:"happy_hands"},"😍":{position:"-1px -76px",name:"heart_eyes"},"😚":{position:"-20px -76px",name:"kiss_eyes_closed"},"🤒":{position:"-20px -152px",name:"thermometer"},"🤔":{position:"-39px -152px",name:"thinking"},"😋":{position:"-58px -152px",name:"tounge_smile"},"🙃":{position:"-77px -152px",name:"upside_down"},"😗":{position:"-96px -152px",name:"whistle"},"😉":{position:"-115px -152px",name:"wink_eyebrows"},"😘":{position:"-134px -152px",name:"wink_kiss"},"😜":{position:"-153px -152px",name:"winking_tounge"},"😇":{position:"-20px -0px",name:"angle"},"😡":{position:"-39px -0px",name:"angry"},"🤕":{position:"-58px -0px",name:"bandage"},"😑":{position:"-77px -0px",name:"blank_blank"},"😐":{position:"-96px -0px",name:"blank"},"🤧":{position:"-115px -0px",name:"blow_nosenose"},"😰":{position:"-134px -0px",name:"blue_head_sewat"},"☺️":{position:"-153px -0px",name:"blush_smile"},"😊":{position:"-1px -19px",name:"blushing_smile"},"😎":{position:"-39px -19px",name:"cool"},"🤠":{position:"-58px -19px",name:"cowboy_smile"},"😝":{position:"-77px -19px",name:"crazy_eye_tounge_smile"},"😢":{position:"-96px -19px",name:"cry_one_tear"},"😂":{position:"-115px -19px",name:"emojies_smile"},"😭":{position:"-134px -19px",name:"crying"},"😵":{position:"-153px -19px",name:"dead_eyes_bigmouth"},"😔":{position:"-58px -38px",name:"disappointed_blank"},"😞":{position:"-77px -38px",name:"disappointed_sad"},"😒":{position:"-96px -38px",name:"disgusted_side_eye"},"🤤":{position:"-115px -38px",name:"drooling"},"🙄":{position:"-134px -38px",name:"eyeroll"},"☹️":{position:"-153px -38px",name:"frown"},"😤":{position:"-1px -57px",name:"fuming"},"🤓":{position:"-20px -57px",name:"geek"},"👻":{position:"-39px -57px",name:"ghost"},"🤢":{position:"-58px -57px",name:"green_sick"},"😠":{position:"-39px -76px",name:"mad"},"😕":{position:"-58px -76px",name:"meeeh"},"🤑":{position:"-77px -76px",name:"money"},"😶":{position:"-96px -76px",name:"no_mouth"},"😧":{position:"-115px -76px",name:"open_mouth_shocked"},"😖":{position:"-134px -76px",name:"pained_confused"},"😫":{position:"-153px -76px",name:"pained_cry"},"😣":{position:"-1px -95px",name:"pained_eyebrow"},"🤥":{position:"-20px -95px",name:"pinokio"},"💩":{position:"-39px -95px",name:"poo"},"🙁":{position:"-96px -95px",name:"question_frown"},"🤣":{position:"-134px -95px",name:"rotfc"},"😩":{position:"-153px -95px",name:"sad_frown"},"😪":{position:"-1px -114px",name:"sad_snot"},"😓":{position:"-20px -114px",name:"sad_sweat"},"😱":{position:"-39px -114px",name:"shocked_dead"},"😳":{position:"-58px -114px",name:"shocked_eyes"},"😲":{position:"-77px -114px",name:"shocked"},"😷":{position:"-96px -114px",name:"sick_mask"},"😙":{position:"-1px -171px",name:"wistle_eyes_closed"},"😟":{position:"-20px -171px",name:"worried_frown"},"😨":{position:"-39px -171px",name:"worried_open0mouth"},"😥":{position:"-58px -171px",name:"worried_sweat"},"🤐":{position:"-77px -171px",name:"zipped_lips"},"😴":{position:"-96px -171px",name:"zzz"},"🤖":{position:"-115px -95px",name:"robot"},"👿":{position:"-58px -95px",name:"purple_devil"},"😈":{position:"-77px -95px",name:"purple_devil2"},"👽":{position:"-1px -0px",name:"alian"},"🤡":{position:"-20px -19px",name:"cloun"},"👺":{position:"-1px -38px",name:"devil_mask"},"👹":{position:"-20px -38px",name:"devil_mask2"},"👾":{position:"-39px -38px",name:"digital_alian"},"☠️":{position:"-115px -114px",name:"skull_crossbones"},"💀":{position:"-134px -114px",name:"skull"}},a="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAP///yH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",o=/(\uD83D\uDE42|\uD83D\uDE03|\uD83D\uDE1B|\uD83D\uDE04|\uD83D\uDE0C|\uD83D\uDE0F|\uD83D\uDE2F|\uD83D\uDE26|\uD83D\uDE2E|\uD83D\uDE05|\uD83D\uDE01|\uD83D\uDE06|\uD83D\uDE2C|\uD83D\uDE00|\uD83E\uDD17|\uD83D\uDE0D|\uD83D\uDE1A|\uD83E\uDD12|\uD83E\uDD14|\uD83D\uDE0B|\uD83D\uDE43|\uD83D\uDE17|\uD83D\uDE09|\uD83D\uDE18|\uD83D\uDE1C|\uD83D\uDE07|\uD83D\uDE21|\uD83E\uDD15|\uD83D\uDE11|\uD83D\uDE10|\uD83E\uDD27|\uD83D\uDE30|\u263A\uFE0F|\uD83D\uDE0A|\uD83D\uDE0E|\uD83E\uDD20|\uD83D\uDE1D|\uD83D\uDE22|\uD83D\uDE02|\uD83D\uDE2D|\uD83D\uDE35|\uD83D\uDE14|\uD83D\uDE1E|\uD83D\uDE12|\uD83E\uDD24|\uD83D\uDE44|\u2639\uFE0F|\uD83D\uDE24|\uD83E\uDD13|\uD83D\uDC7B|\uD83E\uDD22|\uD83D\uDE20|\uD83D\uDE15|\uD83E\uDD11|\uD83D\uDE36|\uD83D\uDE27|\uD83D\uDE16|\uD83D\uDE2B|\uD83D\uDE23|\uD83E\uDD25|\uD83D\uDCA9|\uD83D\uDE41|\uD83E\uDD23|\uD83D\uDE29|\uD83D\uDE2A|\uD83D\uDE13|\uD83D\uDE31|\uD83D\uDE33|\uD83D\uDE32|\uD83D\uDE37|\uD83D\uDE19|\uD83D\uDE1F|\uD83D\uDE28|\uD83D\uDE25|\uD83E\uDD10|\uD83D\uDE34|\uD83E\uDD16|\uD83D\uDC7F|\uD83D\uDE08|\uD83D\uDC7D|\uD83E\uDD21|\uD83D\uDC7A|\uD83D\uDC79|\uD83D\uDC7E|\u2620\uFE0F|\uD83D\uDC80)(?![^<]*>)/gm},60:function(e,t,n){e.exports={create_editor:"_2U9IF",redesignedCreateEditor:"sIOLo",disscussions:"ji3ot",text:"_2CiRB",content:"_1B6Wv",link:"_13mlD _2CiRB"}},61:function(e,t,n){e.exports={content:"_1PMoN",header:"_30T5V",tab:"_1k2Ot",selected:"Zr-iQ _1k2Ot",unselected:"_32TO3 _1k2Ot",info:"_2bihi",empty:"_3MBAU",emoji:"z7B_6"}},62:function(e,t,n){e.exports={container:"_1AUTD",title:"lZHAu",text:"_3UefF",icon:"FJ_L8",buttonContainer:"_2MtwL"}},63:function(e,t,n){e.exports={container:"_2x0vb",spinner:"_2GYjG",spinner_small:"_18ZU2","animate-opacity":"_1-m7x",bar:"_1tcgI",bar_small:"_39gyP","animate-color":"FpE8g",white:"_2i_pk","animate-color-white":"_35fiR"}},65:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var a,o=((a=r({},window.__DISCUSSION_WIDGET__INITIAL__STATE__)).apiUrl||(a.apiUrl="/api/discussions"),a.whiteList||(a.whiteList=window.dnevnik&&window.dnevnik.urls&&window.dnevnik.urls.whiteList||[]),a.moderateUrl||(a.moderateUrl=window.dnevnik&&window.dnevnik.urls&&window.dnevnik.urls.moderate),a);t.a=o},68:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.environmentPrefix,r="";return r=n&&""!==n?"https://static."+window.dnevnik.urls.domain+"/images/"+n+"_preloader.gif":"https://static."+window.dnevnik.urls.domain+"/images/preloader.gif",a.a.createElement("img",{src:r,style:t,alt:"loader"})}}]),t}(r.Component);u.propTypes={style:i.a.object,environmentPrefix:i.a.string.isRequired},t.a=u,u.defaultProps={style:{}}},71:function(e,t,n){e.exports={container:"_1GKDM",form:"_2UPIe",reply:"dLGy6",replyEdit:"ioxto",short:"aOFj3",reversed:"_2NbIT"}},72:function(e,t,n){e.exports={overlay:"_2ry4A",overlay_content:"_35tm9",container:"_2BKmM",header:"Q2E3a",content:"_1NtI-",title:"_2hjxG",close:"_3oS0S"}},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(252),a=n(254),o=n(255),i=n(106),c=n(180),l=n(179),s=n(253),u=[__("label.month.jan"),__("label.month.feb"),__("label.month.mar"),__("label.month.apr"),__("label.month.may"),__("label.month.june"),__("label.month.july"),__("label.month.aug"),__("label.month.sep"),__("label.month.oct"),__("label.month.nov"),__("label.month.dec")],p=__("label.date.preposition"),d=__("label.date.today"),m=__("label.date.yesterday"),f=function(e,t){var n=6e4*(new Date).getTimezoneOffset(),f=new Date(1e3*e+(t?n:0));return Object(r.a)(f)?d+" "+p+" "+Object(i.a)(f,"HH:mm"):Object(a.a)(f)?m+" "+p+" "+Object(i.a)(f,"HH:mm"):Object(o.a)(f)?Object(l.a)(f)+" "+u[Object(c.a)(f)]+" "+p+" "+Object(i.a)(f,"HH:mm"):Object(l.a)(f)+" "+u[Object(c.a)(f)]+" "+Object(s.a)(f)}},75:function(e,t,n){e.exports={overlay:"FjwKq",container:"_35rv1",logo:"_1yLjM",logo_dnevnik:"_1mQ0b _1yLjM",logo_kz:"_2ULgA _1yLjM",logo_uz:"_9SWAs _1yLjM",closeContainer:"_1M21y",closeButton:"_2Ky2-",prevButton:"_1BjqB",nextButton:"_1IJ58",closeButtonText:"_23PHI"}},76:function(e,t,n){e.exports={container:"ZsAN7",dots:"_1lXUY",active:"_1KiTe",popover:"Pxmk4",option:"_3l7cT"}},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(9);var o=window.apiUrls&&window.apiUrls.pollsApiUrl||window.__TALK__INITIAL__STATE__&&window.__TALK__INITIAL__STATE__.urls.pollsApiUrl||window.__POST__INITIAL__STATE__&&window.__POST__INITIAL__STATE__.pollsApiUrl,i=new a.a(o,"include",{simple:!0}),c=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return e.createPoll=function(t){return e.post("/create",t)},e.vote=function(t,n){return e.post("/"+t+"/vote/"+n,{})},e.getPoll=function(t){return e.get("/"+t,{})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.a))},78:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(5),l=n(16),s=n(72),u=n.n(s),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleKeyDown=function(e){r.props.disableClose||e.keyCode!==l.a.ESC||r.props.onClose()},r.handleClick=function(e){r.props.disableClose||r.popup.contains(e.target)||r.props.onClose()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"componentDidMount",value:function(){this.props.disableKeyDown||Object(c.b)({keydown:this.handleKeyDown})}},{key:"componentWillUnmount",value:function(){Object(c.e)({keydown:this.handleKeyDown})}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.onClose,o=t.children,i=t.disableClose,c=t.style,l=t.testId;return a.a.createElement("div",{className:u.a.overlay},a.a.createElement("div",{className:u.a.overlay_content,onClick:this.handleClick},a.a.createElement("div",{className:u.a.container,ref:function(t){e.popup=t},style:c,"data-test-id":l},a.a.createElement("div",{className:u.a.header},a.a.createElement("div",{className:u.a.title},n),a.a.createElement("div",{className:u.a.close,onClick:i?void 0:r})),a.a.createElement("div",{className:u.a.content},o))))}}]),t}(r.Component);f.propTypes={title:i.a.string,onClose:i.a.func,disableClose:i.a.bool},f.defaultProps={title:"",onClose:function(){return null},disableClose:!1},t.a=f},79:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n(11),a=n(168);var o,i=Object(a.a)(),c=(o=[i],r.a.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)))},8:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s={plus:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",viewBox:"0 0 12 13"},a.a.createElement("defs",null,a.a.createElement("mask",{id:"ya05b",width:"2",height:"2",x:"-1",y:"-1"},a.a.createElement("path",{fill:"#fff",d:"M0 1h12v12H0z"}),a.a.createElement("path",{d:"M5 1h2v5h5v2H7v5H5V8H0V6h5z"})),a.a.createElement("filter",{id:"ya05a",width:"32",height:"33",x:"-10",y:"-10",filterUnits:"userSpaceOnUse"},a.a.createElement("feOffset",{dy:"-1",in:"SourceGraphic",result:"FeOffset1025Out"}),a.a.createElement("feGaussianBlur",{in:"FeOffset1025Out",result:"FeGaussianBlur1026Out",stdDeviation:"0 0"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",{filter:"url(#ya05a)"},a.a.createElement("path",{fill:"none",d:"M5 1h2v5h5v2H7v5H5V8H0V6h5z",mask:'url("#ya05b")'}),a.a.createElement("path",{fillOpacity:".24",d:"M5 1h2v5h5v2H7v5H5V8H0V6h5z"})),a.a.createElement("path",{fill:"#fff",d:"M5 1h2v5h5v2H7v5H5V8H0V6h5z"})))))},u=n(20),p=n.n(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){return f(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"render",value:function(){var e,t=this.props,n=t.appearance,r=t.className,o=t.onClick,i=t.type,c=t.size,u=t.icon,d=t.children,f=t.isDisabled,h=t.href,v=t.shouldFitContainer,b=t.target,g=t.style,y=t.testId,w=l()(p.a[n],p.a[c],(m(e={},p.a[r],!!r),m(e,p.a.disabled,!!f),m(e,p.a.fit,!!v),m(e,p.a.link,!!h),e)),E=u&&s[u],_=E?a.a.createElement("div",{className:p.a.icon_button_container},a.a.createElement("div",{className:p.a.icon},E),a.a.createElement("div",null,d)):d;return h?a.a.createElement("a",{href:h,className:w,style:g,onClick:o||void 0,target:b,"data-test-id":y},_):a.a.createElement("button",{type:i,className:w,style:g,onClick:o||void 0,"data-test-id":y},_)}}]),t}(r.Component);v.propTypes={appearance:i.a.oneOf(["primary","secondary"]),type:i.a.oneOf(["button","reset","submit"]),size:i.a.oneOf(["big","small","big-narrow"]),icon:i.a.oneOf([null,"plus"]),className:i.a.string,href:i.a.string,onClick:i.a.func,isDisabled:i.a.bool,shouldFitContainer:i.a.bool,target:i.a.string,testId:i.a.string},v.defaultProps={appearance:"primary",type:"button",size:"big",icon:null,className:"",href:"",isDisabled:!1,shouldFitContainer:!1,onClick:null,target:"_self",testId:null};t.a=v},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=__("polls.create.posttext"),a=__("polls.create.posttextregexp"),o=function(e,t){if(!t||!t.length)return e;var n=t.filter((function(e){return!!e})).map((function(e){return r.replaceAll("{ $url }",e)}));return[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)).filter((function(e){return!!e})).join("\n")},i=function(e){var t=new RegExp(a,"gm");return e.replace(t,"")}},81:function(e,t,n){e.exports={container:"_3gj56",popover_wrapper:"Me37z",count:"_1Ni-f",popover:"_3eHEL",info:"_3cVQI",clickable:"_3cqPL",avatars:"_2dqku"}},82:function(e,t,n){e.exports={title:"_3B_WH",body:"_1jTLW",content:"_1zMir",redesignedContent:"_2FUbI",buttonContainer:"_2iWuE",isinvalid:"OaSu9",captchaInput:"kOwo9",inputContainer:"_1qaPM"}},83:function(e,t,n){e.exports={controls:"_3j4-Y",reply_btn:"UVq5l",likes:"_378kR",with_separator:"_28Ugh",time:"_1pTJJ"}},84:function(e,t,n){e.exports={container:"_lDED",empty:"_2lLFL",empty_short:"_2ooho",reversed:"_36GoY",short:"_12jRh"}},85:function(e,t,n){window._babelPolyfill||n(187)},86:function(e,t,n){"use strict";n.r(t);var r={NpoSpo:"npo",Odo:"odo",Dod:"dod"};window.__=function(e){var t=window.dnevnik&&window.dnevnik.localizationSchoolType;if(t){var n=void 0;switch(t){case r.Dod:if(n=window.localization[r.Dod+"_"+e])return n;case r.Odo:if(n=window.localization[r.Odo+"_"+e])return n;case r.NpoSpo:if(n=window.localization[r.NpoSpo+"_"+e])return n}}var a=window.localization[e];return""===a||a?a:e}},87:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(46),u=n(122),p=n(170),d=n.n(p);function m(e){var t=e.children;return a.a.createElement("div",{className:d.a.aspectRatioContainer},a.a.createElement("div",{className:d.a.aspectRatioContent},t))}var f=n(118),h=n(30),v=n.n(h),b=n(133),g=n.n(b),y=function(){return{imgIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"21",height:"21",viewBox:"0 0 21 21"},a.a.createElement("defs",null,a.a.createElement("path",{id:"yz3qa",d:"M19.5 14.36v2.94H2.56v-2.94zM6.96 3.33c-.2 0-.42.04-.65.13-.78.32-1.16.9-1.16 1.72 0 .23.04.46.13.7a1.7 1.7 0 0 0 1.68 1.11c.23 0 .46-.04.69-.13A1.65 1.65 0 0 0 8.8 5.18c0-.23-.04-.46-.13-.69-.29-.77-.86-1.16-1.72-1.16zm1.25 6l-2.55 4.3h-3.1V.4H19.5v13.23h-3.45l-2.54-6.6a.55.55 0 0 0-.35-.2.55.55 0 0 0-.34.2l-2.07 4.58L8.8 9.28a.66.66 0 0 0-.35-.17h-.04c-.11.05-.19.13-.21.21zm12.2-3.11l2.4.21L21.49 21 6.91 19.7l.13-1.67h13.2V6.22z"})),a.a.createElement("use",{fill:"#8da5b1",xlinkHref:"#yz3qa",transform:"translate(-2)"})),stapleIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"21",height:"19",viewBox:"0 0 21 19"},a.a.createElement("defs",null,a.a.createElement("path",{id:"yuhta",d:"M60.155 475.432a3.886 3.886 0 0 1-.984-1.641c-.41-1.45-.082-2.707.984-3.773l10.5-10.5c1.012-.985 2.256-1.49 3.733-1.518 1.476 0 2.734.506 3.773 1.518.985 1.011 1.49 2.2 1.518 3.568 0 1.34-.506 2.53-1.518 3.568l-7.588 7.547c-.136.11-.3.11-.492 0a.41.41 0 0 1 0-.492l7.588-7.547c.848-.902 1.285-1.928 1.312-3.076 0-1.121-.437-2.147-1.312-3.076-.875-.848-1.969-1.285-3.281-1.313-1.258 0-2.338.438-3.24 1.313l-10.5 10.5a4.096 4.096 0 0 0-.78 1.23c-.383 1.23-.123 2.297.78 3.2.355.328.765.574 1.23.738 1.203.41 2.256.15 3.158-.78l10.172-10.13c.246-.301.383-.63.41-.985 0-.328-.137-.656-.41-.984a1.095 1.095 0 0 0-.287-.205c-.629-.356-1.19-.287-1.682.205l-7.342 7.342c-.164.164-.328.164-.492 0-.11-.137-.11-.301 0-.493l7.342-7.341c.41-.383.902-.588 1.477-.616.574 0 1.066.205 1.476.616.383.41.588.902.615 1.476 0 .547-.205 1.04-.615 1.477l-10.13 10.13a3.975 3.975 0 0 1-2.749 1.15c-1.011 0-1.9-.37-2.666-1.108z"})),a.a.createElement("g",null,a.a.createElement("g",{transform:"translate(-59 -458)"},a.a.createElement("use",{xlinkHref:"#yuhta"})))),deleteIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{d:"M6.562 14.232l3.564-3.568 3.605 3.568c.082.082.164.123.246.123.136 0 .218-.04.246-.123.136-.164.136-.328 0-.492l-3.565-3.61 3.237-3.24a.41.41 0 0 0 0-.492c-.191-.109-.355-.109-.492 0l-3.277 3.24-3.236-3.24a.41.41 0 0 0-.492 0 .41.41 0 0 0 0 .493l3.236 3.24-3.564 3.61c-.136.19-.136.355 0 .491a.276.276 0 0 0 .246.123c.082 0 .164-.04.246-.123zM17.186 3.855c1.613 1.805 2.42 3.897 2.42 6.276 0 2.844-1.053 5.195-3.159 7.055-1.804 1.613-3.91 2.42-6.316 2.42-2.817 0-5.168-1.053-7.055-3.159C1.49 14.643.697 12.537.697 10.131c0-2.79 1.04-5.127 3.117-7.014C5.62 1.504 7.724.697 10.131.697c2.844 0 5.195 1.053 7.055 3.158zm.45 13.166c1.778-1.968 2.667-4.265 2.667-6.89 0-2.953-1.094-5.442-3.282-7.465C15.053.889 12.756 0 10.131 0 7.178 0 4.703 1.094 2.707 3.281.902 5.223 0 7.506 0 10.131c0 2.98 1.094 5.482 3.281 7.506 1.969 1.777 4.252 2.666 6.85 2.666 2.98 0 5.482-1.094 7.506-3.282z"}))))),documentIcon:a.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAAXNSR0IB2cksfwAAAMZQTFRFAAAAAAAAAAAAAAAAAAAAAAAA+vr6/Pz8/f39+vr6paWl9vb29/f39PT08vLy7e3t7OzsAAAA+fn59vb18/Pz7u7u+Pj4qampzMzMxsbGwcHBvb29uLi4tLS0/Pz88PDw6+vr0tLSzc3NysrKxcXFv7+/vLy8urq68fHx9fX119fX1NTU0dHRzs7OycnJyMjI3t7e29zb2NjY19fW1dXV+/v75OTk4uLi4ODg39/f3d3d3Nzc/f39/f39AAAA+vr6+vr6AAAApFUvCAAAAEJ0Uk5TABwzNiAC8P3//5H///////8B//////+R/////////////////////////////////////////////////v009fMd/B0higAAAKNJREFUeJxNz2sbQjAYh/Flyp5MhQjVSueDzudE+f5fKsPU/W6/6/+8GEIVCRfJVcSTagrJgnouWFEppVqjSVqZ6JgYYBhm2yK22pEzAMf1ur0+P8M6B0YIA6oNrGEBxB+NJ950Nl8I4DGwzaWA1TrYONuda/8v0gmAgP3heDr7fgC/BWMXnoDr7f54hmHIcniRsginf4nfUfn+SCkkMS6TEvQFgRgRCxQbAzgAAAAASUVORK5CYII=",width:"16",height:"16"}),wordDocIcon:a.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAAAXNSR0IB2cksfwAAAmFQTFRFAAAA/////v79//79/v/+/P7+/v/9///+/v////7+/f7+8fX5z9vpqL7ViKXIY4m4WX+u/f79+Pv72OHruMrglLDQb5e/THuvOGunN2mpNWmpNWanSXOs3+fr4Obt4Obu4Ofu+/38l7LNN3CuOW6tOG2tOG2rNWypNmqqNWqqPm6okq7Pkq/Rkq/SkK/RgqXJpLnSmLLPOG+uOG6tN22sN2uqSHWu7vL27fP27fP39vn63ejula/LOWyna5G+a5K8vMzd3ufvlq/LN22tN22qN2upNmqoNGmpNmeoS3as+vz++vz9+/z9/P383ujvOW+tU4K2a5S+Nm2rka7Ma5K+OmumwtLgUn6xOWqmWIe2Woa1Woa2tMba3+fvN3Cta5O90uDnPXCs9/n7r8bdVIC09fr7O26pTHas+f3+/P39Rniv7/X4XIi04ujv1uDqcZjB0t7pNmmmOGqoX4e4W4i3Wom4tsfaOG+q3+nwo7vUmbPR8Pb4oLnTo7zSNmio/P79/v7+NnCuOG6uvc3f6e/zZ4+70+Dr5evweZzENmmoNmqpWoa0W4a1tMbY3ujuka/OQ3OsqMDYS3iuS3es/f39R3mya5K9W4a4kK3MNWmmOWqoXIe4XIi2XIi3tcfa3+jvOG2sNW6rNWqoSXetOWqnXoe4XYi1XYi2lrLPSnas+fz9+v3+l6/Mm7bPNm+tO2ypfZy/fpzAfpzBcpW9qr/V/f/+6e/0yNXkpLzWgKLHW4e2P2+pNWmoNmmnM2emSXas9/v9+Pv++Pz+///9+fv84OjwuMnemLHPdZa/Zom0//7/FXeewwAAAMt0Uk5TAP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Fzm7TAAABXUlEQVR4nGNghAImZhZWNnYoh4GDkYWZk4ubh5ePX0CQAwIYGYSERUTFxCUkpaSkZWTl5OTl5eQUFBmUlFVU1dQ1NIGiWto6ukCgp2/AYGhkbGJiqiEFFDUzt7AEAitrG2RRWzt7EHBwdAKJOru4ari5e0h7enn7AIGvH1DUPyAwKDgkNCxcOiIyKhoIYmKBonHxCYlJySmpadLpGZkgAFYbl5Wdk5uXX1AoXVRcUgoEZWC15RWVVdU1tXXSnvUNXEDABBJtbGpuaW1r7+iU7uruAZnb2wd2Q7/3hIn1k6SkJ7OClHJN8QOLTp1mOn3GTCnpWbPnzAWCefPBogsWmmosAvpicT1YrSBELcxvS5YuWw4E84C2rUCIrly1GgQy569hWLsOLrp+w8ZNILB5C8PWbdt37Ny1e8+evfv2HzgIBoc4GBjZDx9mZDpy9NjxEycbYNHFwIgADadgLACTbH+qaXqnswAAAABJRU5ErkJggg==",width:"21",height:"21"}),excelDocIcon:a.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAAAXNSR0IB2cksfwAAAh9QTFRFAAAAHFU5GFA4F084F1g7F11AAAAAAAAAABcXAA8PGEAwH3JMH25KHm5II4BTI4BVI4BUI35UG2JAFlo8JoVaJINYJIJVJYNXJYVYJYRYJYJWJIFWI4BVJH9UJH5UHmdGGlo9GFs7ETMiGVc7J4haJohaJodZJoZZJYVYJYRYJYJWe7KZw93Rk8KsFlU3b6uQrtHB3uzmudfJ4+/pvtrNGVQ4M4liQpNtstPEWqGAvtrMRJZvXaOCMoxiW6B/bquOMIdfa6mNp8272+vk4O7nZKaG6PHsfLOYRJRu1ebdr8+/L4ZeNotkR5ZxtNXGX6SDv9vONI5kyd/TzeHXhrmh5e/qWJ18ZaaIncez1+jgqc693ezlKIhbcK6Q7vTx4+7pqcu6KIJYOYxmTJl1t9bHY6aHwdzPRpZw3+vl/f39aqaJYKKEksGr0+bdoMm22eriKYhbeLKW7PPw4u7osNDAKYNaPI5oUZx5aKmLPJJp2OffutXIiLqi6fHtX6GCWp9/h7ujz+Pal8Sv1uffebKXYKWESZZx2ujhuNTGMohgP5BrVp99u9jKbKyOxd7SSJhyWJ99LolfJoRYXqKCcq6SMYhgVJx7fbWbyuHXjr+o0uXcQpFtW6KBvdnMca6Rxt/TmsOx/P79/P39utfJF1Q3L31ZP39gM3paFUcyJoZZJoRXJYNYEEgwH25JIG5JJYBTJH5TGk0zF1I3F1c6F1s+Hh9anAAAALV0Uk5TAAkgN04sAQULESBKcpu80eb4cyKAqdT2+fv+/////6NYSQ9S////////////8EX///////9S//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////xP2bmfJIGq+yB0nbz5CjhPLXpAn3YAAAEwSURBVHicY2CAAkYmZhZWGIeBjZ2Dk4ubh5ePX0BQCC4qLCIqJi4hKSUtIysnrwAGikoMyiqqauoamlogUW0dMNDVQxHVNzA0MjAwNjFFETUzt7A0N7eCiFrb2Gra2TvIyjk6OVs4OblARF3d3D08vbxl5Xx8/fx9fQMgooFBwSGhYUATwiMioyIioiGiMbFx8QmJQNGk5JTU5OQ0qG3pGZlZINuyc3LzcnLyIaIFhUXFJaVA0bJyo4rych2IaGVVdU1tHVC0vqGxqaGhGSLaEt/a1t7RKSvX1d3T293dBxHtnzBx0uQpU2Xlpk2fMXP69Flofps9Z+68OXPmo4kuWAgCixYvQRFdugwMlq9gEF65Chi+q8HhK4QSF2u4165bzy+wASEKk9zItGnzFhgPAI42ZtqPbdxGAAAAAElFTkSuQmCC",width:"21",height:"21"}),powerpointDocIcon:a.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAMAAABFjsb+AAAAAXNSR0IB2cksfwAAAWJQTFRFAAAAAAAAHAAAHg8AHwoAIAgIzUIk0EUk0UMj0UMjUh0QVR4Ppzoe00kl00gn0kcl0kUl0UUk0UQk0EMjUxwPUx0QVR4R1Eon1Ekn1Egm00gm00cm0kcl0kUl8L+077yw1lU31Eon1Ekn1Egm////2F5C00ko/fb1+eXg/fj32F9C33hf55mH6J+O6KGP33tk0UYl7raq883E2F5B55yK/PPx7bOk/vz7+OHc+uzp3HRb1VAx8srA0kYl00kp6aaW1Esq4ohy/PLw7bWo00sr2WBD1Eoq4odx++/s7LCj00oq9NPL9dXN66qb9dbP++/r229W2WFF/vv68ce97rqt4H1m0Ucm7bOm11w+2mhN77+y4oRt6qqa5pmH6KGQ1Uwr1U8u993X9+Da1Eon1Ekn1Egm772x1Vc3VRwQUx4PqDke00gm00cm0kcl0kUlVB0RGgAAnjQe0UYk0kMk0EMi0EMjF3sIbwAAAHZ0Uk5TAAMJERkgTX6w4T5UbpCy1ff///9lYjzd8P3///////zV//////7/////////////////////////////////////////////////////////////////////////////////3vP+/dc/VnCStNf4PQoiTYGy49ZFPoEAAADeSURBVHicY2BgYGRiZmFlY+fgZIABLm4eXj5+AUEhYWERMBAVYxCXkJSSlpEFicmBgbwCg6KSMkxMBQJUwWJqahAxdQ1NoJgWUExbR1dP3wAoZmhkbGIKETMztzC1tAKKWdvY2tlDxUwdHJ2cgWIuNra2rjAxN3cPT6CYl7e3D9Q8M01fP/8AoJitrW0gTCwoOCQ0DCzmEg4TM4W6LyIyyhxdDOpmkFh0DFQsFgjiIGLxCVCxRCBIgohh+jc5JRU1XNLSGTIys7JzcvOQwi8fGKqMBcwshUXFJaWwYAYAM8A3d8I+SAgAAAAASUVORK5CYII=",width:"19",height:"19"}),imageIcon:a.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAMAAAARSr4IAAAAAXNSR0IB2cksfwAAAYZQTFRFAAAAr8DVrr7XpbrUnrbWn7XUo7nWq7vUrcHX7/Dw9vb29vf48PX47fL0qLzW9fX2pMHnm8HYjsC4rdSmtdiZsdeWocued6yqg63Nh63c7/T4pLrYp8LnlcPFrdOmtNmKp9J/o9B6pNGBmcWXeqiziq/d7fP59ff4p8TojsGys9eWpNF8nc51l8twk8tvm8uHbaKdjrHf7PP38/f4qsXpjb+wrNSSnc12k8ptjchqisZplMeCbKCbkbPg7PL28vb4rMbqlb/DoMucnM16jMhqh8Rmi8dvibyNeaaxlLbi7PH48fX4rcfqocPZh7evlL6El8d8k8V4ibeBdKOijLHPl7jj8PT4r8nrocDYiJNzlp5ZmJxWkZRqkrXRnrzlm7rk6/H4iLZlhbRigbNgrI5J3a9q3K9qv5hUdahWc6ZUcaRSnbXUzOLLz9q909Kt272EzODH6/D4o7nY8PT36/D5pbrV8fL09PX49Pb58vb58/X48/X57vL0qLzYrLzVqbzYprvYrLzVNcoqRwAAAIJ0Uk5TAI3o8PDw8I/p/v/////v////////////////8P/////////////////////////////////////////////////////////////////////////////////////////////////////////w////////8P//4f/////////visPwkE/jGfUAAAC2SURBVHicY2BkYmYBAVYgYGNn4ODk4oYCHl4+BmZ+AUEhYRFRMXEJSSlpBhZuGVk5eQVFJWUVVTUgV11DU0tbR1dP38DQCMg1NjE1M7ewtLK2sbUDcu0dHJ2cXVzd3D08vYBcbx9fP/+AwKDgkFAQNyzcJyIyKjomNi4+AciVSkxKTklNS8/IzAJys8NycnJy8/ILgFRhEQNrcQ4clBQxlJaVV1TaV4FAdU0tAW5dvXQRDDQ0AgCi5j1aG2fBZgAAAABJRU5ErkJggg==",width:"14",height:"16"}),descriptions:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"21",viewBox:"0 0 19 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"2",d:"M10 19H3.462C2.102 19 1 18.052 1 16.882V3.118C1 1.948 2.102 1 3.462 1h11.076C15.898 1 17 1.948 17 3.118V12"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M3.65 4.71h8.47"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M3.65 15.82h4.235"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M3.65 12.12h6.353"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M11.503 16.502h6"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M14.502 13.504v6"})),a.a.createElement("g",null,a.a.createElement("path",{fill:"none",stroke:"#0087c0",strokeLinejoin:"round",strokeMiterlimit:"20",strokeWidth:"1.5",d:"M3.65 8.41h10.588"}))))),moreImages:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M18.5 4.75a2.75 2.75 0 1 1-5.5 0 2.75 2.75 0 0 1 5.5 0zm-4 0a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0zM6.625 16.5A2.625 2.625 0 0 1 4 13.875V5.5H2.625c-.58 0-1.057.439-1.118 1.002l-.007.123v11.25c0 .58.439 1.057 1.002 1.118l.123.007h11.25c.58 0 1.057-.439 1.118-1.002l.007-.123V16.5zM20.5 2.625v11.25a2.625 2.625 0 0 1-2.625 2.625H16.5v1.375a2.625 2.625 0 0 1-2.459 2.62l-.166.005H2.625a2.625 2.625 0 0 1-2.62-2.459L0 17.875V6.625a2.625 2.625 0 0 1 2.459-2.62L2.625 4H4V2.625A2.625 2.625 0 0 1 6.625 0h11.25A2.625 2.625 0 0 1 20.5 2.625zm-15 11.25c0 .621.504 1.125 1.125 1.125h11.25c.621 0 1.125-.504 1.125-1.125v-1.788l-2.063-1.834-2.834 2.52-5.08-4.926L5.5 12.024zm0-11.25v7.073l3.414-4.046 5.233 5.074 2.79-2.48L19 10.08V2.625c0-.621-.504-1.125-1.125-1.125H6.625c-.621 0-1.125.504-1.125 1.125z"}))))}},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var e,n,r;E(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.getFileIcon=function(e){switch(e.extension.toLowerCase()){case"doc":case"docx":return y().wordDocIcon;case"xls":case"xlsx":return y().excelDocIcon;case"ppt":case"pptx":return y().powerpointDocIcon;case"jpg":case"jpeg":case"gif":case"png":return y().imageIcon;default:return y().documentIcon}},r.getFileUrl=function(e){return e.downloadUrl},r.handleDelete=function(e){r.props.isFetching||r.props.onDelete(e)},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),w(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.files,r=t.viewOnly,o=t.onClick;return a.a.createElement("div",{"data-test-id":"files-list-"+(r?"view":"edit"),className:g.a.container},n.map((function(t){return a.a.createElement("div",{"data-test-id":"file_row",key:"file-"+t.fileId,className:g.a.filePreview},e.getFileIcon(t),a.a.createElement("a",{href:e.getFileUrl(t),target:"_blank",onClick:o},t.name+"."+t.extension),!r&&a.a.createElement("span",{"data-test-id":"delete_file",className:g.a.deleteButton,onClick:function(){return e.handleDelete(t.fileId)}},y().deleteIcon))})))}}]),t}(r.Component);C.propTypes={files:i.a.array.isRequired,viewOnly:i.a.bool.isRequired,onDelete:i.a.func.isRequired,isFetching:i.a.bool.isRequired};var x=C,k=n(112),O=n(8),P=n(91),T=n.n(P),A=n(24),S=n(209),j=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var I=function(e){var t=e.onClose,n=e.onSuccess,o=e.onError,i=e.containerId,c=e.contentImages,l=e.previewHeight,p=Object(r.useState)(!1),d=j(p,2),m=d[0],f=d[1],h=Object(r.useState)(c.map((function(e){return{fileId:e.fileId,description:e.description}}))),v=j(h,2),b=v[0],g=v[1];return a.a.createElement(k.a,{title:__("label.editor.attach.descriptions.title"),onClose:t,disableClose:m,style:{width:"660px",maxWidth:"90%",minWidth:"300px"},testId:"signatures-popup"},a.a.createElement("div",{className:T.a.list},c.map((function(e){return a.a.createElement("div",{className:T.a.file,key:e.fileId},a.a.createElement("div",{className:T.a.preview,style:{width:l}},a.a.createElement(u.a,{file:e,previewHeight:l,viewOnly:!0})),a.a.createElement("div",{className:T.a.description},a.a.createElement(S.a,{value:b.find((function(t){return t.fileId===e.fileId})).description||"",name:"description",onChange:function(t){return n=e.fileId,r=t.target.value,g((function(e){return e.map((function(e){return e.fileId===n?{fileId:n,description:r}:e}))}));var n,r},maxLength:1e3,placeholder:__("label.editor.attach.descriptions.placeholder"),style:{width:"100%",boxSizing:"border-box",height:l,borderRadius:5},testId:"signatures-textarea"})))}))),a.a.createElement("div",{className:T.a.buttonContainer},a.a.createElement(O.a,{onClick:t,appearance:"secondary",isDisabled:m},__("label.editor.button.cancel")),a.a.createElement(O.a,{onClick:function(){f(!0),s.a.addDescriptions(i,b.map((function(e){return{fileId:e.fileId,description:e.description||""}}))).then(n,(function(){return o(__("label.editor.attach.error1"))})).finally((function(){f(!1),t()}))},className:"green",testId:"save-signature"},m?a.a.createElement(A.a,null):__("label.editor.button.save"))))},N=n(35),D=n.n(N),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rootSelector=e.targetRef,n.container=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),R(t,[{key:"componentDidMount",value:function(){this.rootSelector.appendChild(this.container)}},{key:"componentWillUnmount",value:function(){this.rootSelector.removeChild(this.container)}},{key:"render",value:function(){return D.a.createPortal(this.props.children,this.container)}}]),t}(a.a.Component),L=n(5),U=n(93),F=n(142),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q={contentImage:null,files:[],containerId:null},W=window.__MEDIA_WIDGET__INITIAL__STATE__&&window.__MEDIA_WIDGET__INITIAL__STATE__.maxUploadFileSize||0,G=window.__MEDIA_WIDGET__INITIAL__STATE__&&window.__MEDIA_WIDGET__INITIAL__STATE__.maxUploadFileSizeMessage||"",J=window.__MEDIA_WIDGET__INITIAL__STATE__&&window.__MEDIA_WIDGET__INITIAL__STATE__.gridPreviewExperiment,X=function(e){function t(){var e,n,r,a,o,i,c=this;B(this,t);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return n=r=V(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={error:"",container:r.props.container||q,isFetching:!1},r.handleGetContainer=(i=K(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getContainer(t);case 2:return n=e.sent,e.next=5,r.setStateAsync({container:n.container,isFetching:!1});case 5:case"end":return e.stop()}}),e,c)}))),function(e){return i.apply(this,arguments)}),r.handleAddFiles=function(e){var t=e&&e.length&&e[0];r.onSuccessHandler(t)},r.handleAddMedia=(o=K(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isFetching){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.setStateAsync({isFetching:!0});case 4:return e.next=6,s.a.uploadContentImage(r.state.container&&r.state.container.containerId,t);case 6:n=e.sent,r.onSuccessHandler(n);case 8:case"end":return e.stop()}}),e,c)}))),function(e){return o.apply(this,arguments)}),r.handleDeleteMedia=K(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setStateAsync({isFetching:!0});case 2:return e.next=4,s.a.deleteContentImage(r.state.container.containerId);case 4:t=e.sent,r.onSuccessHandler(t);case 6:case"end":return e.stop()}}),e,c)}))),r.handleDeleteFile=(a=K(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setStateAsync({isFetching:!0});case 2:return e.next=4,s.a.deleteFile(r.state.container.containerId,t);case 4:n=e.sent,r.onSuccessHandler(n);case 6:case"end":return e.stop()}}),e,c)}))),function(e){return a.apply(this,arguments)}),r.handleDocumentClick=function(e){r.popover.contains(e.target)||r.handleErrorReset()},r.handleErrorReset=function(){return r.setState({error:""})},r.disabledButtonClick=function(){r.setState({error:__("label.editor.attach.error3")})},r.onSuccessHandler=function(e){r.setState({container:e.container,isFetching:!1}),r.props.handleSaveAttachments&&r.props.handleSaveAttachments([e]),r.sendCreationPostMetrikaHandler("add_file_success")},r.sendCreationPostMetrikaHandler=function(e){var t=r.props,n=t.sendCreationPostMetrika,a=t.eventKey,o=t.popup;n&&n(e,o?"popup":"inline",a)},V(r,n)}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),z(t,[{key:"componentDidMount",value:(o=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.containerId){e.next=3;break}return e.next=3,this.handleGetContainer(this.props.containerId);case 3:if(!this.props.catchedUrl){e.next=6;break}return e.next=6,this.handleAddMedia(this.props.catchedUrl);case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"componentWillReceiveProps",value:(n=K(regeneratorRuntime.mark((function e(t){var n=t.catchedUrl,r=t.containerId,a=t.isFetching;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.containerId&&!r&&(clearTimeout(this.pollTimer),this.setState({isFetching:!1,container:q})),a&&!this.props.isFetching&&(clearTimeout(this.pollTimer),this.setState({isFetching:!1})),!n||n===this.props.catchedUrl||this.state.container&&this.state.container.contentImage){e.next=5;break}return e.next=5,this.handleAddMedia(n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){!t.error&&this.state.error?Object(L.b)({click:this.handleDocumentClick}):t.error&&!this.state.error&&Object(L.e)({click:this.handleDocumentClick}),!1===this.props.viewOnly&&(t.container&&t.container.containerId)!==(this.state.container&&this.state.container.containerId)&&this.props.putContainerId(!this.state.container||null===this.state.container.contentImage&&0===this.state.container.files.length?null:this.state.container.containerId,this.state.container),t.container!==this.props.container&&(this.setState({container:this.props.container}),this.props.setAttachmentsCount&&this.props.container&&this.props.setAttachmentsCount(this.props.container.files.length))}},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(n){t.setState(e,n)}))}},{key:"getPreviewSize",value:function(e,t){var n=this.props,r=n.previewHeight,a=n.viewOnly,o=n.fullView,i=n.mobileFeed;return!a||r?{height:r}:o||t<=1?{height:i?"auto":"100%",width:"100%"}:{height:t>2?"50%":"100%",width:0===e&&3===t?"100%":"50%"}}},{key:"render",value:function(){var e,t=this,n=this.state,o=n.container,i=n.isFetching,c=this.props,s=c.previewHeight,p=c.viewOnly,d=c.toolBarTarget,h=c.maxFileSize,b=c.maxUploadFileSizeMessage,g=c.isCustomFileSize,w=c.multiplePreviews,E=c.shrinkToolbar,_=c.onFileClick,C=c.onImagesClick,k=c.isCompact,O=c.fullView,P=c.mobileFeed,T=c.poll,A=c.testId,S=o||q,j=S.contentImage,N=S.containerId,D=S.files,R=y(),L=J&&p,z=[];!j||w&&D.some((function(e){return e.contentImage&&e.contentImage.fileId===j.fileId}))||z.push({contentImage:j}),w&&z.push.apply(z,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(D.filter((function(e){return!!e.contentImage}))));var K=p&&!O?z.slice(0,L?4:1):z,B=z.length?D.filter((function(e){return!z.includes(e)})):D,V=z.length-K.length,W=void 0;V&&(W=L?a.a.createElement("div",{className:v.a.moreImagesGrid,onClick:C},"+"+V):a.a.createElement("div",{className:v.a.moreImages,onClick:C},R.moreImages,a.a.createElement("span",null,Object(U.a)(V,[__("label.editor.attach.moreimages.1"),__("label.editor.attach.moreimages.2"),__("label.editor.attach.moreimages.n")]).replace("{$count}",V))));var G=l()(v.a.container,H({},v.a.scrollableContainer,!p)),X=O||P&&K.length<=1,Y={width:s?void 0:"100%",objectFit:X?"contain":void 0,alignSelf:X?"center":void 0},Q=p&&!s&&!X,Z=a.a.createElement("div",{className:l()((e={},H(e,v.a.previews,!O),H(e,v.a.previewsWithAspectRatio,Q),e))},K.map((function(e,n){var o=t.getPreviewSize(n,K.length),c=a.a.createElement(u.a,{key:e.contentImage.fileId,file:e.contentImage,previewHeight:o.height,previewWidth:o.width,viewOnly:p,onDelete:e.fileId?function(){return t.handleDeleteFile(e.fileId)}:t.handleDeleteMedia,isFetching:i,imageStyle:Y,onClick:z.length>1&&!O?C:void 0,sendPostsCompactMetrika:t.props.sendPostsCompactMetrika});return a.a.createElement(r.Fragment,null,O&&!P?a.a.createElement(m,{key:e.contentImage.fileId},c):c,O&&a.a.createElement("div",{className:v.a.fileDescription},e.contentImage.description))})),w&&!p&&!!z.length&&a.a.createElement("div",{className:v.a.addDescriptions,onClick:function(){return t.setState({descriptionsPopupVisible:!0})},"data-test-id":"add-signatures"},R.descriptions,a.a.createElement("span",null,__("label.editor.attach.descriptions.button"))),W);return Q&&(Z=a.a.createElement(m,null,Z)),z.length||(Z=null),a.a.createElement(r.Fragment,null,N&&(j||!!D.length)&&a.a.createElement("div",{className:G},Z,T&&a.a.createElement(F.a,{poll:T,pollId:T.id,sendMetrika:this.props.sendMetrika}),B.length>0&&a.a.createElement(x,{files:B,viewOnly:p,onDelete:this.handleDeleteFile,isFetching:i,onClick:_})),d&&a.a.createElement(M,{targetRef:d},a.a.createElement("div",{className:v.a.toolbar},a.a.createElement(f.a,{attachmentsContainerId:N,isFetching:i,disabled:D.length>=10,onSuccess:this.handleAddFiles,onError:function(e){t.setState({error:e}),t.sendCreationPostMetrikaHandler("add_file_error")},onAddFiles:function(){return t.setState({isFetching:!0})},maxFileSize:h,maxUploadFileSizeMessage:b,isCustomFileSize:g,shrinkToolbar:E,mobileFeed:P,testId:A,onClick:function(){return t.sendCreationPostMetrikaHandler("add_file")}},a.a.createElement("div",{className:v.a.addfile,onClick:D.length>=10?this.disabledButtonClick:void 0},R.stapleIcon,!k&&a.a.createElement(r.Fragment,null,a.a.createElement("span",{className:l()(H({},v.a.adaptiveTextAdd,E))},__("label.editor.file.add.line1")),a.a.createElement("span",{className:l()(H({},v.a.adaptiveTextFile,E))},__("label.editor.file.add.line2"))))),this.state.error&&a.a.createElement("div",{ref:function(e){t.popover=e},className:v.a.popover},this.state.error,a.a.createElement("div",{className:v.a.close_button,onClick:this.handleErrorReset},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{fill:"#fff",d:"M6.56 6.012l5.3 5.31c.187.187.187.374 0 .561a.382.382 0 0 1-.28.117.382.382 0 0 1-.28-.117L6 6.573l-5.3 5.31A.382.382 0 0 1 .42 12a.382.382 0 0 1-.28-.117c-.187-.187-.187-.374 0-.561l5.3-5.31L.14.702C-.047.515-.047.327.14.14c.187-.187.374-.187.56 0L6 5.45 11.3.14c.186-.187.373-.187.56 0 .187.187.187.375 0 .562z"})))))))),this.state.descriptionsPopupVisible&&a.a.createElement(I,{onClose:function(){return t.setState({descriptionsPopupVisible:!1})},onSuccess:this.onSuccessHandler,onError:function(e){return t.setState({error:e})},containerId:N,contentImages:z.map((function(e){return e.contentImage})),previewHeight:s}))}}]),t}(r.Component);X.propTypes={viewOnly:i.a.bool.isRequired,previewHeight:i.a.number.isRequired,toolBarTarget:i.a.object,maxFileSize:i.a.number.isRequired,maxUploadFileSizeMessage:i.a.string.isRequired,isCustomFileSize:i.a.bool.isRequired,isCompact:i.a.bool,poll:i.a.object},X.defaultProps={container:null,catchedUrl:null,toolBarTarget:null,maxFileSize:W>0?W:2147483648,maxUploadFileSizeMessage:G,isCustomFileSize:W>0,isCompact:!1,poll:null};var Y=X;t.a=function(e){var t=Object.keys(e).length>0?e:window.__MEDIA_WIDGET__INITIAL__STATE__;return a.a.createElement(Y,t)}},88:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(5),u=n(16),p=n(59);var d,m,f=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(!0)},r.onerror=function(){return n(!1)},r.src=e}))},h=(d=regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.content,r=t.type,a=null,"text"!==r&&"img"!==r){e.next=17;break}o=n.split(" "),i=null,c=0;do{l=o[c],/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(l)&&(i=o[c]),c+=1}while(!i&&c<o.length);if(!i){e.next=17;break}return e.prev=8,e.next=11,f(i);case 11:if(!e.sent){e.next=13;break}a=i;case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}var l}),e,void 0,[[8,15]])})),m=function(){var e=d.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(c)}("next")}))},function(e){return m.apply(this,arguments)}),v=n(37),b=n(43),g=n(51),y=n(87),w=n(210),E=n(157),_=n(233),C=n.n(_),x=function(e){var t=e.replyLabel;return a.a.createElement("div",{className:C.a.container},__("label.editor.reply")+": "+t)},k=function(e){return{boldIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"13",height:"15",viewBox:"0 0 13 15"},a.a.createElement("defs",null,a.a.createElement("path",{id:"qzkua",d:"M461.52 533.95v-5.15h.36c.52 0 .98.06 1.36.19.38.12.69.3.92.51a2 2 0 0 1 .52.79c.11.3.17.61.17.95 0 .35-.05.7-.15 1.01-.1.33-.25.62-.48.87a2.3 2.3 0 0 1-.91.6c-.39.15-.86.23-1.43.23zm0 1.1h1.2c.45 0 .88.06 1.29.2.41.13.77.32 1.08.58.3.26.55.58.73.98.19.4.28.86.28 1.38 0 .97-.25 1.67-.75 2.1-.5.44-1.25.65-2.26.65-.41 0-.78-.04-1.1-.14-.3-.1-.47-.31-.47-.65zm3.35-.75a5.1 5.1 0 0 0 2.11-1.11c.56-.5.84-1.19.84-2.04 0-.45-.08-.89-.23-1.3a2.73 2.73 0 0 0-.79-1.12 3.87 3.87 0 0 0-1.47-.75 8.33 8.33 0 0 0-2.33-.28h-3.04a35.14 35.14 0 0 1-2.84-.11.49.49 0 0 0-.02.15.22.22 0 0 0-.02.1v.1c0 .12.01.22.04.3.03.08.1.13.22.16.56.1.94.2 1.13.32.19.13.28.34.28.63v11.02c0 .3-.1.5-.32.64-.21.13-.57.23-1.09.3a.36.36 0 0 0-.18.1c-.05.06-.08.16-.08.33v.1c0 .03 0 .07.02.12l.02.15a12.18 12.18 0 0 0 1.04-.04c.3-.03.6-.05.93-.06l.9-.01h3.8c.8 0 1.54-.09 2.2-.26a4.89 4.89 0 0 0 1.68-.78 3.59 3.59 0 0 0 1.47-3.07c0-.5-.11-.96-.32-1.37a3.26 3.26 0 0 0-.9-1.06c-.38-.3-.83-.55-1.35-.73a7.17 7.17 0 0 0-1.7-.36z"})),a.a.createElement("use",{fill:e.bold?"#00c7e9":"#fff",xlinkHref:"#qzkua",transform:"translate(-457 -527)"})),italicIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"6",height:"16",viewBox:"0 0 6 16"},a.a.createElement("defs",null,a.a.createElement("path",{id:"2wkfa",d:"M491.12 540c-.04.17-.07.3-.07.4 0 .13.07.2.2.2.09 0 .2-.03.32-.09.13-.05.25-.1.36-.17l.33-.18a.6.6 0 0 1 .25-.07c.11 0 .2.06.27.18.07.13.1.25.12.37a16.97 16.97 0 0 1-1.8 1.05c-.32.16-.64.3-.96.4-.31.12-.59.17-.82.17-.25 0-.46-.05-.63-.15-.17-.1-.25-.28-.25-.53 0-.09 0-.17.02-.25l.04-.21 1.41-6.71c.04-.22 0-.33-.11-.33a.58.58 0 0 0-.2.05 22.6 22.6 0 0 1-.63.25.9.9 0 0 1-.27.05c-.13 0-.23-.06-.3-.2a1.84 1.84 0 0 1-.14-.37 40.24 40.24 0 0 1 2.14-1.02c.38-.16.72-.29 1.03-.4.3-.1.53-.16.66-.16.12 0 .23.03.33.08.1.06.15.17.15.31a1.86 1.86 0 0 1-.04.4zm.53-9.55c-.4 0-.71-.1-.95-.3a1 1 0 0 1-.35-.8c0-.45.18-.84.53-1.17a1.8 1.8 0 0 1 1.25-.48c.43 0 .74.13.93.38.19.26.28.52.28.79 0 .47-.16.85-.5 1.14-.32.3-.72.44-1.2.44z"})),a.a.createElement("use",{fill:e.italic?"#00c7e9":"#fff",xlinkHref:"#2wkfa",transform:"translate(-488 -527)"})),linkIcon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"19",height:"18",viewBox:"0 0 19 18"},a.a.createElement("defs",null,a.a.createElement("path",{id:"4lqra",d:"M527.29 527.9c.66.63 1 1.42 1.03 2.37 0 .85-.34 1.64-1.03 2.36l-4.38 4.38c-.58.55-1.3.83-2.15.86h-.34a3.24 3.24 0 0 1-2.32-1.33c-.23-.43-.16-.77.21-1.03.37-.2.72-.13 1.03.21.23.37.65.6 1.25.69.46.06.89-.09 1.29-.43l4.38-4.43c.37-.4.57-.83.6-1.28 0-.46-.2-.9-.6-1.34l-.73-.73a5.46 5.46 0 0 0-.6-.43c-1-.54-1.8-.51-2.4.09l-2.63 2.62c-.37.32-.72.32-1.03 0-.32-.31-.32-.66 0-1.03l2.62-2.66c.46-.43 1.02-.7 1.68-.82a3.82 3.82 0 0 1 3.39 1.2zm-8.25 10.92c.32-.32.66-.32 1.03 0 .32.31.32.66 0 1.03l-2.32 2.27a4.14 4.14 0 0 1-2.8 1.38h-.2c-.92 0-1.73-.33-2.41-.99l-.73-.73a3.51 3.51 0 0 1-.9-1.55 3.4 3.4 0 0 1 .9-3.52l4.04-4.04a4.04 4.04 0 0 1 2.96-1.29 4.12 4.12 0 0 1 2.92 1.8c.23.4.17.72-.17.95-.37.23-.72.19-1.03-.13-.54-.68-1.15-1.07-1.8-1.16-.6-.02-1.22.26-1.85.86l-4.04 4.04c-.17.2-.32.43-.43.69-.37.89-.23 1.66.43 2.32l.73.73c.4.4.9.59 1.5.56a3.11 3.11 0 0 0 1.85-.95z"})),a.a.createElement("use",{fill:e.link?"#00c7e9":"#fff",xlinkHref:"#4lqra",transform:"translate(-510 -526)"}))}},O=n(102),P=n.n(O),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var e,n,r;S(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handlePopoverTools=function(){return{bold:{title:"bold",result:function(e){e.preventDefault(),document.execCommand("bold",!1,null),r.props.onSelection()}},italic:{title:"italic",result:function(e){e.preventDefault(),document.execCommand("italic",!1,null),r.props.onSelection()}},link:{title:"link",result:function(e){e.preventDefault(),r.props.activeElements.link?document.execCommand("unlink",!1,null):r.props.onChangePopoverLink("",!1),r.props.onSelection()}}}},r.handleChange=function(e){r.props.onChangePopoverLink(e.target.value,!1)},r.handleKeyDown=function(e){if(e.keyCode===u.a.ENTER){e.preventDefault(),e.stopPropagation();var t=r.props,n=t.inputRange,a=t.popoverLink,o=t.onHoverPopoverLink,i=t.onChangePopoverLink;if((/^\s+$/.test(a.value)?0:a.value.length)>0){if(window.getSelection){var c=window.getSelection();c.removeAllRanges(),c.addRange(n)}else document.selection&&n.select&&n.select();document.execCommand("createLink",!1,a.value),r.props.editorRef.current.querySelectorAll('a[href="'+a.value+'"').forEach((function(e){e.onmouseover=function(){return o(e,a.value)},e.onmouseout=function(){return o(e,null)}})),i()}}},r.handleCleanClick=function(){r.props.onChangePopoverLink("",!1)},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.activeElements,r=t.popoverPos,o=t.popoverLink,i=t.allowBottomward,c=this.handlePopoverTools();if(!r)return null;var s=!i||r.top>45,u=s?{top:r.top-40,left:r.left+32}:{top:r.top+30,left:r.left+32},p=l()(P.a.container,A({},P.a.topward,s),A({},P.a.bottomward,!s));return a.a.createElement("div",{className:p,style:u},!o&&Object.keys(c).map((function(e){return a.a.createElement("span",{key:c[e].title,onMouseDown:c[e].result},k(n)[c[e].title+"Icon"])})),o&&a.a.createElement("div",{className:P.a.input},a.a.createElement("input",{ref:function(t){e.input=t},type:"text",placeholder:__("label.popover.link.placeholder"),onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:o.value,disabled:o.isRead,autoFocus:!0}),!o.isRead&&a.a.createElement("div",{className:P.a.clean,onClick:this.handleCleanClick})))}}]),t}(r.Component);I.propTypes={editorRef:i.a.object.isRequired,activeElements:i.a.object,popoverPos:i.a.object,popoverLink:i.a.object,inputRange:i.a.object,onHoverPopoverLink:i.a.func.isRequired,onChangePopoverLink:i.a.func.isRequired,onSelection:i.a.func.isRequired,allowBottomward:i.a.func},I.defaultProps={activeElements:null,popoverPos:null,popoverLink:null,inputRange:null,allowBottomward:!1};var N=I,D=n(211),R=n(18),M=n(28),L=n.n(M),U=n(80),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B=function(e){function t(e,n){var r=arguments;H(this,t);var o=K(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.handleFocus=function(){var e=o.props,t=e.placeholder,n=e.editorRef,r=o.state.isExpanded;n.current.innerText===t&&(n.current.innerHTML="",Object(R.f)(n.current)),r||o.setState({isExpanded:!0}),o.setState({isFocused:!0})},o.handleBlur=function(){var e=o.state.contentLen,t=o.props,n=t.placeholder,r=t.editorRef;e<1&&(r.current.innerHTML=n),o.setState({isFocused:!1})},o.handleClickOutside=function(e){var t=o.state,n=t.contentLen,r=t.popoverPos,a=t.attachmentsContainerId,i=o.props.isOpen;o.container.contains(e.target)||(n<1&&!a&&!i&&(o.setState({isExpanded:!1}),Object(s.e)({click:o.handleClickOutside})),r&&o.setState({popoverPos:null}))},o.handleSelection=function(){var e=o.state,t=e.popoverPos,n=e.popoverLink,r=o.props,a=r.editorRef,i=r.onSaveText,c=Object(R.c)(a.current),l=c.selPos,s=c.inputRange,u=c.inputSel,p=c.activeElements;s&&!s.collapsed&&l&&l.width>1?o.setState({popoverPos:l}):t&&o.setState({popoverPos:null}),n&&o.setState({popoverLink:null});var d=Object(R.a)(a.current);i(a.current.innerHTML,d),o.setState({inputRange:s,inputSel:u,activeElements:p,contentLen:d})},o.handleKeyPress=function(e){var t=o.props.maxLength;o.state.contentLen>=t&&e.preventDefault()},o.handleKeyDown=function(e){var t=o.state,n=t.inputRange,r=t.inputSel,a=t.attachmentsContainerId,i=o.props,c=i.editorRef,l=i.hotSubmit,s=i.onSubmit;if(l&&(e.keyCode===u.a.CTRL||e.ctrlKey&&e.keyCode===u.a.ENTER)&&s(),e.keyCode===u.a.SPACE){null===a&&h({content:c.current.innerText,type:"text"}).then((function(e){e&&o.setState({catchedMediaUrl:e})}));var p=r.anchorNode.textContent.substring(0,r.anchorOffset),d=/^1\./gm.test(p),m=/^-/gm.test(p);if(d||m){e.preventDefault(),d?document.execCommand("insertOrderedList",!1,null):m&&document.execCommand("insertUnorderedList",!1,null);var f=n.endContainer.lastElementChild.lastElementChild;f.innerHTML=f.innerHTML.replace(/^1\./gm,"").replace(/^-/gm,"")}}},o.handlePaste=function(e){e.stopPropagation(),e.preventDefault();var t=o.state.contentLen,n=o.props.maxLength;if(t<n){var r=null;void 0===e.clipboardData?(o.state.inputRange.deleteContents(),r=window.clipboardData.getData("Text")):(o.state.inputRange.deleteContents(),r=e.clipboardData.getData("text/plain")),t+r.length>n&&(r=r.slice(0,n-t)),window.clipboardData&&window.clipboardData.getData?(o.state.inputRange.deleteContents(),o.state.inputRange.insertNode(document.createTextNode(r))):(o.state.inputRange.deleteContents(),document.execCommand("insertText",!1,r)),r&&h({content:r,type:"text"}).then((function(e){e&&o.setState({catchedMediaUrl:e})}))}},o.handleEmojiPick=function(e){var t=o.state.inputRange,n={id:e.id,src:p.a,class:L.a.emojis_input,style:e.style.cssText};Object(R.e)("img",t,n),o.setState({isFocused:!0})},o.handleHoverPopoverLink=function(e,t){var n=o.state.inputRange,r=o.props.editorRef,a=Object(R.b)(e,r.current);n.startOffset===n.endOffset&&(t&&a?o.setState({popoverPos:a,popoverLink:{value:t,isRead:!0}}):o.setState({popoverPos:null,popoverLink:null}))},o.handleChangePopoverLink=function(e,t){r.length>0?o.setState({popoverLink:{value:e,isRead:t}}):o.setState({popoverLink:null})},o.handlePollCreated=function(e){o.setState({poll:e}),o.props.onSavePolls&&o.props.onSavePolls(e.id,e.url),o.props.sendCreationPostMetrika&&o.props.sendCreationPostMetrika("add_survey_success",o.props.popup?"popup":"inline",o.props.eventKey)},o.handlePollDeleted=function(){o.state.poll&&o.setState({poll:null}),o.props.onSavePolls&&o.props.onSavePolls(null,null)},o.handleSaveAttachments=function(e){var t=e&&e.length&&e[0];o.props.onSaveMedia&&o.props.onSaveMedia(t&&t.container&&t.container.containerId),o.setState({attachmentsContainer:t&&t.container})},o.handlerOnSubmit=function(){o.props.onSubmit(o.state.poll?o.state.poll.id:null,o.state.poll?o.state.poll.url:null),o.props.text&&o.props.text.trim()&&(o.handlePollDeleted(),o.setState({attachmentsContainer:null}))},o.setAttachmentsCount=function(e){e>o.state.attachmentsCount&&o.props.sendCreationPostMetrika&&o.props.sendCreationPostMetrika("add_file_success",o.props.popup?"popup":"inline",o.props.eventKey),o.setState({attachmentsCount:e})},o.state={isExpanded:e.isOpen,isFocused:!1,inputRange:null,inputSel:null,contentLen:e.text.length,popoverPos:null,popoverLink:null,activeElements:null,catchedMediaUrl:null,attachmentsContainerId:e.attachmentsContainerId,attachmentsKey:Date.now(),poll:e.poll||null,attachmentsContainer:e.attachmentsContainer||null,attachmentsCount:null},o.isFirefox=Object(R.d)(),o.toolBarRef=a.a.createRef(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),F(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.text,n=e.placeholder,r=e.editorRef,a=e.onSaveText,o=e.paragraphOnEnter;if(t.length>0){var i=Object(v.a)(t,L.a.emojis_input),c=Object(U.b)(i);r.current.innerHTML=c;var l=Object(R.a)(r.current);a(r.current.innerHTML,l)}else r.current.innerHTML=n;r.current.addEventListener("paste",this.handlePaste),document.execCommand("enableObjectResizing",!1,!1),o&&document.execCommand("defaultParagraphSeparator",!1,"p"),this.setState({})}},{key:"componentWillReceiveProps",value:function(e){var t=e.attachmentsContainerId;this.state.attachmentsContainerId!==t&&this.setState({attachmentsContainerId:t,catchedMediaUrl:null})}},{key:"componentDidUpdate",value:function(e,t){!t.isFocused&&this.state.isFocused&&Object(s.b)({click:this.handleClickOutside}),0===t.contentLen&&this.state.contentLen>0&&this.props.sendCreationPostMetrika&&this.props.sendCreationPostMetrika("start_typing",this.props.popup?"popup":"inline",this.props.eventKey)}},{key:"componentWillUnmount",value:function(){var e=this.props.editorRef;Object(s.e)({click:this.handleClickOutside}),e.current.removeEventListener("paste",this.handlePaste)}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.isExpanded,o=n.isFocused,i=n.inputRange,c=n.popoverPos,s=n.popoverLink,u=n.activeElements,p=n.contentLen,d=n.catchedMediaUrl,m=n.attachmentsContainerId,f=this.props,h=f.currentUser,v=f.submitText,_=f.minInputHeight,C=f.isFetching,k=f.editorRef,O=f.replyLabel,P=f.onSaveMedia,T=(f.onSubmit,f.onCancel),A=f.customButtons,S=(f.attachmentsContainer,f.shrinkToolbar),j=f.isCompact,I=f.allowBottomward,R=f.onTextAreaClick,M=f.mobileFeed,U=f.postSurvey,F=f.hotSubmit,H=l()(L.a.input,(z(e={},L.a.active,o||p>0),z(e,L.a.block,C),e)),K={minHeight:r||o||p?_||63:_||52};return a.a.createElement("div",{className:L.a.container,ref:function(e){t.container=e}},a.a.createElement("div",{className:l()(L.a.editor_wrapper,z({},L.a.editor_wrapper_expanded,r))},a.a.createElement("div",{className:L.a.avatarContainer},a.a.createElement(g.a,{author:h,style:{width:30,height:30,fontSize:14,borderRadius:3}}),h.isDnevnikExpert&&a.a.createElement("div",{className:L.a.dnevnikExpert},a.a.createElement("img",{alt:"dnevnik_expert",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABkklEQVR4AY3SA4xcYQBF4TJm7bC2bTdObceN69hqo9q2bXdt27a9e/YO/sX4Jt/4jN7r4WrASPkq5fJBBvfwZUBvSab7/HyNtwq59c3sD86mtLEF+9Z6+rSFclDihbPxRaz4nsKVlFITB8kmmSQ9TThbMumyMn3amq/JLPmUwIbvydS2tOKwBJmumGAhs6aRTzmVXEks4vC/dBa+izM44p/Bg9RS/hVWU1TfjH2BiikVNn1JZO6LKKt5L821EW2u2fYt2cSlirktJFXUs+p1DLOfRjDrSbi5tpptv177Job0qgYTX1fMYPMnxZXVsvhpONMfhHR3P4SlzyJIrqgzYaT0N3/aMMkRjv1JYcrtwG4m3w7g9L9UE6bJQMfDFStsehXJxOt+Tna9izZxsGPYV5ragKnX/Bh76Q8r7gdzJjCdJXcDrfdn3/QzcY307BoPsT7a1MLSOwFcCcuisaUNjfrmVs4HZ7LqbhDNrdbHmqVP17inxNF9bRKE8367OkXHyHepl48y0/74PPvjzfJJRpmmHSDJV12tuw96AAAAAElFTkSuQmCC"}))),a.a.createElement("div",{"data-test-id":(this.props.testId||"")+"-text-editor",contentEditable:!0,ref:k,spellCheck:!1,className:H,style:K,onSelect:this.handleSelection,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onClick:R}),(o||p>0)&&a.a.createElement(w.a,{onClick:this.handleEmojiPick})),!!this.state.poll&&U&&a.a.createElement("div",{className:L.a.polls,"data-test-id":"poll-container"},Object(b.o)(),a.a.createElement("a",{className:L.a.pollsText,href:this.state.poll.url,target:"_blank"}," ",this.state.poll.text),a.a.createElement("div",{className:L.a.pollsCross,onClick:this.handlePollDeleted,"data-test-id":"delete-poll"}," ×")),r&&a.a.createElement("div",null,a.a.createElement("div",{className:L.a.attachments,"data-test-id":"attachments-container"},a.a.createElement(y.a,{viewOnly:!1,catchedUrl:d,previewHeight:100,putContainerId:P,containerId:m,container:this.state.attachmentsContainer,handleSaveAttachments:this.handleSaveAttachments,toolBarTarget:U?null:this.toolBarRef.current,isFetching:C,shrinkToolbar:S,isCompact:j,multiplePreviews:this.props.multiplePreviews,mobileFeed:M,setAttachmentsCount:U?this.setAttachmentsCount:void 0,testId:F?"add-attach-in-comment":"add-attach-in-post",sendCreationPostMetrika:this.props.sendCreationPostMetrika,eventKey:this.props.eventKey,popup:this.props.popup})),a.a.createElement("div",{className:L.a.footer,"data-test-id":"post-tools-container"},a.a.createElement("div",{className:L.a.toolbar,ref:this.toolBarRef},U&&a.a.createElement(D.a,{attachmentsKey:this.state.attachmentsKey,attachmentsContainerId:m,handleSaveMedia:this.handleSaveAttachments,onPollCreated:this.handlePollCreated,postSurvey:U,pollIsNotAvailable:this.state.poll,attachmentsCount:this.state.attachmentsCount,sendCreationPostMetrika:this.props.sendCreationPostMetrika,eventKey:this.props.eventKey,popup:this.props.popup})),O.length>0&&a.a.createElement(x,{replyLabel:O}),a.a.createElement(E.a,{submitText:v,isFetching:C,onCancel:T,onSubmit:this.handlerOnSubmit,customButtons:A,testId:F?"send-comment":"send-post"})),a.a.createElement(N,{editorRef:k,activeElements:u,popoverPos:c,popoverLink:s,inputRange:i,onHoverPopoverLink:this.handleHoverPopoverLink,onChangePopoverLink:this.handleChangePopoverLink,onSelection:this.handleSelection,allowBottomward:I})))}}]),t}(r.Component);B.propTypes={text:i.a.string.isRequired,attachmentsContainerId:i.a.string,currentUser:i.a.object.isRequired,placeholder:i.a.string,submitText:i.a.string,maxLength:i.a.number.isRequired,minInputHeight:i.a.number,isOpen:i.a.bool,isFetching:i.a.bool.isRequired,tooltipContent:i.a.object,hotSubmit:i.a.bool,replyLabel:i.a.string,editorRef:i.a.object,onSaveMedia:i.a.func.isRequired,onSaveText:i.a.func.isRequired,onSubmit:i.a.func.isRequired,isCompact:i.a.bool,onTextAreaClick:i.a.func,allowBottomward:i.a.bool},B.defaultProps={placeholder:__("label.editor.placeholder"),submitText:__("label.editor.button.send"),minInputHeight:0,editorRef:{},isOpen:!0,tooltipContent:null,hotSubmit:!1,replyLabel:"",attachmentsContainerId:null,isCompact:!1,onTextAreaClick:null,allowBottomward:!1};t.a=B},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(39),a=n(13),o=n(53),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"same-origin",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simple:!1};l(this,e),this.get=function(t,r){return e.call(n.request.get,""+n.apiUrl+t,r)},this.post=function(t,r){return e.call(n.request.post,""+n.apiUrl+t,r)},this.apiUrl=t,this.request=new r.a(a,o),this.reloginRequest=new r.a(a,{simple:!0})}var t,n;return i(e,null,[{key:"relogin",value:(n=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.dnevnik&&window.dnevnik.auth&&window.dnevnik.auth.update&&window.dnevnik.auth.update(t)}catch(e){}case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"call",value:(t=c(regeneratorRuntime.mark((function t(n,r,o){var i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.call(null,r,o);case 2:if(i=t.sent,t.prev=3,401!==i.status){t.next=10;break}return t.next=7,Promise.race([new Promise((function(t,n){return e.relogin(t)})),new Promise((function(e,t){return setTimeout(t,2e3)}))]).then((function(){return n.call(null,r,o)}),(function(){return i}));case 7:if(401!==(i=t.sent).status){t.next=10;break}throw new a.a({message:"Unauthorized",errorCode:i.statusText},401);case 10:if(204!==i.status){t.next=12;break}return t.abrupt("return",null);case 12:return t.next=14,i.json();case 14:if(!(c=t.sent).responseStatus){t.next=17;break}throw new a.c(c.responseStatus,i.status);case 17:if(!(i.status<200||i.status>=300)){t.next=19;break}throw new a.a(c,i.status);case 19:return t.abrupt("return",c);case 22:if(t.prev=22,t.t0=t.catch(3),!(t.t0 instanceof SyntaxError)){t.next=26;break}throw new a.a({message:"Parsing response error",errorCode:"SyntaxError"},i.status);case 26:if(!(t.t0 instanceof TypeError)){t.next=28;break}throw new a.a({message:"Network error",errorCode:"TypeError"},i.status);case 28:throw t.t0;case 29:case"end":return t.stop()}}),t,this,[[3,22]])}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),u=new s(o.a.apiUrl)},90:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c}));var r=function(e){return e.popupsVisibility},a=function(e){return e.postWidgetContent},o=function(e){return e.currentUser},i=function(e){return e.postWidgetError},c=function(e){return e.postWidgetUiState}},91:function(e,t,n){e.exports={list:"_1_DlR",file:"_1ZdoJ",preview:"_16DgQ",description:"xTtUz",buttonContainer:"_1ao-P"}},92:function(e,t,n){e.exports={container:"_2Q0Em",text:"_1srN_",background:"_1myVL",barInfo:"_1n4tx",radio:"_377BU"}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}},95:function(e,t,n){e.exports={title:"wXiwi",progress:"_3eUCX",redesignedProgress:"_36eeh",line:"_1pfOl",info:"_2tYMp"}},98:function(e,t,n){e.exports={create_editor:"OzGQy",disscussions:"YENbA",text:"_36fyI",content:"_2OxFe",link:"_3OkqQ _36fyI",buttons:"_37PEa",blue_button:"_2CoLS",spinner:"_1wGyt"}},99:function(e,t,n){e.exports={overlay:"_2viUv",close:"rT72u",file_wrapper:"_3qDNW",img_view:"_3HL51"}}});
//# sourceMappingURL=post_widget.js.map