!function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],f=0,p=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={42:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/client/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([1429,0]),n()}({1045:function(e,t,n){const r=[];r.push(n(320)),r.push(n(712));const a=[],o=["mosreg","kz"]||!1;r.forEach(e=>{e.keys().forEach(t=>{const n=/\.(?:(\w*)\.)?(ru-RU|en-US|kk-KZ|uz-Latn-UZ|uz-Cyrl-UZ|fr-CD)\.ftl$/.exec(t);n&&n.length>=3&&(!n[1]||o.includes(n[1]))&&a.push({conf:n[1],locale:n[2],content:e(t)})})}),e.exports=a},115:function(e,t,n){"use strict";var r=n(0),a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],o=arguments[3],i=Object(r.useState)({value:void 0,error:void 0,isPending:t}),s=a(i,2),c=s[0],u=s[1],l=Object(r.useRef)(void 0),f=Object(r.useCallback)((function(){u({value:void 0,error:void 0,isPending:!0});var t=Date.now();return l.current=t,e.apply(void 0,arguments).then((function(e){t===l.current&&(u({value:e,error:void 0,isPending:!1}),o&&o(e))})).catch((function(e){t===l.current&&(u({value:void 0,error:e,isPending:!1}),n&&n(e))}))}),[e,n,o]);Object(r.useEffect)((function(){t&&f()}),[f,t]);var p=c.isPending,d=c.value,m=c.error;return{execute:f,isPending:p,value:d,error:m}}},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){try{window.require(["analytics/yaMetrikaTracker"],(function(t){t&&t.reachGoal?t.reachGoal({target:e}):console.warn("Yandex metrika not sent, maybe dnevnikSettings.analytics.yandex is undefined")}))}catch(e){}},a=function(e){try{window.require(["analytics/yaMetrikaTracker"],(function(t){t&&t.params?t.params(e):console.warn("Yandex metrika not sent, maybe dnevnikSettings.analytics.yandex is undefined")}))}catch(e){}}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){var o={msteams:a({},Date.now(),a({},window.dnevnik.user.id,a({},window.dnevnik.user.commonRole||"",a({},e,a({},t,a({},(n||"notset").toLowerCase(),null))))))};Object(r.a)(o)}},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(17),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=Object(r.b)({WebApplicationException:null,FetchError:null,ValidationException:null}),u=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r.name="ServiceStackError",r.responseStatus=e,r.httpStatus=n||500,r}return s(t,Error),a(t,null,[{key:"responseStatus",value:function(e,t,n){return{errorCode:e,message:t,errors:n}}},{key:"validationException",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object.keys(e).map((function(t){return{fieldName:t,message:e[t]}})),a=t.responseStatus(c.ValidationException,n,r);throw new t(a,200)}}]),t}(),l=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,t):r.stack=new Error(e).stack,r.name="ApiError",r.json=e,r.httpStatus=n||500,r}return s(t,Error),t}(),f=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Error.captureStackTrace(r,t),r.status=n,r.data=e,r.name="PollingError",r}return s(t,Error),t}()},14:function(e,t,n){"use strict";var r=n(9);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.a=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(this,e),this.post=function(){var e;return(e=t.client).post.apply(e,arguments)},this.get=function(){var e;return(e=t.client).get.apply(e,arguments)},this.client=n||r.b}},1429:function(e,t,n){n(85),n(86),e.exports=n(1486)},1486:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(35),i=n(15),s=n(731),c=n(129),u=n(445),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e=Object(u.a)(),t=e.systems,n=e.lessons,r=t&&1===t.length?t[0]:void 0;return t&&t.length>0&&(document.querySelectorAll('div[data-planned="false"]').length>0&&Object(c.a)("viewplan",t[0].page,r&&r.name),n&&n.length>0&&new Set(n.filter((function(e){return!!e.meetingUrl})).map((function(e){return e.systemType}))).forEach((function(e){return Object(c.a)("viewjoin",t[0].page,e)}))),null}}]),t}(r.Component),m=n(736),h=n(609),v=n(474),y=n.n(v),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_=Object(u.a)();var w=function(e){var t=e.lessonId,n=e.schoolType||_.schoolType,o=Object(r.useState)(_.lessons.length>0&&_.lessons.find((function(e){return e.lessonId===t}))),s=g(o,2),u=s[0],l=s[1],f=Object(r.useState)(_.systems.length>1?u&&_.systems.find((function(e){return e.name===u.systemType})):_.systems[0]),p=g(f,1)[0],d=u&&u.isMeetingCreated,v=d?"":"none",w=d?u.meetingUrl:"#";return a.a.createElement("div",{className:y.a.container},!d&&u.canCreate&&a.a.createElement(m.a,{currentLesson:u,systems:_.systems,onCreate:function(e){u.isMeetingCreated||l(b({},u,{meetingUrl:e,isMeetingCreated:!0}))},schoolType:n},a.a.createElement("div",{className:y.a.button},a.a.createElement("div",{"data-meeting-lesson-id":t},a.a.createElement("div",{className:y.a.not_planned_icon}),a.a.createElement("span",{className:y.a.button_action},a.a.createElement(i.b,{id:"label_teams_mettin_createmeeting",vars:{schoolType:n}}))))),a.a.createElement("a",{id:"meeting_link_"+t,style:{display:v},href:w,target:"_blank"},a.a.createElement("div",{className:y.a.button,"data-planned":"true",onClick:function(){return Object(c.a)("clickjoin",_.systems[0].page,p&&p.name)}},a.a.createElement("div",null,a.a.createElement("div",{className:y.a.planned_icon}),a.a.createElement("span",{className:y.a.status},a.a.createElement(i.b,{id:"label_teams_metting_status",vars:{schoolType:n}})),a.a.createElement("span",{className:y.a.button_action},a.a.createElement(i.b,{id:"label_teams_metting_jointomeeting"}))))),p&&(d||u.canCreate)&&a.a.createElement("div",{className:y.a.help_container},a.a.createElement(h.a,{helpLink:p?p.helpLink:"#",cssClass:"help_18"})),a.a.createElement("div",{id:"spinner_"+t,className:y.a.spinner}))},E=n(610),O=n(206),T=n(1045),k=n.n(T),S=Object(u.a)();if(S.sferumBinding){s.a.init({appId:S.sferumBinding.appId});var j={url:S.sferumBinding.redirectUrl,action:{name:S.sferumBinding.name,token:S.sferumBinding.token}};s.b.redirectAuth(j)}var x=Object(O.a)(k.a),C=document.querySelectorAll(".video_lessons_button"),R=!0,I=!1,P=void 0;try{for(var N,A=C[Symbol.iterator]();!(R=(N=A.next()).done);R=!0){var U=N.value;Object(o.render)(a.a.createElement(i.a,{l10n:x},a.a.createElement(w,{lessonId:U.dataset.lesson})),U)}}catch(e){I=!0,P=e}finally{try{!R&&A.return&&A.return()}finally{if(I)throw P}}if(S.error){var M=S.error,L=M.type,D=M.message,B=M.page,q=M.vksName;Object(c.a)(L,B,q),Object(o.render)(a.a.createElement(i.a,{l10n:x},a.a.createElement(E.a,{message:D,style:{margin:"auto",padding:"100px 20px 0 20px"}})),document.getElementById("video-lessons-error"))}else{var z=document.createElement("div");Object(o.render)(a.a.createElement(d,null),z)}},155:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(223),i=n.n(o),s=n(16),c=n(5);t.a=function(e){var t=e.onClose,n=e.title,o=e.subtitle,u=e.children,l=e.testId,f=e.style,p=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=function(e){e.keyCode===s.a.ESC&&t()};return Object(c.b)({keydown:e}),function(){Object(c.e)({keydown:e})}}),[]),a.a.createElement("div",{className:i.a.overlay},a.a.createElement("div",{className:i.a.overlay_content,onClick:function(e){p.current&&!p.current.contains(e.target)&&t()}},a.a.createElement("div",{className:i.a.container,ref:p,style:f,"data-test-id":l},a.a.createElement("div",{className:i.a.close,onClick:t,"data-test-id":l+"-close-button"},a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#C7D0DA"}),a.a.createElement("path",{d:"M8.25 16.2045L16.2045 8.25L8.25 16.2045ZM8.25 8.25L16.2045 16.2045Z",fill:"#C7D0DA"}),a.a.createElement("path",{d:"M8.25 8.25L16.2045 16.2045M8.25 16.2045L16.2045 8.25L8.25 16.2045Z",stroke:"white",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))),n&&a.a.createElement("div",{className:i.a.title},n,o&&a.a.createElement("div",{className:i.a.subtitle},o)),a.a.createElement("div",{className:i.a.content},u))))}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BACKSPACE:8,TAB:9,ENTER:13,CTRL:10,RETURN:13,SHIFT:16,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,B:66,I:73,Z:90,V:86,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},17:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return Object.keys(e).forEach((function(n){e[n]=t(n)})),e},a=function(e){return e?Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""}},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(272),a=n(15);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return new a.c(function(e){var t=window.dnevnik&&window.dnevnik.settings&&window.dnevnik.settings.environmentPrefix&&window.dnevnik.settings.environmentPrefix.toLowerCase();return(window.dnevnik&&window.dnevnik.user&&window.dnevnik.user.suitableCultures||[]).filter((function(t){return-1!==e.findIndex((function(e){return e.locale===t}))})).map((function(n){var a=new r.a(n),i=e.filter((function(e){return e.locale===n}));return[].concat(o(i.filter((function(e){return e.conf===t}))),o(i.filter((function(e){return!e.conf})))).forEach((function(e){a.addResource(new r.b(e.content))})),a}))}(e))}},221:function(e,t,n){e.exports={button:"_1YIiY",link:"_1U2TU",blueButton:"_2VXu7",whiteButton:"_2yleG",buttons:"B-tOV",blueBorderButton:"qpJdO"}},223:function(e,t,n){e.exports={overlay:"_2Epye",overlay_content:"_3VsV8",container:"scvJK",content:"_3Cc72",title:"_2FRBv",subtitle:"_1keM6",close:"_2k_el"}},320:function(e,t,n){var r={"./terms.ru-RU.ftl":357};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=320},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(628),i=n.n(o),s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function c(e){var t=e.delay,n=e.style,o=e.testId,c=Object(r.useState)(!t),u=s(c,2),l=u[0],f=u[1];return Object(r.useEffect)((function(){if(t){var e=setTimeout((function(){return f(!0)}),t);return function(){return clearTimeout(e)}}}),[]),a.a.createElement("div",{className:i.a.container,"date-test-id":o},l&&a.a.createElement("div",{className:i.a.loader,style:n}))}},337:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n.n(o),s=n(221),c=n.n(s);t.a=function(e){var t,n,r,o=e.className,s=e.onClick,u=e.type,l=e.children,f=e.href,p=e.target,d=e.style,m=e.testId,h=i()(c.a.button,o,(t={},n=c.a.link,r=!!f,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return f?a.a.createElement("a",{href:f,className:h,style:d,onClick:s||void 0,target:p,"data-test-id":m},l):a.a.createElement("button",{type:u,className:h,style:d,onClick:s||void 0,"data-test-id":m},l)}},357:function(e,t){e.exports="-project_long = Дневник.ру\r\n"},39:function(e,t,n){"use strict";n(192);var r=n(17),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"same-origin",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{simple:!1};i(this,e),this.get=function(n,a){return fetch(n+(a?"?"+Object(r.a)(a):""),{method:"GET",cache:"no-cache",headers:e.getRequestHeaders(t.headers),credentials:t.credentials})},this.post=function(n,r){return fetch(n,{method:"POST",cache:"no-cache",headers:e.getRequestHeaders(t.headers),body:e.getRequestBody(t.headers,r),credentials:t.credentials})},this.credentials=n,this.headers=a}return o(e,null,[{key:"getRequestHeaders",value:function(e){return!!e.simple?new Headers({"Content-Type":"application/x-www-form-urlencoded"}):new Headers({Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",pragma:"no-cache"})}},{key:"getRequestBody",value:function(e,t){if(!!e.simple){var n=[];return Object.keys(t).forEach((function(e){Array.isArray(t[e])?t[e].forEach((function(t,r){t&&"object"===(void 0===t?"undefined":a(t))?Object.keys(t).forEach((function(a){n.push(e+"["+r+"]."+a+"="+encodeURIComponent(t[a]))})):n.push(e+"="+encodeURIComponent(t))})):null===t[e]?n.push(e+"="):n.push(e+"="+encodeURIComponent(t[e]))})),n.join("&")}return JSON.stringify(t)}}]),e}();t.a=s},410:function(e,t,n){"use strict";t.a={TASK_STATUS_UNDEFINED:0,TASK_STATUS_PENDING:1,TASK_STATUS_EXECUTING:2,TASK_STATUS_COMPLETED:3,TASK_STATUS_ERROR:4,TASK_STATUS_EXPIRED:5}},445:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=window.__VIDEO_LESSONS_INITIAL_STATE__||{};t.a=function(){return r({},a)}},462:function(e,t,n){e.exports={container:"_1_aj1",instruction:"_3JB2i",buttons:"_135oH",list:"_3pj1r"}},463:function(e,t,n){e.exports={container:"VJgzK",errorIcon:"_2IivI",errorTitle:"_3-wqZ",errorText:"_1N3yl"}},474:function(e,t,n){e.exports={container:"_1UkTS",help_container:"V1oKI",button:"_2FARD",button_action:"_1eMPZ",status:"_3TdA3",planned_icon:"_3_AxT",not_planned_icon:"ofta7 _3_AxT",spinner:"spvJ1"}},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c}));var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)e.addEventListener(r,t[r],n)},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)e.removeEventListener(r,t[r],n)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(document,e,t)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(document,e,t)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(window,e,t)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(window,e,t)}},528:function(e,t,n){e.exports={button:"_2HUjz",msteams:"_1nJ5q",zoom:"_3AHnF",sferum:"_2poyw",help_container:"pjRu2"}},53:function(e,t,n){"use strict";var r=window.settings||{apiUrl:"/api"};t.a=r},609:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(732),i=n.n(o);t.a=Object(r.memo)((function(e){var t=e.helpLink,n=e.cssClass,r=e.onClick;return a.a.createElement("a",{target:"_blank",href:t,onClick:r},a.a.createElement("div",{className:i.a[n]}))}))},610:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(15),i=n(463),s=n.n(i);t.a=Object(r.memo)((function(e){var t=e.message,n=e.style,r=Object(o.d)().l10n;return a.a.createElement("div",{className:s.a.container,style:n},a.a.createElement("div",{className:s.a.errorIcon}),a.a.createElement("div",{className:s.a.errorTitle},r.getString("error_title")),a.a.createElement("div",{className:s.a.errorText},t||r.getString("error_try-again")))}))},628:function(e,t,n){e.exports={container:"E1nCK",loader:"_3IscB",alter:"_1kiMW"}},629:function(e,t,n){e.exports={container:"_3ojSr",button:"vVAb0"}},712:function(e,t,n){var r={"./video_lessons.ru-RU.ftl":713,"./video_lessons.uz-Latn-UZ.ftl":714};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=712},713:function(e,t){e.exports="label_teams_mettin_createmeeting = \r\n    {$schoolType -> \r\n        [Regular] Запланировать дистанционный урок\r\n        *[Other] Запланировать дистанционное занятие\r\n    }\r\n\r\nlabel_teams_metting_status = \r\n    {$schoolType ->\r\n        [Regular] Дистанционный урок.\r\n        *[Other] Дистанционное занятие.\r\n    }\r\n\r\nlabel_teams_metting_description = \r\n    {$schoolType ->\r\n        [Regular] Дистанционный урок.\r\n        *[Other] Дистанционное занятие.\r\n    }\r\n\r\nlabel_teams_metting_jointomeeting = Войти\r\n\r\nteams_create-mail-title = \r\n    {$schoolType ->\r\n        [Regular] Запланировать дистанционный урок\r\n        *[Other] Запланировать дистанционное занятие\r\n    }\r\n\t\r\nteams_create-mail-text = Для создания видеоурока нужен аккаунт MS Office365. Нажмите «Продолжить», чтобы создать аккаунт и получить ссылку на видеоурок.\r\nteams_create-mail-continue = Продолжить\r\nteams_create-mail-cancel = Отмена\r\n\r\nerror_title = Произошла ошибка\r\nerror_try-again = Возникла непредвиденная ошибка. Повторите попытку.\r\nerror_close = Закрыть\r\n\r\nsystems-popup_title = \r\n    {$schoolType ->\r\n        [Regular] Запланировать дистанционный урок\r\n        *[Other] Запланировать дистанционное занятие\r\n    }\r\n\r\nsystems-popup_instruction-title = \r\n    {$schoolType ->\r\n        [Regular] Нажмите на название сервиса, чтобы запланировать дистанционный урок:\r\n        *[Other] Нажмите на название сервиса, чтобы запланировать дистанционное занятие:\r\n    }\r\nsystems-popup_instruction-1 = \r\n    {$schoolType ->\r\n        [Regular] Для урока будет создана онлайн-конференция.\r\n        *[Other] Для занятия будет создана онлайн-конференция.\r\n    } \r\nsystems-popup_instruction-2 =\r\n    {$schoolType ->\r\n        [Regular] Ссылка на онлайн-конференцию сохранится в описании урока и будет видна Вам и ученикам класса.\r\n        *[Other] Ссылка на онлайн-конференцию сохранится в описании занятия и будет видна Вам и учащимся группы.\r\n    }\r\nsystems-popup_instruction-3 =\r\n    {$schoolType ->\r\n        [Regular] В день проведения урока перейдите по ссылке, чтобы начать обучение.\r\n        *[Other] В день проведения занятия перейдите по ссылке, чтобы начать обучение.\r\n    }\r\n"},714:function(e,t){e.exports="label_teams_mettin_createmeeting = \r\n    {$schoolType -> \r\n        [Regular] Masofaviy dars rejalashtirish\r\n        *[Other] Masofaviy mashg'ulot rejalashtirish\r\n    }\r\n\r\nlabel_teams_metting_status = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars.\r\n        *[Other] Masofaviy mashg'ulot.\r\n    }\r\n\r\nlabel_teams_metting_description = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars.\r\n        *[Other] Masofaviy mashg'ulot.\r\n    }\r\n\r\nlabel_teams_metting_jointomeeting = Kirish\r\n\r\nteams_create-mail-title = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars rejalashtirish\r\n        *[Other] Masofaviy mashg'ulot rejalashtirish\r\n    }\r\n\t\r\nteams_create-mail-text = Video darslik yaratish uchun sizga MS Office 365 tizimida hisob qaydnomasi kerak. Hisob yaratish va video darsga havolani olish uchun \"Davom etish\" tugmasini bosing.\r\nteams_create-mail-continue = Davom etish\r\nteams_create-mail-cancel = Bekor qilish\r\n\r\nerror_title = Xatolik yuz berdi\r\nerror_try-again = Kutilmagan xato yuz berdi. Qayta urinib ko'ring.\r\nerror_close = Yopish\r\n\r\nsystems-popup_title = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy dars rejalashtirish\r\n        *[Other] Masofaviy mashg'ulot rejalashtirish\r\n    }\r\n\r\nsystems-popup_instruction-title = \r\n    {$schoolType ->\r\n        [Regular] Masofaviy darsni rejalashtirish uchun xizmat nomini bosing:\r\n        *[Other] Masofaviy mashg'ulotni rejalashtirish uchun xizmat nomini bosing:\r\n    }\r\nsystems-popup_instruction-1 = \r\n    {$schoolType ->\r\n        [Regular] Dars uchun onlayn konferentsiya tashkil etiladi.\r\n        *[Other] Mashg'ilot uchun onlayn konferentsiya tashkil etiladi.\r\n    } \r\nsystems-popup_instruction-2 =\r\n    {$schoolType ->\r\n        [Regular] Onlayn konferentsiya havolasi dars tavsifida saqlanadi va sizga va sinf o'quvchilariga ko'rinadi.\r\n        *[Other] Onlayn konferentsiya havolasi mashg'ulot tavsifida saqlanadi, sizga va guruh o'quvchilariga ko'rinadi.\r\n    }\r\nsystems-popup_instruction-3 =\r\n    {$schoolType ->\r\n        [Regular] Dars o'tkaziladigan kunda o'qishni boshlash uchun havola orqali o'ting.\r\n        *[Other] Dars o'tkaziladigan kunda o'qishni boshlash uchun havola orqali o'ting.\r\n    }\r\n"},732:function(e,t,n){e.exports={help:"_1Hf91",help_18:"_3VfdM _1Hf91",help_22:"_3jQBB _1Hf91"}},733:function(e,t,n){e.exports={text:"_296Lw"}},734:function(e,t,n){e.exports={blueButton:"_19vf6"}},736:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(15),i=(n(731),n(155)),s=n(609),c=n(528),u=n.n(c),l=n(129),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleSystemClick=function(){var e=r.props,t=(e.lessonId,e.system),n=(e.closePopup,e.onSystemItemClick);Object(l.a)("clickplanpopup",t.page,t.name),"Zoom"!==t.name&&"Sferum"!==t.name&&"MsTeams"!==t.name||n(t)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"render",value:function(){var e=this.props.system;return a.a.createElement("div",{className:u.a.button},a.a.createElement("div",{className:u.a[e.name.toLowerCase()],onClick:this.handleSystemClick}),a.a.createElement("div",{className:u.a.help_container},a.a.createElement(s.a,{helpLink:e.helpLink,cssClass:"help_22",onClick:function(){return Object(l.a)("clickhintpopup",e.page,e.name)}})))}}]),t}(r.Component),h=n(462),v=n.n(h);function y(e){var t=Object(o.d)().l10n,n=e.onClose,r=e.schoolType;return a.a.createElement(i.a,{title:t.getString("systems-popup_title",{schoolType:r}),onClose:n},a.a.createElement("div",{className:v.a.container},a.a.createElement("div",{className:v.a.instruction},a.a.createElement("div",null,t.getString("systems-popup_instruction-title",{schoolType:r})),a.a.createElement("ul",{className:v.a.list},a.a.createElement("li",null,t.getString("systems-popup_instruction-1",{schoolType:r})),a.a.createElement("li",null,t.getString("systems-popup_instruction-2",{schoolType:r})),a.a.createElement("li",null,t.getString("systems-popup_instruction-3",{schoolType:r})))),a.a.createElement("div",{className:v.a.buttons},function(){var t=e.systems,n=e.lessonId,r=e.onClose,o=e.onSystemItemClick,i=[];return null==t?"":(t.forEach((function(e,t){i.push(a.a.createElement(m,{system:e,lessonId:n,onSystemItemClick:o,closePopup:r,key:t}))})),i)}())))}var b=n(733),g=n.n(b),_=n(337),w=n(221),E=n.n(w),O=n(14),T=n(9),k=n(410);function S(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var j=new T.a(window.__VIDEO_LESSONS_INITIAL_STATE__&&window.__VIDEO_LESSONS_INITIAL_STATE__.apiUrl,"include",{simple:!0}),x=window.__VIDEO_LESSONS_INITIAL_STATE__&&window.__VIDEO_LESSONS_INITIAL_STATE__.apiToken,C=new(function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,j));return r.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},r.getUploadStatus=function(e){return r.get("/gettaskstatus",{tid:e})},r.startPolling=(n=S(regeneratorRuntime.mark((function t(n,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r.getUploadStatus(n);case 3:if((o=e.sent).taskStatus!==k.a.TASK_STATUS_COMPLETED){e.next=8;break}return e.abrupt("return",a(n));case 8:if(o.taskStatus!==k.a.TASK_STATUS_ERROR&&o.taskStatus!==k.a.TASK_STATUS_EXPIRED){e.next=10;break}return e.abrupt("return",{error:o.error});case 10:return e.next=12,r.sleep(1e3);case 12:e.next=0;break;case 14:case"end":return e.stop()}}),t,e)}))),function(e,t){return n.apply(this,arguments)}),r.getMailboxNamesResult=function(e){return r.get("/user/mailbox",{a:"getmailboxnamesresult",tid:e,mbn:"",pswd:""})},r.getMailboxNames=S(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/user/mailbox",{a:"buildmailboxnames"});case 2:return n=e.sent,e.next=5,r.startPolling(n.taskID,r.getMailboxNamesResult);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),t,e)}))),r.getCreateMailboxResult=function(e){return r.get("/user/mailbox",{a:"getcreatemailboxresult",tid:e,xss:x})},r.createMailbox=S(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMailboxNames();case 2:if((n=e.sent).mailboxes||0!==n.mailboxes.length){e.next=5;break}return e.abrupt("return",{error:"error"});case 5:return e.next=7,r.get("/user/mailbox",{a:"createmailbox",mbn:n.mailboxes[0],pswd:"",xss:x});case 7:return a=e.sent,e.next=10,r.startPolling(a.taskID,r.getCreateMailboxResult);case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),t,e)}))),r.createZoomMeeting=function(e){return r.get("/zoom/meeting/create",e)},r.createSferumMeeting=function(e){return r.post("/sferum/meeting/create?lessonId="+e,{})},r.createTeamsMeeting=function(e){return r.post("/teams/create?lessonId="+e,{})},r.getCreateTeamsMeetingResult=function(e){return r.get("/teams/getcreated",{tid:e})},r.getCreatedMeetingUrl=function(e){return r.startPolling(e,r.getCreateTeamsMeetingResult)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(O.a)),R=n(115),I=n(322);var P=function(e){var t=e.onClose,n=e.onSuccess,s=e.schoolType,c=Object(o.d)().l10n,u=Object(R.a)(C.createMailbox,!1,t,n),l=u.execute,f=u.isPending;return a.a.createElement(i.a,{title:c.getString("teams_create-mail-title",{schoolType:s}),onClose:t},f?a.a.createElement(I.a,null):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:g.a.text},c.getString("teams_create-mail-text")),a.a.createElement("div",{className:E.a.buttons},a.a.createElement(_.a,{onClick:t,className:E.a.whiteButton},c.getString("teams_create-mail-cancel")),a.a.createElement(_.a,{onClick:function(){l()},className:E.a.blueButton},c.getString("teams_create-mail-continue")))))},N=n(610),A=n(734),U=n.n(A);var M=Object(r.memo)((function(e){var t=e.onClose,n=e.message,r=Object(o.d)().l10n;return a.a.createElement(i.a,{onClose:t},a.a.createElement(N.a,{message:n}),a.a.createElement("button",{className:U.a.blueButton,onClick:t},r.getString("error_close")))})),L=n(629),D=n.n(L),B={RESULT_STATUS_COMPLETED:0,RESULT_STATUS_AUTH_REQUIRED:1,RESULT_STATUS_ERROR:2},q=n(445),z=n(35),H=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),H(t,[{key:"componentDidMount",value:function(){document.getElementById(this.props.containerId).appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.getElementById(this.props.containerId).removeChild(this.el)}},{key:"render",value:function(){return Object(z.createPortal)(this.props.children,this.el)}}]),t}(a.a.Component),K=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var V=void 0,Z=void 0,W=Object(q.a)().systems,F=function(e){V&&!V.closed||(!(V=window.open("","oauthWindow","width=500,height=500"))||V.closed?Object(l.a)("popupblocked",e.page,e.name):V.document.body.innerHTML='<div style="font-size:18px;padding:80px;text-align:center;font-family:Open Sans">'+e.popupText+'</div ><div style="display: flex;"><img style="margin: auto;" src="'+e.loaderUrl+'" alt="loader" /></div>')},G=function(){V&&(V.close(),V=null)};t.a=function(e){var t,n,i=this,s=Object(o.d)().l10n,c=e.currentLesson,u=e.onCreate,f=e.children,p=e.schoolType,d=e.popupsContainerId,m=Object(r.useState)(null),h=K(m,2),v=h[0],b=h[1],g=Object(r.useState)(!1),_=K(g,2),w=_[0],E=_[1],O=Object(r.useState)(!1),T=K(O,2),k=T[0],S=T[1],j=function(e,t){u(t),Object(l.a)("getlink",e.page,e.name)},x=function(e,t,n){b(t||s.getString("error_try-again")),G(),Object(l.a)("addmeetingerror",e.page,e.name),n&&Object(l.a)(n,e.page,e.name)},R=function e(t,n,r){var a="MsTeams"===t.name;r||F(t),(a?C.createTeamsMeeting:C.createSferumMeeting)(n).then((function(a){if(a.authUrl){if(r)return Object(l.a)("autherror",t.page,t.name),void x(t);V.location.href=a.authUrl;var o=window.setInterval((function(){V&&!V.closed||window.clearInterval(o),V&&V.closed&&e(t,n,!0)}),1e3)}else a.joinWebUrl?(G(),j(t,a.joinWebUrl)):a.taskId?(G(),C.getCreatedMeetingUrl(a.taskId).then((function(e){return j(t,e.joinWebUrl)}))):x(t,a.error,a.errorType)}),(function(){return x(t)}))},I=(t=regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.lessonId,o=n.topic,C.createZoomMeeting({lessonId:a,topic:o}).then((function(e){return t.hasAuthorizeToken||e.status!==B.RESULT_STATUS_AUTH_REQUIRED||N(e.authUrl),e.status==B.RESULT_STATUS_COMPLETED?(Z&&(Z.close(),Z=null),j(t,e.meetingUrl),e):e.status==B.RESULT_STATUS_ERROR||null==Z||!0===Z.closed?(x(t),!1):void C.sleep(500).then((function(){I(t,n,r)}))}));case 2:case"end":return e.stop()}}),e,i)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e,t,r){return n.apply(this,arguments)}),N=function(e){if(e&&e&&(!Z||Z&&!0===Z.closed)){var t=window.open("","oauthWindow","width=500,height=500");t&&(t.location.href=e,Z=t)}},A=function(e){"Zoom"===e.name?I(e,c,!1):"Sferum"===e.name?function(e){R(e,c.lessonId)}(e):"MsTeams"===e.name&&function(e){e.hasMailBox?R(e,c.lessonId):(Object(l.a)("addmail",e.page,e.name),F(e),E(!0)),Object(l.a)("clickplan",e.page,e&&e.name)}(e)},U=a.a.createElement(r.Fragment,null,k&&a.a.createElement(y,{systems:W,lessonId:c.lessonId,onSystemItemClick:A,onClose:function(){return S(!1)},schoolType:p}),v&&a.a.createElement(M,{onClose:function(){return b(null)},message:v}),w&&a.a.createElement(P,{onClose:function(){E(!1);var e=W&&W.length?W[0].page:"notset";Object(l.a)("closemail",e)},onSuccess:function(e){var t=W.find((function(e){return"MsTeams"===e.name}));E(!1),e&&e.error?x(t):R(t,c.lessonId)},schoolType:p}));return a.a.createElement("div",{className:D.a.container,"data-planned":"false"},d?a.a.createElement($,{containerId:d},U):U,a.a.createElement("div",{className:D.a.button,"data-planned":"false",onClick:function(){var e=W&&W.length?W[0].page:"notset",t=W&&1===W.length?W[0]:null;if(Object(l.a)("clickplan",e,t&&t.name),!t)return S(!0),void Object(l.a)("viewplanpopup",e);A(t)}},f))}},85:function(e,t,n){window._babelPolyfill||n(187)},86:function(e,t,n){"use strict";n.r(t);var r={NpoSpo:"npo",Odo:"odo",Dod:"dod"};window.__=function(e){var t=window.dnevnik&&window.dnevnik.localizationSchoolType;if(t){var n=void 0;switch(t){case r.Dod:if(n=window.localization[r.Dod+"_"+e])return n;case r.Odo:if(n=window.localization[r.Odo+"_"+e])return n;case r.NpoSpo:if(n=window.localization[r.NpoSpo+"_"+e])return n}}var a=window.localization[e];return""===a||a?a:e}},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(39),a=n(13),o=n(53),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"same-origin",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simple:!1};c(this,e),this.get=function(t,r){return e.call(n.request.get,""+n.apiUrl+t,r)},this.post=function(t,r){return e.call(n.request.post,""+n.apiUrl+t,r)},this.apiUrl=t,this.request=new r.a(a,o),this.reloginRequest=new r.a(a,{simple:!0})}var t,n;return i(e,null,[{key:"relogin",value:(n=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.dnevnik&&window.dnevnik.auth&&window.dnevnik.auth.update&&window.dnevnik.auth.update(t)}catch(e){}case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"call",value:(t=s(regeneratorRuntime.mark((function t(n,r,o){var i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.call(null,r,o);case 2:if(i=t.sent,t.prev=3,401!==i.status){t.next=10;break}return t.next=7,Promise.race([new Promise((function(t,n){return e.relogin(t)})),new Promise((function(e,t){return setTimeout(t,2e3)}))]).then((function(){return n.call(null,r,o)}),(function(){return i}));case 7:if(401!==(i=t.sent).status){t.next=10;break}throw new a.a({message:"Unauthorized",errorCode:i.statusText},401);case 10:if(204!==i.status){t.next=12;break}return t.abrupt("return",null);case 12:return t.next=14,i.json();case 14:if(!(s=t.sent).responseStatus){t.next=17;break}throw new a.c(s.responseStatus,i.status);case 17:if(!(i.status<200||i.status>=300)){t.next=19;break}throw new a.a(s,i.status);case 19:return t.abrupt("return",s);case 22:if(t.prev=22,t.t0=t.catch(3),!(t.t0 instanceof SyntaxError)){t.next=26;break}throw new a.a({message:"Parsing response error",errorCode:"SyntaxError"},i.status);case 26:if(!(t.t0 instanceof TypeError)){t.next=28;break}throw new a.a({message:"Network error",errorCode:"TypeError"},i.status);case 28:throw t.t0;case 29:case"end":return t.stop()}}),t,this,[[3,22]])}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),l=new u(o.a.apiUrl)}});
//# sourceMappingURL=video_lessons.js.map